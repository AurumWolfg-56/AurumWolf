(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Bb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Zw(){if(og)return ml;og=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:u}}return ml.Fragment=n,ml.jsx=a,ml.jsxs=a,ml}var cg;function Kw(){return cg||(cg=1,Xd.exports=Zw()),Xd.exports}var s=Kw(),Qd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Jw(){if(ug)return Ce;ug=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(E,P,Y){this.props=E,this.context=P,this.refs=j,this.updater=Y||w}A.prototype.isReactComponent={},A.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function S(){}S.prototype=A.prototype;function O(E,P,Y){this.props=E,this.context=P,this.refs=j,this.updater=Y||w}var I=O.prototype=new S;I.constructor=O,N(I,A.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function z(){}var C={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function H(E,P,Y){var G=Y.ref;return{$$typeof:e,type:E,key:P,ref:G!==void 0?G:null,props:Y}}function Z(E,P){return H(E.type,P,E.props)}function ae(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function pe(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return P[Y]})}var ce=/\/+/g;function ue(E,P){return typeof E=="object"&&E!==null&&E.key!=null?pe(""+E.key):P.toString(36)}function me(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(z,z):(E.status="pending",E.then(function(P){E.status==="pending"&&(E.status="fulfilled",E.value=P)},function(P){E.status==="pending"&&(E.status="rejected",E.reason=P)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,P,Y,G,te){var X=typeof E;(X==="undefined"||X==="boolean")&&(E=null);var L=!1;if(E===null)L=!0;else switch(X){case"bigint":case"string":case"number":L=!0;break;case"object":switch(E.$$typeof){case e:case n:L=!0;break;case x:return L=E._init,U(L(E._payload),P,Y,G,te)}}if(L)return te=te(E),L=G===""?"."+ue(E,0):G,D(te)?(Y="",L!=null&&(Y=L.replace(ce,"$&/")+"/"),U(te,P,Y,"",function(he){return he})):te!=null&&(ae(te)&&(te=Z(te,Y+(te.key==null||E&&E.key===te.key?"":(""+te.key).replace(ce,"$&/")+"/")+L)),P.push(te)),1;L=0;var Q=G===""?".":G+":";if(D(E))for(var fe=0;fe<E.length;fe++)G=E[fe],X=Q+ue(G,fe),L+=U(G,P,Y,X,te);else if(fe=_(E),typeof fe=="function")for(E=fe.call(E),fe=0;!(G=E.next()).done;)G=G.value,X=Q+ue(G,fe++),L+=U(G,P,Y,X,te);else if(X==="object"){if(typeof E.then=="function")return U(me(E),P,Y,G,te);throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return L}function B(E,P,Y){if(E==null)return E;var G=[],te=0;return U(E,G,"","",function(X){return P.call(Y,X,te++)}),G}function ne(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var de=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},oe={map:B,forEach:function(E,P,Y){B(E,function(){P.apply(this,arguments)},Y)},count:function(E){var P=0;return B(E,function(){P++}),P},toArray:function(E){return B(E,function(P){return P})||[]},only:function(E){if(!ae(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ce.Activity=b,Ce.Children=oe,Ce.Component=A,Ce.Fragment=a,Ce.Profiler=o,Ce.PureComponent=O,Ce.StrictMode=i,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return C.H.useMemoCache(E)}},Ce.cache=function(E){return function(){return E.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(E,P,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var G=N({},E.props),te=E.key;if(P!=null)for(X in P.key!==void 0&&(te=""+P.key),P)!$.call(P,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&P.ref===void 0||(G[X]=P[X]);var X=arguments.length-2;if(X===1)G.children=Y;else if(1<X){for(var L=Array(X),Q=0;Q<X;Q++)L[Q]=arguments[Q+2];G.children=L}return H(E.type,te,G)},Ce.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Ce.createElement=function(E,P,Y){var G,te={},X=null;if(P!=null)for(G in P.key!==void 0&&(X=""+P.key),P)$.call(P,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(te[G]=P[G]);var L=arguments.length-2;if(L===1)te.children=Y;else if(1<L){for(var Q=Array(L),fe=0;fe<L;fe++)Q[fe]=arguments[fe+2];te.children=Q}if(E&&E.defaultProps)for(G in L=E.defaultProps,L)te[G]===void 0&&(te[G]=L[G]);return H(E,X,te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(E){return{$$typeof:f,render:E}},Ce.isValidElement=ae,Ce.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:ne}},Ce.memo=function(E,P){return{$$typeof:g,type:E,compare:P===void 0?null:P}},Ce.startTransition=function(E){var P=C.T,Y={};C.T=Y;try{var G=E(),te=C.S;te!==null&&te(Y,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(z,de)}catch(X){de(X)}finally{P!==null&&Y.types!==null&&(P.types=Y.types),C.T=P}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(E){return C.H.use(E)},Ce.useActionState=function(E,P,Y){return C.H.useActionState(E,P,Y)},Ce.useCallback=function(E,P){return C.H.useCallback(E,P)},Ce.useContext=function(E){return C.H.useContext(E)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(E,P){return C.H.useDeferredValue(E,P)},Ce.useEffect=function(E,P){return C.H.useEffect(E,P)},Ce.useEffectEvent=function(E){return C.H.useEffectEvent(E)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(E,P,Y){return C.H.useImperativeHandle(E,P,Y)},Ce.useInsertionEffect=function(E,P){return C.H.useInsertionEffect(E,P)},Ce.useLayoutEffect=function(E,P){return C.H.useLayoutEffect(E,P)},Ce.useMemo=function(E,P){return C.H.useMemo(E,P)},Ce.useOptimistic=function(E,P){return C.H.useOptimistic(E,P)},Ce.useReducer=function(E,P,Y){return C.H.useReducer(E,P,Y)},Ce.useRef=function(E){return C.H.useRef(E)},Ce.useState=function(E){return C.H.useState(E)},Ce.useSyncExternalStore=function(E,P,Y){return C.H.useSyncExternalStore(E,P,Y)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.3",Ce}var dg;function Gh(){return dg||(dg=1,Qd.exports=Jw()),Qd.exports}var T=Gh();const Vh=Bb(T);var Wd={exports:{}},pl={},eh={exports:{}},th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Xw(){return hg||(hg=1,(function(e){function n(U,B){var ne=U.length;U.push(B);e:for(;0<ne;){var de=ne-1>>>1,oe=U[de];if(0<o(oe,B))U[de]=B,U[ne]=oe,ne=de;else break e}}function a(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var B=U[0],ne=U.pop();if(ne!==B){U[0]=ne;e:for(var de=0,oe=U.length,E=oe>>>1;de<E;){var P=2*(de+1)-1,Y=U[P],G=P+1,te=U[G];if(0>o(Y,ne))G<oe&&0>o(te,Y)?(U[de]=te,U[G]=ne,de=G):(U[de]=Y,U[P]=ne,de=P);else if(G<oe&&0>o(te,ne))U[de]=te,U[G]=ne,de=G;else break e}}return B}function o(U,B){var ne=U.sortIndex-B.sortIndex;return ne!==0?ne:U.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],g=[],x=1,b=null,y=3,_=!1,w=!1,N=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function I(U){for(var B=a(g);B!==null;){if(B.callback===null)i(g);else if(B.startTime<=U)i(g),B.sortIndex=B.expirationTime,n(p,B);else break;B=a(g)}}function D(U){if(N=!1,I(U),!w)if(a(p)!==null)w=!0,z||(z=!0,pe());else{var B=a(g);B!==null&&me(D,B.startTime-U)}}var z=!1,C=-1,$=5,H=-1;function Z(){return j?!0:!(e.unstable_now()-H<$)}function ae(){if(j=!1,z){var U=e.unstable_now();H=U;var B=!0;try{e:{w=!1,N&&(N=!1,S(C),C=-1),_=!0;var ne=y;try{t:{for(I(U),b=a(p);b!==null&&!(b.expirationTime>U&&Z());){var de=b.callback;if(typeof de=="function"){b.callback=null,y=b.priorityLevel;var oe=de(b.expirationTime<=U);if(U=e.unstable_now(),typeof oe=="function"){b.callback=oe,I(U),B=!0;break t}b===a(p)&&i(p),I(U)}else i(p);b=a(p)}if(b!==null)B=!0;else{var E=a(g);E!==null&&me(D,E.startTime-U),B=!1}}break e}finally{b=null,y=ne,_=!1}B=void 0}}finally{B?pe():z=!1}}}var pe;if(typeof O=="function")pe=function(){O(ae)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ue=ce.port2;ce.port1.onmessage=ae,pe=function(){ue.postMessage(null)}}else pe=function(){A(ae,0)};function me(U,B){C=A(function(){U(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var ne=y;y=B;try{return U()}finally{y=ne}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=y;y=U;try{return B()}finally{y=ne}},e.unstable_scheduleCallback=function(U,B,ne){var de=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,U={id:x++,callback:B,priorityLevel:U,startTime:ne,expirationTime:oe,sortIndex:-1},ne>de?(U.sortIndex=ne,n(g,U),a(p)===null&&U===a(g)&&(N?(S(C),C=-1):N=!0,me(D,ne-de))):(U.sortIndex=oe,n(p,U),w||_||(w=!0,z||(z=!0,pe()))),U},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(U){var B=y;return function(){var ne=y;y=B;try{return U.apply(this,arguments)}finally{y=ne}}}})(th)),th}var fg;function Qw(){return fg||(fg=1,eh.exports=Xw()),eh.exports}var nh={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Ww(){if(mg)return tn;mg=1;var e=Gh();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(p,g,null,x)},tn.flushSync=function(p){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=x,i.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):x==="script"&&i.d.X(p,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=f(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},tn.requestFormReset=function(p){i.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var pg;function e_(){if(pg)return nh.exports;pg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),nh.exports=Ww(),nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function t_(){if(gg)return pl;gg=1;var e=Qw(),n=Gh(),a=e_();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(i(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var l=t,c=r;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return p(h),t;if(m===c)return p(h),r;m=m.sibling}throw Error(i(188))}if(l.return!==c.return)l=h,c=m;else{for(var v=!1,k=h.child;k;){if(k===l){v=!0,l=h,c=m;break}if(k===c){v=!0,c=h,l=m;break}k=k.sibling}if(!v){for(k=m.child;k;){if(k===l){v=!0,l=m,c=h;break}if(k===c){v=!0,c=m,l=h;break}k=k.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:r}function x(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=x(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList";case H:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case O:return t.displayName||"Context";case S:return(t._context.displayName||"Context")+".Consumer";case I:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:ue(t.type)||"Memo";case $:r=t._payload,t=t._init;try{return ue(t(r))}catch{}}return null}var me=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],oe=-1;function E(t){return{current:t}}function P(t){0>oe||(t.current=de[oe],de[oe]=null,oe--)}function Y(t,r){oe++,de[oe]=t.current,t.current=r}var G=E(null),te=E(null),X=E(null),L=E(null);function Q(t,r){switch(Y(X,r),Y(te,t),Y(G,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Cp(r),t=Rp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(G),Y(G,t)}function fe(){P(G),P(te),P(X)}function he(t){t.memoizedState!==null&&Y(L,t);var r=G.current,l=Rp(r,t.type);r!==l&&(Y(te,t),Y(G,l))}function ye(t){te.current===t&&(P(G),P(te)),L.current===t&&(P(L),ul._currentValue=ne)}var ge,_e;function Re(t){if(ge===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ge=r&&r[1]||"",_e=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+t+_e}var He=!1;function et(t,r){if(!t||He)return"";He=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var K=J}Reflect.construct(t,[],le)}else{try{le.call()}catch(J){K=J}t.call(le.prototype)}}else{try{throw Error()}catch(J){K=J}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),v=m[0],k=m[1];if(v&&k){var R=v.split(`
`),F=k.split(`
`);for(h=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(c===R.length||h===F.length)for(c=R.length-1,h=F.length-1;1<=c&&0<=h&&R[c]!==F[h];)h--;for(;1<=c&&0<=h;c--,h--)if(R[c]!==F[h]){if(c!==1||h!==1)do if(c--,h--,0>h||R[c]!==F[h]){var re=`
`+R[c].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=c&&0<=h);break}}}finally{He=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Re(l):""}function Wt(t,r){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==r&&r!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return et(t.type,!1);case 11:return et(t.type.render,!1);case 1:return et(t.type,!0);case 31:return Re("Activity");default:return""}}function ct(t){try{var r="",l=null;do r+=Wt(t,l),l=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var en=Object.prototype.hasOwnProperty,rt=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,nn=e.unstable_shouldYield,Qa=e.unstable_requestPaint,Lt=e.unstable_now,yt=e.unstable_getCurrentPriorityLevel,Lr=e.unstable_ImmediatePriority,Wa=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,es=e.unstable_LowPriority,ts=e.unstable_IdlePriority,ns=e.log,nr=e.unstable_setDisableYieldValue,dr=null,Ht=null;function Rn(t){if(typeof ns=="function"&&nr(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(dr,t)}catch{}}var ut=Math.clz32?Math.clz32:kt,rs=Math.log,dt=Math.LN2;function kt(t){return t>>>=0,t===0?32:31-(rs(t)/dt|0)|0}var Pe=256,W=262144,Se=4194304;function Ue(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ht(t,r,l){var c=t.pendingLanes;if(c===0)return 0;var h=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var k=c&134217727;return k!==0?(c=k&~m,c!==0?h=Ue(c):(v&=k,v!==0?h=Ue(v):l||(l=k&~t,l!==0&&(h=Ue(l))))):(k=c&~m,k!==0?h=Ue(k):v!==0?h=Ue(v):l||(l=c&~t,l!==0&&(h=Ue(l)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,l=r&-r,m>=l||m===32&&(l&4194048)!==0)?r:h}function Dn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function as(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var t=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),t}function ba(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function yn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function m0(t,r,l,c,h,m){var v=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var k=t.entanglements,R=t.expirationTimes,F=t.hiddenUpdates;for(l=v&~l;0<l;){var re=31-ut(l),le=1<<re;k[re]=0,R[re]=-1;var K=F[re];if(K!==null)for(F[re]=null,re=0;re<K.length;re++){var J=K[re];J!==null&&(J.lane&=-536870913)}l&=~le}c!==0&&ss(t,c,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~r))}function ss(t,r,l){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-ut(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function ji(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var c=31-ut(l),h=1<<c;h&r|t[c]&r&&(t[c]|=r),l&=~h}}function hr(t,r){var l=r&-r;return l=(l&42)!==0?1:Bc(l),(l&(t.suspendedLanes|r))!==0?0:l}function Bc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function p0(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:tg(t.type))}function g0(t,r){var l=B.p;try{return B.p=t,r()}finally{B.p=l}}var $r=Math.random().toString(36).slice(2),qt="__reactFiber$"+$r,un="__reactProps$"+$r,is="__reactContainer$"+$r,Hc="__reactEvents$"+$r,Uv="__reactListeners$"+$r,Lv="__reactHandles$"+$r,x0="__reactResources$"+$r,ki="__reactMarker$"+$r;function qc(t){delete t[qt],delete t[un],delete t[Hc],delete t[Uv],delete t[Lv]}function ls(t){var r=t[qt];if(r)return r;for(var l=t.parentNode;l;){if(r=l[is]||l[qt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=$p(t);t!==null;){if(l=t[qt])return l;t=$p(t)}return r}t=l,l=t.parentNode}return null}function os(t){if(t=t[qt]||t[is]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Si(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function cs(t){var r=t[x0];return r||(r=t[x0]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(t){t[ki]=!0}var b0=new Set,y0={};function ya(t,r){us(t,r),us(t+"Capture",r)}function us(t,r){for(y0[t]=r,t=0;t<r.length;t++)b0.add(r[t])}var $v=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v0={},w0={};function Bv(t){return en.call(w0,t)?!0:en.call(v0,t)?!1:$v.test(t)?w0[t]=!0:(v0[t]=!0,!1)}function Hl(t,r,l){if(Bv(r))if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+l)}}function ql(t,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+l)}}function fr(t,r,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(r,l,""+c)}}function zn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _0(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pv(t,r,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Gc(t){if(!t._valueTracker){var r=_0(t)?"checked":"value";t._valueTracker=Pv(t,r,""+t[r])}}function N0(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return t&&(c=_0(t)?t.checked?"true":"false":t.value),t=c,t!==l?(r.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hv=/[\n"\\]/g;function In(t){return t.replace(Hv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vc(t,r,l,c,h,m,v,k){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zn(r)):t.value!==""+zn(r)&&(t.value=""+zn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Fc(t,v,zn(r)):l!=null?Fc(t,v,zn(l)):c!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+zn(k):t.removeAttribute("name")}function j0(t,r,l,c,h,m,v,k){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Gc(t);return}l=l!=null?""+zn(l):"",r=r!=null?""+zn(r):l,k||r===t.value||(t.value=r),t.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=k?t.checked:!!c,t.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Gc(t)}function Fc(t,r,l){r==="number"&&Gl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ds(t,r,l,c){if(t=t.options,r){r={};for(var h=0;h<l.length;h++)r["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=r.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&c&&(t[l].defaultSelected=!0)}else{for(l=""+zn(l),r=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function k0(t,r,l){if(r!=null&&(r=""+zn(r),r!==t.value&&(t.value=r),l==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=l!=null?""+zn(l):""}function S0(t,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=zn(r),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),Gc(t)}function hs(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var qv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E0(t,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,l):typeof l!="number"||l===0||qv.has(r)?r==="float"?t.cssFloat=l:t[r]=(""+l).trim():t[r]=l+"px"}function T0(t,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&l[h]!==c&&E0(t,h,c)}else for(var m in r)r.hasOwnProperty(m)&&E0(t,m,r[m])}function Yc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(t){return Vv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mr(){}var Zc=null;function Kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,ms=null;function A0(t){var r=os(t);if(r&&(t=r.stateNode)){var l=t[un]||null;e:switch(t=r.stateNode,r.type){case"input":if(Vc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+In(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==t&&c.form===t.form){var h=c[un]||null;if(!h)throw Error(i(90));Vc(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===t.form&&N0(c)}break e;case"textarea":k0(t,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&ds(t,!!l.multiple,r,!1)}}}var Jc=!1;function O0(t,r,l){if(Jc)return t(r,l);Jc=!0;try{var c=t(r);return c}finally{if(Jc=!1,(fs!==null||ms!==null)&&(Do(),fs&&(r=fs,t=ms,ms=fs=null,A0(r),t)))for(r=0;r<t.length;r++)A0(t[r])}}function Ei(t,r){var l=t.stateNode;if(l===null)return null;var c=l[un]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(pr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Xc=!1}var Br=null,Qc=null,Fl=null;function C0(){if(Fl)return Fl;var t,r=Qc,l=r.length,c,h="value"in Br?Br.value:Br.textContent,m=h.length;for(t=0;t<l&&r[t]===h[t];t++);var v=l-t;for(c=1;c<=v&&r[l-c]===h[m-c];c++);return Fl=h.slice(t,1<c?1-c:void 0)}function Yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function R0(){return!1}function dn(t){function r(l,c,h,m,v){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(l=t[k],this[k]=l?l(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zl:R0,this.isPropagationStopped=R0,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),r}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=dn(va),Ai=b({},va,{view:0,detail:0}),Fv=dn(Ai),Wc,eu,Oi,Jl=b({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Wc=t.screenX-Oi.screenX,eu=t.screenY-Oi.screenY):eu=Wc=0,Oi=t),Wc)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),D0=dn(Jl),Yv=b({},Jl,{dataTransfer:0}),Zv=dn(Yv),Kv=b({},Ai,{relatedTarget:0}),tu=dn(Kv),Jv=b({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),Xv=dn(Jv),Qv=b({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wv=dn(Qv),e1=b({},va,{data:0}),z0=dn(e1),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=r1[t])?!!r[t]:!1}function nu(){return a1}var s1=b({},Ai,{key:function(t){if(t.key){var r=t1[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i1=dn(s1),l1=b({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=dn(l1),o1=b({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),c1=dn(o1),u1=b({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=dn(u1),h1=b({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f1=dn(h1),m1=b({},va,{newState:0,oldState:0}),p1=dn(m1),g1=[9,13,27,32],ru=pr&&"CompositionEvent"in window,Ci=null;pr&&"documentMode"in document&&(Ci=document.documentMode);var x1=pr&&"TextEvent"in window&&!Ci,M0=pr&&(!ru||Ci&&8<Ci&&11>=Ci),U0=" ",L0=!1;function $0(t,r){switch(t){case"keyup":return g1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function b1(t,r){switch(t){case"compositionend":return B0(r);case"keypress":return r.which!==32?null:(L0=!0,U0);case"textInput":return t=r.data,t===U0&&L0?null:t;default:return null}}function y1(t,r){if(ps)return t==="compositionend"||!ru&&$0(t,r)?(t=C0(),Fl=Qc=Br=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return M0&&r.locale!=="ko"?null:r.data;default:return null}}var v1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!v1[t.type]:r==="textarea"}function H0(t,r,l,c){fs?ms?ms.push(c):ms=[c]:fs=c,r=Bo(r,"onChange"),0<r.length&&(l=new Kl("onChange","change",null,l,c),t.push({event:l,listeners:r}))}var Ri=null,Di=null;function w1(t){kp(t,0)}function Xl(t){var r=Si(t);if(N0(r))return t}function q0(t,r){if(t==="change")return r}var G0=!1;if(pr){var au;if(pr){var su="oninput"in document;if(!su){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),su=typeof V0.oninput=="function"}au=su}else au=!1;G0=au&&(!document.documentMode||9<document.documentMode)}function F0(){Ri&&(Ri.detachEvent("onpropertychange",Y0),Di=Ri=null)}function Y0(t){if(t.propertyName==="value"&&Xl(Di)){var r=[];H0(r,Di,t,Kc(t)),O0(w1,r)}}function _1(t,r,l){t==="focusin"?(F0(),Ri=r,Di=l,Ri.attachEvent("onpropertychange",Y0)):t==="focusout"&&F0()}function N1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xl(Di)}function j1(t,r){if(t==="click")return Xl(r)}function k1(t,r){if(t==="input"||t==="change")return Xl(r)}function S1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:S1;function zi(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!en.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K0(t,r){var l=Z0(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=r&&c>=r)return{node:l,offset:r-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z0(l)}}function J0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?J0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function X0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Gl(t.document);r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=Gl(t.document)}return r}function iu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var E1=pr&&"documentMode"in document&&11>=document.documentMode,gs=null,lu=null,Ii=null,ou=!1;function Q0(t,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ou||gs==null||gs!==Gl(c)||(c=gs,"selectionStart"in c&&iu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ii&&zi(Ii,c)||(Ii=c,c=Bo(lu,"onSelect"),0<c.length&&(r=new Kl("onSelect","select",null,r,l),t.push({event:r,listeners:c}),r.target=gs)))}function wa(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var xs={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},cu={},W0={};pr&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function _a(t){if(cu[t])return cu[t];if(!xs[t])return t;var r=xs[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in W0)return cu[t]=r[l];return t}var ef=_a("animationend"),tf=_a("animationiteration"),nf=_a("animationstart"),T1=_a("transitionrun"),A1=_a("transitionstart"),O1=_a("transitioncancel"),rf=_a("transitionend"),af=new Map,uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uu.push("scrollEnd");function Kn(t,r){af.set(t,r),ya(r,[t])}var Ql=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],bs=0,du=0;function Wl(){for(var t=bs,r=du=bs=0;r<t;){var l=Mn[r];Mn[r++]=null;var c=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var m=Mn[r];if(Mn[r++]=null,c!==null&&h!==null){var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}m!==0&&sf(l,h,m)}}function eo(t,r,l,c){Mn[bs++]=t,Mn[bs++]=r,Mn[bs++]=l,Mn[bs++]=c,du|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function hu(t,r,l,c){return eo(t,r,l,c),to(t)}function Na(t,r){return eo(t,null,null,r),to(t)}function sf(t,r,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var h=!1,m=t.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-ut(l),t=m.hiddenUpdates,c=t[h],c===null?t[h]=[r]:c.push(r),r.lane=l|536870912),m):null}function to(t){if(50<rl)throw rl=0,wd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ys={};function C1(t,r,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,l,c){return new C1(t,r,l,c)}function fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gr(t,r){var l=t.alternate;return l===null?(l=wn(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function lf(t,r){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,r=l.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function no(t,r,l,c,h,m){var v=0;if(c=t,typeof t=="function")fu(t)&&(v=1);else if(typeof t=="string")v=Mw(t,l,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case H:return t=wn(31,l,r,h),t.elementType=H,t.lanes=m,t;case N:return ja(l.children,h,m,r);case j:v=8,h|=24;break;case A:return t=wn(12,l,r,h|2),t.elementType=A,t.lanes=m,t;case D:return t=wn(13,l,r,h),t.elementType=D,t.lanes=m,t;case z:return t=wn(19,l,r,h),t.elementType=z,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:v=10;break e;case S:v=9;break e;case I:v=11;break e;case C:v=14;break e;case $:v=16,c=null;break e}v=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return r=wn(v,l,r,h),r.elementType=t,r.type=c,r.lanes=m,r}function ja(t,r,l,c){return t=wn(7,t,c,r),t.lanes=l,t}function mu(t,r,l){return t=wn(6,t,null,r),t.lanes=l,t}function of(t){var r=wn(18,null,null,0);return r.stateNode=t,r}function pu(t,r,l){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var cf=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var l=cf.get(t);return l!==void 0?l:(r={value:t,source:r,stack:ct(r)},cf.set(t,r),r)}return{value:t,source:r,stack:ct(r)}}var vs=[],ws=0,ro=null,Mi=0,Ln=[],$n=0,Pr=null,rr=1,ar="";function xr(t,r){vs[ws++]=Mi,vs[ws++]=ro,ro=t,Mi=r}function uf(t,r,l){Ln[$n++]=rr,Ln[$n++]=ar,Ln[$n++]=Pr,Pr=t;var c=rr;t=ar;var h=32-ut(c)-1;c&=~(1<<h),l+=1;var m=32-ut(r)+h;if(30<m){var v=h-h%5;m=(c&(1<<v)-1).toString(32),c>>=v,h-=v,rr=1<<32-ut(r)+h|l<<h|c,ar=m+t}else rr=1<<m|l<<h|c,ar=t}function gu(t){t.return!==null&&(xr(t,1),uf(t,1,0))}function xu(t){for(;t===ro;)ro=vs[--ws],vs[ws]=null,Mi=vs[--ws],vs[ws]=null;for(;t===Pr;)Pr=Ln[--$n],Ln[$n]=null,ar=Ln[--$n],Ln[$n]=null,rr=Ln[--$n],Ln[$n]=null}function df(t,r){Ln[$n++]=rr,Ln[$n++]=ar,Ln[$n++]=Pr,rr=r.id,ar=r.overflow,Pr=t}var Gt=null,at=null,Be=!1,Hr=null,Bn=!1,bu=Error(i(519));function qr(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ui(Un(r,t)),bu}function hf(t){var r=t.stateNode,l=t.type,c=t.memoizedProps;switch(r[qt]=t,r[un]=c,l){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(l=0;l<sl.length;l++)Me(sl[l],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),j0(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),S0(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||Ap(r.textContent,l)?(c.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),c.onScroll!=null&&Me("scroll",r),c.onScrollEnd!=null&&Me("scrollend",r),c.onClick!=null&&(r.onclick=mr),r=!0):r=!1,r||qr(t,!0)}function ff(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function _s(t){if(t!==Gt)return!1;if(!Be)return ff(t),Be=!0,!1;var r=t.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Md(t.type,t.memoizedProps)),l=!l),l&&at&&qr(t),ff(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));at=Lp(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));at=Lp(t)}else r===27?(r=at,ra(t.type)?(t=Pd,Pd=null,at=t):at=r):at=Gt?Hn(t.stateNode.nextSibling):null;return!0}function ka(){at=Gt=null,Be=!1}function yu(){var t=Hr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Hr=null),t}function Ui(t){Hr===null?Hr=[t]:Hr.push(t)}var vu=E(null),Sa=null,br=null;function Gr(t,r,l){Y(vu,r._currentValue),r._currentValue=l}function yr(t){t._currentValue=vu.current,P(vu)}function wu(t,r,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===l)break;t=t.return}}function _u(t,r,l,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var k=m;m=h;for(var R=0;R<r.length;R++)if(k.context===r[R]){m.lanes|=l,k=m.alternate,k!==null&&(k.lanes|=l),wu(m.return,l,t),c||(v=null);break e}m=k.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=l,m=v.alternate,m!==null&&(m.lanes|=l),wu(v,l,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ns(t,r,l,c){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var k=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(k):t=[k])}}else if(h===L.current){if(v=h.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&_u(r,t,l,c),r.flags|=262144}function ao(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){Sa=t,br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vt(t){return mf(Sa,t)}function so(t,r){return Sa===null&&Ea(t),mf(t,r)}function mf(t,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},br===null){if(t===null)throw Error(i(308));br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else br=br.next=r;return l}var R1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(l){return l()})}},D1=e.unstable_scheduleCallback,z1=e.unstable_NormalPriority,St={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new R1,data:new Map,refCount:0}}function Li(t){t.refCount--,t.refCount===0&&D1(z1,function(){t.controller.abort()})}var $i=null,ju=0,js=0,ks=null;function I1(t,r){if($i===null){var l=$i=[];ju=0,js=Ed(),ks={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ju++,r.then(pf,pf),r}function pf(){if(--ju===0&&$i!==null){ks!==null&&(ks.status="fulfilled");var t=$i;$i=null,js=0,ks=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function M1(t,r){var l=[],c={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<l.length;h++)(0,l[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),c}var gf=U.S;U.S=function(t,r){Wm=Lt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&I1(t,r),gf!==null&&gf(t,r)};var Ta=E(null);function ku(){var t=Ta.current;return t!==null?t:We.pooledCache}function io(t,r){r===null?Y(Ta,Ta.current):Y(Ta,r.pool)}function xf(){var t=ku();return t===null?null:{parent:St._currentValue,pool:t}}var Ss=Error(i(460)),Su=Error(i(474)),lo=Error(i(542)),oo={then:function(){}};function bf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yf(t,r,l){switch(l=t[l],l===void 0?t.push(r):l!==r&&(r.then(mr,mr),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wf(t),t;default:if(typeof r.status=="string")r.then(mr,mr);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wf(t),t}throw Oa=r,Ss}}function Aa(t){try{var r=t._init;return r(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oa=l,Ss):l}}var Oa=null;function vf(){if(Oa===null)throw Error(i(459));var t=Oa;return Oa=null,t}function wf(t){if(t===Ss||t===lo)throw Error(i(483))}var Es=null,Bi=0;function co(t){var r=Bi;return Bi+=1,Es===null&&(Es=[]),yf(Es,t,r)}function Pi(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function uo(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function _f(t){function r(q,M){if(t){var V=q.deletions;V===null?(q.deletions=[M],q.flags|=16):V.push(M)}}function l(q,M){if(!t)return null;for(;M!==null;)r(q,M),M=M.sibling;return null}function c(q){for(var M=new Map;q!==null;)q.key!==null?M.set(q.key,q):M.set(q.index,q),q=q.sibling;return M}function h(q,M){return q=gr(q,M),q.index=0,q.sibling=null,q}function m(q,M,V){return q.index=V,t?(V=q.alternate,V!==null?(V=V.index,V<M?(q.flags|=67108866,M):V):(q.flags|=67108866,M)):(q.flags|=1048576,M)}function v(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function k(q,M,V,se){return M===null||M.tag!==6?(M=mu(V,q.mode,se),M.return=q,M):(M=h(M,V),M.return=q,M)}function R(q,M,V,se){var ke=V.type;return ke===N?re(q,M,V.props.children,se,V.key):M!==null&&(M.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===$&&Aa(ke)===M.type)?(M=h(M,V.props),Pi(M,V),M.return=q,M):(M=no(V.type,V.key,V.props,null,q.mode,se),Pi(M,V),M.return=q,M)}function F(q,M,V,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=pu(V,q.mode,se),M.return=q,M):(M=h(M,V.children||[]),M.return=q,M)}function re(q,M,V,se,ke){return M===null||M.tag!==7?(M=ja(V,q.mode,se,ke),M.return=q,M):(M=h(M,V),M.return=q,M)}function le(q,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=mu(""+M,q.mode,V),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return V=no(M.type,M.key,M.props,null,q.mode,V),Pi(V,M),V.return=q,V;case w:return M=pu(M,q.mode,V),M.return=q,M;case $:return M=Aa(M),le(q,M,V)}if(me(M)||pe(M))return M=ja(M,q.mode,V,null),M.return=q,M;if(typeof M.then=="function")return le(q,co(M),V);if(M.$$typeof===O)return le(q,so(q,M),V);uo(q,M)}return null}function K(q,M,V,se){var ke=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ke!==null?null:k(q,M,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===ke?R(q,M,V,se):null;case w:return V.key===ke?F(q,M,V,se):null;case $:return V=Aa(V),K(q,M,V,se)}if(me(V)||pe(V))return ke!==null?null:re(q,M,V,se,null);if(typeof V.then=="function")return K(q,M,co(V),se);if(V.$$typeof===O)return K(q,M,so(q,V),se);uo(q,V)}return null}function J(q,M,V,se,ke){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(V)||null,k(M,q,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return q=q.get(se.key===null?V:se.key)||null,R(M,q,se,ke);case w:return q=q.get(se.key===null?V:se.key)||null,F(M,q,se,ke);case $:return se=Aa(se),J(q,M,V,se,ke)}if(me(se)||pe(se))return q=q.get(V)||null,re(M,q,se,ke,null);if(typeof se.then=="function")return J(q,M,V,co(se),ke);if(se.$$typeof===O)return J(q,M,V,so(M,se),ke);uo(M,se)}return null}function xe(q,M,V,se){for(var ke=null,qe=null,we=M,ze=M=0,$e=null;we!==null&&ze<V.length;ze++){we.index>ze?($e=we,we=null):$e=we.sibling;var Ge=K(q,we,V[ze],se);if(Ge===null){we===null&&(we=$e);break}t&&we&&Ge.alternate===null&&r(q,we),M=m(Ge,M,ze),qe===null?ke=Ge:qe.sibling=Ge,qe=Ge,we=$e}if(ze===V.length)return l(q,we),Be&&xr(q,ze),ke;if(we===null){for(;ze<V.length;ze++)we=le(q,V[ze],se),we!==null&&(M=m(we,M,ze),qe===null?ke=we:qe.sibling=we,qe=we);return Be&&xr(q,ze),ke}for(we=c(we);ze<V.length;ze++)$e=J(we,q,ze,V[ze],se),$e!==null&&(t&&$e.alternate!==null&&we.delete($e.key===null?ze:$e.key),M=m($e,M,ze),qe===null?ke=$e:qe.sibling=$e,qe=$e);return t&&we.forEach(function(oa){return r(q,oa)}),Be&&xr(q,ze),ke}function Ee(q,M,V,se){if(V==null)throw Error(i(151));for(var ke=null,qe=null,we=M,ze=M=0,$e=null,Ge=V.next();we!==null&&!Ge.done;ze++,Ge=V.next()){we.index>ze?($e=we,we=null):$e=we.sibling;var oa=K(q,we,Ge.value,se);if(oa===null){we===null&&(we=$e);break}t&&we&&oa.alternate===null&&r(q,we),M=m(oa,M,ze),qe===null?ke=oa:qe.sibling=oa,qe=oa,we=$e}if(Ge.done)return l(q,we),Be&&xr(q,ze),ke;if(we===null){for(;!Ge.done;ze++,Ge=V.next())Ge=le(q,Ge.value,se),Ge!==null&&(M=m(Ge,M,ze),qe===null?ke=Ge:qe.sibling=Ge,qe=Ge);return Be&&xr(q,ze),ke}for(we=c(we);!Ge.done;ze++,Ge=V.next())Ge=J(we,q,ze,Ge.value,se),Ge!==null&&(t&&Ge.alternate!==null&&we.delete(Ge.key===null?ze:Ge.key),M=m(Ge,M,ze),qe===null?ke=Ge:qe.sibling=Ge,qe=Ge);return t&&we.forEach(function(Yw){return r(q,Yw)}),Be&&xr(q,ze),ke}function Xe(q,M,V,se){if(typeof V=="object"&&V!==null&&V.type===N&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var ke=V.key;M!==null;){if(M.key===ke){if(ke=V.type,ke===N){if(M.tag===7){l(q,M.sibling),se=h(M,V.props.children),se.return=q,q=se;break e}}else if(M.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===$&&Aa(ke)===M.type){l(q,M.sibling),se=h(M,V.props),Pi(se,V),se.return=q,q=se;break e}l(q,M);break}else r(q,M);M=M.sibling}V.type===N?(se=ja(V.props.children,q.mode,se,V.key),se.return=q,q=se):(se=no(V.type,V.key,V.props,null,q.mode,se),Pi(se,V),se.return=q,q=se)}return v(q);case w:e:{for(ke=V.key;M!==null;){if(M.key===ke)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){l(q,M.sibling),se=h(M,V.children||[]),se.return=q,q=se;break e}else{l(q,M);break}else r(q,M);M=M.sibling}se=pu(V,q.mode,se),se.return=q,q=se}return v(q);case $:return V=Aa(V),Xe(q,M,V,se)}if(me(V))return xe(q,M,V,se);if(pe(V)){if(ke=pe(V),typeof ke!="function")throw Error(i(150));return V=ke.call(V),Ee(q,M,V,se)}if(typeof V.then=="function")return Xe(q,M,co(V),se);if(V.$$typeof===O)return Xe(q,M,so(q,V),se);uo(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,M!==null&&M.tag===6?(l(q,M.sibling),se=h(M,V),se.return=q,q=se):(l(q,M),se=mu(V,q.mode,se),se.return=q,q=se),v(q)):l(q,M)}return function(q,M,V,se){try{Bi=0;var ke=Xe(q,M,V,se);return Es=null,ke}catch(we){if(we===Ss||we===lo)throw we;var qe=wn(29,we,null,q.mode);return qe.lanes=se,qe.return=q,qe}finally{}}}var Ca=_f(!0),Nf=_f(!1),Vr=!1;function Eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(t,r,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=to(t),sf(t,null,l),r}return eo(t,c,r,l),to(t)}function Hi(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,l|=c,r.lanes=l,ji(t,l)}}function Au(t,r){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?h=m=r:m=m.next=r}else h=m=r;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}var Ou=!1;function qi(){if(Ou){var t=ks;if(t!==null)throw t}}function Gi(t,r,l,c){Ou=!1;var h=t.updateQueue;Vr=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var R=k,F=R.next;R.next=null,v===null?m=F:v.next=F,v=R;var re=t.alternate;re!==null&&(re=re.updateQueue,k=re.lastBaseUpdate,k!==v&&(k===null?re.firstBaseUpdate=F:k.next=F,re.lastBaseUpdate=R))}if(m!==null){var le=h.baseState;v=0,re=F=R=null,k=m;do{var K=k.lane&-536870913,J=K!==k.lane;if(J?(Le&K)===K:(c&K)===K){K!==0&&K===js&&(Ou=!0),re!==null&&(re=re.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var xe=t,Ee=k;K=r;var Xe=l;switch(Ee.tag){case 1:if(xe=Ee.payload,typeof xe=="function"){le=xe.call(Xe,le,K);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ee.payload,K=typeof xe=="function"?xe.call(Xe,le,K):xe,K==null)break e;le=b({},le,K);break e;case 2:Vr=!0}}K=k.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[K]:J.push(K))}else J={lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},re===null?(F=re=J,R=le):re=re.next=J,v|=K;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;J=k,k=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);re===null&&(R=le),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=re,m===null&&(h.shared.lanes=0),Qr|=v,t.lanes=v,t.memoizedState=le}}function jf(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function kf(t,r){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)jf(l[t],r)}var Ts=E(null),ho=E(0);function Sf(t,r){t=Tr,Y(ho,t),Y(Ts,r),Tr=t|r.baseLanes}function Cu(){Y(ho,Tr),Y(Ts,Ts.current)}function Ru(){Tr=ho.current,P(Ts),P(ho)}var _n=E(null),Pn=null;function Zr(t){var r=t.alternate;Y(Nt,Nt.current&1),Y(_n,t),Pn===null&&(r===null||Ts.current!==null||r.memoizedState!==null)&&(Pn=t)}function Du(t){Y(Nt,Nt.current),Y(_n,t),Pn===null&&(Pn=t)}function Ef(t){t.tag===22?(Y(Nt,Nt.current),Y(_n,t),Pn===null&&(Pn=t)):Kr()}function Kr(){Y(Nt,Nt.current),Y(_n,_n.current)}function Nn(t){P(_n),Pn===t&&(Pn=null),P(Nt)}var Nt=E(0);function fo(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$d(l)||Bd(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vr=0,De=null,Ke=null,Et=null,mo=!1,As=!1,Ra=!1,po=0,Vi=0,Os=null,U1=0;function vt(){throw Error(i(321))}function zu(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!vn(t[l],r[l]))return!1;return!0}function Iu(t,r,l,c,h,m){return vr=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?um:Ju,Ra=!1,m=l(c,h),Ra=!1,As&&(m=Af(r,l,c,h)),Tf(t),m}function Tf(t){U.H=Zi;var r=Ke!==null&&Ke.next!==null;if(vr=0,Et=Ke=De=null,mo=!1,Vi=0,Os=null,r)throw Error(i(300));t===null||Tt||(t=t.dependencies,t!==null&&ao(t)&&(Tt=!0))}function Af(t,r,l,c){De=t;var h=0;do{if(As&&(Os=null),Vi=0,As=!1,25<=h)throw Error(i(301));if(h+=1,Et=Ke=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=dm,m=r(l,c)}while(As);return m}function L1(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?Fi(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(De.flags|=1024),r}function Mu(){var t=po!==0;return po=0,t}function Uu(t,r,l){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l}function Lu(t){if(mo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}mo=!1}vr=0,Et=Ke=De=null,As=!1,Vi=po=0,Os=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=t:Et=Et.next=t,Et}function jt(){if(Ke===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,Ke=t;else{if(t===null)throw De.alternate===null?Error(i(467)):Error(i(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Et===null?De.memoizedState=Et=t:Et=Et.next=t}return Et}function go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(t){var r=Vi;return Vi+=1,Os===null&&(Os=[]),t=yf(Os,t,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?um:Ju),t}function xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fi(t);if(t.$$typeof===O)return Vt(t)}throw Error(i(438,String(t)))}function $u(t){var r=null,l=De.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=go(),De.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(t),c=0;c<t;c++)l[c]=Z;return r.index++,l}function wr(t,r){return typeof r=="function"?r(t):r}function bo(t){var r=jt();return Bu(r,Ke,t)}function Bu(t,r,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var h=t.baseQueue,m=c.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}r.baseQueue=h=m,c.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var k=v=null,R=null,F=r,re=!1;do{var le=F.lane&-536870913;if(le!==F.lane?(Le&le)===le:(vr&le)===le){var K=F.revertLane;if(K===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),le===js&&(re=!0);else if((vr&K)===K){F=F.next,K===js&&(re=!0);continue}else le={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(k=R=le,v=m):R=R.next=le,De.lanes|=K,Qr|=K;le=F.action,Ra&&l(m,le),m=F.hasEagerState?F.eagerState:l(m,le)}else K={lane:le,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(k=R=K,v=m):R=R.next=K,De.lanes|=le,Qr|=le;F=F.next}while(F!==null&&F!==r);if(R===null?v=m:R.next=k,!vn(m,t.memoizedState)&&(Tt=!0,re&&(l=ks,l!==null)))throw l;t.memoizedState=m,t.baseState=v,t.baseQueue=R,c.lastRenderedState=m}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Pu(t){var r=jt(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,h=l.pending,m=r.memoizedState;if(h!==null){l.pending=null;var v=h=h.next;do m=t(m,v.action),v=v.next;while(v!==h);vn(m,r.memoizedState)||(Tt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),l.lastRenderedState=m}return[m,c]}function Of(t,r,l){var c=De,h=jt(),m=Be;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!vn((Ke||h).memoizedState,l);if(v&&(h.memoizedState=l,Tt=!0),h=h.queue,Gu(Df.bind(null,c,h,t),[t]),h.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(c.flags|=2048,Cs(9,{destroy:void 0},Rf.bind(null,c,h,l,r),null),We===null)throw Error(i(349));m||(vr&127)!==0||Cf(c,r,l)}return l}function Cf(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=De.updateQueue,r===null?(r=go(),De.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function Rf(t,r,l,c){r.value=l,r.getSnapshot=c,zf(r)&&If(t)}function Df(t,r,l){return l(function(){zf(r)&&If(t)})}function zf(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!vn(t,l)}catch{return!0}}function If(t){var r=Na(t,2);r!==null&&gn(r,t,2)}function Hu(t){var r=rn();if(typeof t=="function"){var l=t;if(t=l(),Ra){Rn(!0);try{l()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:t},r}function Mf(t,r,l,c){return t.baseState=l,Bu(t,Ke,typeof c=="function"?c:wr)}function $1(t,r,l,c,h){if(wo(t))throw Error(i(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};U.T!==null?l(!0):m.isTransition=!1,c(m),l=r.pending,l===null?(m.next=r.pending=m,Uf(r,m)):(m.next=l.next,r.pending=l.next=m)}}function Uf(t,r){var l=r.action,c=r.payload,h=t.state;if(r.isTransition){var m=U.T,v={};U.T=v;try{var k=l(h,c),R=U.S;R!==null&&R(v,k),Lf(t,r,k)}catch(F){qu(t,r,F)}finally{m!==null&&v.types!==null&&(m.types=v.types),U.T=m}}else try{m=l(h,c),Lf(t,r,m)}catch(F){qu(t,r,F)}}function Lf(t,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){$f(t,r,c)},function(c){return qu(t,r,c)}):$f(t,r,l)}function $f(t,r,l){r.status="fulfilled",r.value=l,Bf(r),t.state=l,r=t.pending,r!==null&&(l=r.next,l===r?t.pending=null:(l=l.next,r.next=l,Uf(t,l)))}function qu(t,r,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Bf(r),r=r.next;while(r!==c)}t.action=null}function Bf(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Pf(t,r){return r}function Hf(t,r){if(Be){var l=We.formState;if(l!==null){e:{var c=De;if(Be){if(at){t:{for(var h=at,m=Bn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){at=Hn(h.nextSibling),c=h.data==="F!";break e}}qr(c)}c=!1}c&&(r=l[0])}}return l=rn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:r},l.queue=c,l=lm.bind(null,De,c),c.dispatch=l,c=Hu(!1),m=Ku.bind(null,De,!1,c.queue),c=rn(),h={state:r,dispatch:null,action:t,pending:null},c.queue=h,l=$1.bind(null,De,h,m,l),h.dispatch=l,c.memoizedState=t,[r,l,!1]}function qf(t){var r=jt();return Gf(r,Ke,t)}function Gf(t,r,l){if(r=Bu(t,r,Pf)[0],t=bo(wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Fi(r)}catch(v){throw v===Ss?lo:v}else c=r;r=jt();var h=r.queue,m=h.dispatch;return l!==r.memoizedState&&(De.flags|=2048,Cs(9,{destroy:void 0},B1.bind(null,h,l),null)),[c,m,t]}function B1(t,r){t.action=r}function Vf(t){var r=jt(),l=Ke;if(l!==null)return Gf(r,l,t);jt(),r=r.memoizedState,l=jt();var c=l.queue.dispatch;return l.memoizedState=t,[r,c,!1]}function Cs(t,r,l,c){return t={tag:t,create:l,deps:c,inst:r,next:null},r=De.updateQueue,r===null&&(r=go(),De.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,r.lastEffect=t),t}function Ff(){return jt().memoizedState}function yo(t,r,l,c){var h=rn();De.flags|=t,h.memoizedState=Cs(1|r,{destroy:void 0},l,c===void 0?null:c)}function vo(t,r,l,c){var h=jt();c=c===void 0?null:c;var m=h.memoizedState.inst;Ke!==null&&c!==null&&zu(c,Ke.memoizedState.deps)?h.memoizedState=Cs(r,m,l,c):(De.flags|=t,h.memoizedState=Cs(1|r,m,l,c))}function Yf(t,r){yo(8390656,8,t,r)}function Gu(t,r){vo(2048,8,t,r)}function P1(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=go(),De.updateQueue=r,r.events=[t];else{var l=r.events;l===null?r.events=[t]:l.push(t)}}function Zf(t){var r=jt().memoizedState;return P1({ref:r,nextImpl:t}),function(){if((Ve&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Kf(t,r){return vo(4,2,t,r)}function Jf(t,r){return vo(4,4,t,r)}function Xf(t,r){if(typeof r=="function"){t=t();var l=r(t);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qf(t,r,l){l=l!=null?l.concat([t]):null,vo(4,4,Xf.bind(null,r,t),l)}function Vu(){}function Wf(t,r){var l=jt();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&zu(r,c[1])?c[0]:(l.memoizedState=[t,r],t)}function em(t,r){var l=jt();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&zu(r,c[1]))return c[0];if(c=t(),Ra){Rn(!0);try{t()}finally{Rn(!1)}}return l.memoizedState=[c,r],c}function Fu(t,r,l){return l===void 0||(vr&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=l,t=tp(),De.lanes|=t,Qr|=t,l)}function tm(t,r,l,c){return vn(l,r)?l:Ts.current!==null?(t=Fu(t,l,c),vn(t,r)||(Tt=!0),t):(vr&42)===0||(vr&1073741824)!==0&&(Le&261930)===0?(Tt=!0,t.memoizedState=l):(t=tp(),De.lanes|=t,Qr|=t,r)}function nm(t,r,l,c,h){var m=B.p;B.p=m!==0&&8>m?m:8;var v=U.T,k={};U.T=k,Ku(t,!1,r,l);try{var R=h(),F=U.S;if(F!==null&&F(k,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var re=M1(R,c);Yi(t,r,re,Sn(t))}else Yi(t,r,c,Sn(t))}catch(le){Yi(t,r,{then:function(){},status:"rejected",reason:le},Sn())}finally{B.p=m,v!==null&&k.types!==null&&(v.types=k.types),U.T=v}}function H1(){}function Yu(t,r,l,c){if(t.tag!==5)throw Error(i(476));var h=rm(t).queue;nm(t,h,r,ne,l===null?H1:function(){return am(t),l(c)})}function rm(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:ne},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:l},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function am(t){var r=rm(t);r.next===null&&(r=t.alternate.memoizedState),Yi(t,r.next.queue,{},Sn())}function Zu(){return Vt(ul)}function sm(){return jt().memoizedState}function im(){return jt().memoizedState}function q1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var l=Sn();t=Fr(l);var c=Yr(r,t,l);c!==null&&(gn(c,r,l),Hi(c,r,l)),r={cache:Nu()},t.payload=r;return}r=r.return}}function G1(t,r,l){var c=Sn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wo(t)?om(r,l):(l=hu(t,r,l,c),l!==null&&(gn(l,t,c),cm(l,r,c)))}function lm(t,r,l){var c=Sn();Yi(t,r,l,c)}function Yi(t,r,l,c){var h={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(wo(t))om(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,k=m(v,l);if(h.hasEagerState=!0,h.eagerState=k,vn(k,v))return eo(t,r,h,0),We===null&&Wl(),!1}catch{}finally{}if(l=hu(t,r,h,c),l!==null)return gn(l,t,c),cm(l,r,c),!0}return!1}function Ku(t,r,l,c){if(c={lane:2,revertLane:Ed(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wo(t)){if(r)throw Error(i(479))}else r=hu(t,l,c,2),r!==null&&gn(r,t,2)}function wo(t){var r=t.alternate;return t===De||r!==null&&r===De}function om(t,r){As=mo=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function cm(t,r,l){if((l&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,l|=c,r.lanes=l,ji(t,l)}}var Zi={readContext:Vt,use:xo,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Zi.useEffectEvent=vt;var um={readContext:Vt,use:xo,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Vt,useEffect:Yf,useImperativeHandle:function(t,r,l){l=l!=null?l.concat([t]):null,yo(4194308,4,Xf.bind(null,r,t),l)},useLayoutEffect:function(t,r){return yo(4194308,4,t,r)},useInsertionEffect:function(t,r){yo(4,2,t,r)},useMemo:function(t,r){var l=rn();r=r===void 0?null:r;var c=t();if(Ra){Rn(!0);try{t()}finally{Rn(!1)}}return l.memoizedState=[c,r],c},useReducer:function(t,r,l){var c=rn();if(l!==void 0){var h=l(r);if(Ra){Rn(!0);try{l(r)}finally{Rn(!1)}}}else h=r;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=G1.bind(null,De,t),[c.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Hu(t);var r=t.queue,l=lm.bind(null,De,r);return r.dispatch=l,[t.memoizedState,l]},useDebugValue:Vu,useDeferredValue:function(t,r){var l=rn();return Fu(l,t,r)},useTransition:function(){var t=Hu(!1);return t=nm.bind(null,De,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,l){var c=De,h=rn();if(Be){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),We===null)throw Error(i(349));(Le&127)!==0||Cf(c,r,l)}h.memoizedState=l;var m={value:l,getSnapshot:r};return h.queue=m,Yf(Df.bind(null,c,m,t),[t]),c.flags|=2048,Cs(9,{destroy:void 0},Rf.bind(null,c,m,l,r),null),l},useId:function(){var t=rn(),r=We.identifierPrefix;if(Be){var l=ar,c=rr;l=(c&~(1<<32-ut(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=po++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=U1++,r="_"+r+"r_"+l.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Zu,useFormState:Hf,useActionState:Hf,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Ku.bind(null,De,!0,l),l.dispatch=r,[t,r]},useMemoCache:$u,useCacheRefresh:function(){return rn().memoizedState=q1.bind(null,De)},useEffectEvent:function(t){var r=rn(),l={impl:t};return r.memoizedState=l,function(){if((Ve&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ju={readContext:Vt,use:xo,useCallback:Wf,useContext:Vt,useEffect:Gu,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Jf,useMemo:em,useReducer:bo,useRef:Ff,useState:function(){return bo(wr)},useDebugValue:Vu,useDeferredValue:function(t,r){var l=jt();return tm(l,Ke.memoizedState,t,r)},useTransition:function(){var t=bo(wr)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:Fi(t),r]},useSyncExternalStore:Of,useId:sm,useHostTransitionStatus:Zu,useFormState:qf,useActionState:qf,useOptimistic:function(t,r){var l=jt();return Mf(l,Ke,t,r)},useMemoCache:$u,useCacheRefresh:im};Ju.useEffectEvent=Zf;var dm={readContext:Vt,use:xo,useCallback:Wf,useContext:Vt,useEffect:Gu,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Jf,useMemo:em,useReducer:Pu,useRef:Ff,useState:function(){return Pu(wr)},useDebugValue:Vu,useDeferredValue:function(t,r){var l=jt();return Ke===null?Fu(l,t,r):tm(l,Ke.memoizedState,t,r)},useTransition:function(){var t=Pu(wr)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:Fi(t),r]},useSyncExternalStore:Of,useId:sm,useHostTransitionStatus:Zu,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,r){var l=jt();return Ke!==null?Mf(l,Ke,t,r):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:$u,useCacheRefresh:im};dm.useEffectEvent=Zf;function Xu(t,r,l,c){r=t.memoizedState,l=l(c,r),l=l==null?r:b({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Qu={enqueueSetState:function(t,r,l){t=t._reactInternals;var c=Sn(),h=Fr(c);h.payload=r,l!=null&&(h.callback=l),r=Yr(t,h,c),r!==null&&(gn(r,t,c),Hi(r,t,c))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var c=Sn(),h=Fr(c);h.tag=1,h.payload=r,l!=null&&(h.callback=l),r=Yr(t,h,c),r!==null&&(gn(r,t,c),Hi(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Sn(),c=Fr(l);c.tag=2,r!=null&&(c.callback=r),r=Yr(t,c,l),r!==null&&(gn(r,t,l),Hi(r,t,l))}};function hm(t,r,l,c,h,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!zi(l,c)||!zi(h,m):!0}function fm(t,r,l,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==t&&Qu.enqueueReplaceState(r,r.state,null)}function Da(t,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(t=t.defaultProps){l===r&&(l=b({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}function mm(t){Ql(t)}function pm(t){console.error(t)}function gm(t){Ql(t)}function _o(t,r){try{var l=t.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function xm(t,r,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wu(t,r,l){return l=Fr(l),l.tag=3,l.payload={element:null},l.callback=function(){_o(t,r)},l}function bm(t){return t=Fr(t),t.tag=3,t}function ym(t,r,l,c){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;t.payload=function(){return h(m)},t.callback=function(){xm(r,l,c)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){xm(r,l,c),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function V1(t,r,l,c,h){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&Ns(r,l,h,!0),l=_n.current,l!==null){switch(l.tag){case 31:case 13:return Pn===null?zo():l.alternate===null&&wt===0&&(wt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,c===oo?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),jd(t,c,h)),!1;case 22:return l.flags|=65536,c===oo?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),jd(t,c,h)),!1}throw Error(i(435,l.tag))}return jd(t,c,h),zo(),!1}if(Be)return r=_n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==bu&&(t=Error(i(422),{cause:c}),Ui(Un(t,l)))):(c!==bu&&(r=Error(i(423),{cause:c}),Ui(Un(r,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=Un(c,l),h=Wu(t.stateNode,c,h),Au(t,h),wt!==4&&(wt=2)),!1;var m=Error(i(520),{cause:c});if(m=Un(m,l),nl===null?nl=[m]:nl.push(m),wt!==4&&(wt=2),r===null)return!0;c=Un(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=Wu(l.stateNode,c,t),Au(l,t),!1;case 1:if(r=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wr===null||!Wr.has(m))))return l.flags|=65536,h&=-h,l.lanes|=h,h=bm(h),ym(h,t,l,c),Au(l,h),!1}l=l.return}while(l!==null);return!1}var ed=Error(i(461)),Tt=!1;function Ft(t,r,l,c){r.child=t===null?Nf(r,null,l,c):Ca(r,t.child,l,c)}function vm(t,r,l,c,h){l=l.render;var m=r.ref;if("ref"in c){var v={};for(var k in c)k!=="ref"&&(v[k]=c[k])}else v=c;return Ea(r),c=Iu(t,r,l,v,m,h),k=Mu(),t!==null&&!Tt?(Uu(t,r,h),_r(t,r,h)):(Be&&k&&gu(r),r.flags|=1,Ft(t,r,c,h),r.child)}function wm(t,r,l,c,h){if(t===null){var m=l.type;return typeof m=="function"&&!fu(m)&&m.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=m,_m(t,r,m,c,h)):(t=no(l.type,null,c,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!od(t,h)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:zi,l(v,c)&&t.ref===r.ref)return _r(t,r,h)}return r.flags|=1,t=gr(m,c),t.ref=r.ref,t.return=r,r.child=t}function _m(t,r,l,c,h){if(t!==null){var m=t.memoizedProps;if(zi(m,c)&&t.ref===r.ref)if(Tt=!1,r.pendingProps=c=m,od(t,h))(t.flags&131072)!==0&&(Tt=!0);else return r.lanes=t.lanes,_r(t,r,h)}return td(t,r,l,c,h)}function Nm(t,r,l,c){var h=c.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,t!==null){for(c=r.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,r.child=null;return jm(t,r,m,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&io(r,m!==null?m.cachePool:null),m!==null?Sf(r,m):Cu(),Ef(r);else return c=r.lanes=536870912,jm(t,r,m!==null?m.baseLanes|l:l,l,c)}else m!==null?(io(r,m.cachePool),Sf(r,m),Kr(),r.memoizedState=null):(t!==null&&io(r,null),Cu(),Kr());return Ft(t,r,h,l),r.child}function Ki(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function jm(t,r,l,c,h){var m=ku();return m=m===null?null:{parent:St._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},t!==null&&io(r,null),Cu(),Ef(r),t!==null&&Ns(t,r,c,!0),r.childLanes=h,null}function No(t,r){return r=ko({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function km(t,r,l){return Ca(r,t.child,null,l),t=No(r,r.pendingProps),t.flags|=2,Nn(r),r.memoizedState=null,t}function F1(t,r,l){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(c.mode==="hidden")return t=No(r,c),r.lanes=536870912,Ki(null,t);if(Du(r),(t=at)?(t=Up(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:rr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=of(t),l.return=r,r.child=l,Gt=r,at=null)):t=null,t===null)throw qr(r);return r.lanes=536870912,null}return No(r,c)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Du(r),h)if(r.flags&256)r.flags&=-257,r=km(t,r,l);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Tt||Ns(t,r,l,!1),h=(l&t.childLanes)!==0,Tt||h){if(c=We,c!==null&&(v=hr(c,l),v!==0&&v!==m.retryLane))throw m.retryLane=v,Na(t,v),gn(c,t,v),ed;zo(),r=km(t,r,l)}else t=m.treeContext,at=Hn(v.nextSibling),Gt=r,Be=!0,Hr=null,Bn=!1,t!==null&&df(r,t),r=No(r,c),r.flags|=4096;return r}return t=gr(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function jo(t,r){var l=r.ref;if(l===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(r.flags|=4194816)}}function td(t,r,l,c,h){return Ea(r),l=Iu(t,r,l,c,void 0,h),c=Mu(),t!==null&&!Tt?(Uu(t,r,h),_r(t,r,h)):(Be&&c&&gu(r),r.flags|=1,Ft(t,r,l,h),r.child)}function Sm(t,r,l,c,h,m){return Ea(r),r.updateQueue=null,l=Af(r,c,l,h),Tf(t),c=Mu(),t!==null&&!Tt?(Uu(t,r,m),_r(t,r,m)):(Be&&c&&gu(r),r.flags|=1,Ft(t,r,l,m),r.child)}function Em(t,r,l,c,h){if(Ea(r),r.stateNode===null){var m=ys,v=l.contextType;typeof v=="object"&&v!==null&&(m=Vt(v)),m=new l(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qu,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},Eu(r),v=l.contextType,m.context=typeof v=="object"&&v!==null?Vt(v):ys,m.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Xu(r,l,v,c),m.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Qu.enqueueReplaceState(m,m.state,null),Gi(r,c,m,h),qi(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){m=r.stateNode;var k=r.memoizedProps,R=Da(l,k);m.props=R;var F=m.context,re=l.contextType;v=ys,typeof re=="object"&&re!==null&&(v=Vt(re));var le=l.getDerivedStateFromProps;re=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",k=r.pendingProps!==k,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(k||F!==v)&&fm(r,m,c,v),Vr=!1;var K=r.memoizedState;m.state=K,Gi(r,c,m,h),qi(),F=r.memoizedState,k||K!==F||Vr?(typeof le=="function"&&(Xu(r,l,le,c),F=r.memoizedState),(R=Vr||hm(r,l,R,c,K,F,v))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=F),m.props=c,m.state=F,m.context=v,c=R):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,Tu(t,r),v=r.memoizedProps,re=Da(l,v),m.props=re,le=r.pendingProps,K=m.context,F=l.contextType,R=ys,typeof F=="object"&&F!==null&&(R=Vt(F)),k=l.getDerivedStateFromProps,(F=typeof k=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==le||K!==R)&&fm(r,m,c,R),Vr=!1,K=r.memoizedState,m.state=K,Gi(r,c,m,h),qi();var J=r.memoizedState;v!==le||K!==J||Vr||t!==null&&t.dependencies!==null&&ao(t.dependencies)?(typeof k=="function"&&(Xu(r,l,k,c),J=r.memoizedState),(re=Vr||hm(r,l,re,c,K,J,R)||t!==null&&t.dependencies!==null&&ao(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,J,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,J,R)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),m.props=c,m.state=J,m.context=R,c=re):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),c=!1)}return m=c,jo(t,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&c?(r.child=Ca(r,t.child,null,h),r.child=Ca(r,null,l,h)):Ft(t,r,l,h),r.memoizedState=m.state,t=r.child):t=_r(t,r,h),t}function Tm(t,r,l,c){return ka(),r.flags|=256,Ft(t,r,l,c),r.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:xf()}}function ad(t,r,l){return t=t!==null?t.childLanes&~l:0,r&&(t|=kn),t}function Am(t,r,l){var c=r.pendingProps,h=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Zr(r):Kr(),(t=at)?(t=Up(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:rr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=of(t),l.return=r,r.child=l,Gt=r,at=null)):t=null,t===null)throw qr(r);return Bd(t)?r.lanes=32:r.lanes=536870912,null}var k=c.children;return c=c.fallback,h?(Kr(),h=r.mode,k=ko({mode:"hidden",children:k},h),c=ja(c,h,l,null),k.return=r,c.return=r,k.sibling=c,r.child=k,c=r.child,c.memoizedState=rd(l),c.childLanes=ad(t,v,l),r.memoizedState=nd,Ki(null,c)):(Zr(r),sd(r,k))}var R=t.memoizedState;if(R!==null&&(k=R.dehydrated,k!==null)){if(m)r.flags&256?(Zr(r),r.flags&=-257,r=id(t,r,l)):r.memoizedState!==null?(Kr(),r.child=t.child,r.flags|=128,r=null):(Kr(),k=c.fallback,h=r.mode,c=ko({mode:"visible",children:c.children},h),k=ja(k,h,l,null),k.flags|=2,c.return=r,k.return=r,c.sibling=k,r.child=c,Ca(r,t.child,null,l),c=r.child,c.memoizedState=rd(l),c.childLanes=ad(t,v,l),r.memoizedState=nd,r=Ki(null,c));else if(Zr(r),Bd(k)){if(v=k.nextSibling&&k.nextSibling.dataset,v)var F=v.dgst;v=F,c=Error(i(419)),c.stack="",c.digest=v,Ui({value:c,source:null,stack:null}),r=id(t,r,l)}else if(Tt||Ns(t,r,l,!1),v=(l&t.childLanes)!==0,Tt||v){if(v=We,v!==null&&(c=hr(v,l),c!==0&&c!==R.retryLane))throw R.retryLane=c,Na(t,c),gn(v,t,c),ed;$d(k)||zo(),r=id(t,r,l)}else $d(k)?(r.flags|=192,r.child=t.child,r=null):(t=R.treeContext,at=Hn(k.nextSibling),Gt=r,Be=!0,Hr=null,Bn=!1,t!==null&&df(r,t),r=sd(r,c.children),r.flags|=4096);return r}return h?(Kr(),k=c.fallback,h=r.mode,R=t.child,F=R.sibling,c=gr(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,F!==null?k=gr(F,k):(k=ja(k,h,l,null),k.flags|=2),k.return=r,c.return=r,c.sibling=k,r.child=c,Ki(null,c),c=r.child,k=t.child.memoizedState,k===null?k=rd(l):(h=k.cachePool,h!==null?(R=St._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=xf(),k={baseLanes:k.baseLanes|l,cachePool:h}),c.memoizedState=k,c.childLanes=ad(t,v,l),r.memoizedState=nd,Ki(t.child,c)):(Zr(r),l=t.child,t=l.sibling,l=gr(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=l,r.memoizedState=null,l)}function sd(t,r){return r=ko({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ko(t,r){return t=wn(22,t,null,r),t.lanes=0,t}function id(t,r,l){return Ca(r,t.child,null,l),t=sd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Om(t,r,l){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),wu(t.return,r,l)}function ld(t,r,l,c,h,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=h,v.treeForkCount=m)}function Cm(t,r,l){var c=r.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var v=Nt.current,k=(v&2)!==0;if(k?(v=v&1|2,r.flags|=128):v&=1,Y(Nt,v),Ft(t,r,c,l),c=Be?Mi:0,!k&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,l,r);else if(t.tag===19)Om(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(l=r.child,h=null;l!==null;)t=l.alternate,t!==null&&fo(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=r.child,r.child=null):(h=l.sibling,l.sibling=null),ld(r,!1,h,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&fo(t)===null){r.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}ld(r,!0,l,null,m,c);break;case"together":ld(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function _r(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(l&r.childLanes)===0)if(t!==null){if(Ns(t,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,l=gr(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=gr(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function od(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ao(t)))}function Y1(t,r,l){switch(r.tag){case 3:Q(r,r.stateNode.containerInfo),Gr(r,St,t.memoizedState.cache),ka();break;case 27:case 5:he(r);break;case 4:Q(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Du(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Zr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Am(t,r,l):(Zr(r),t=_r(t,r,l),t!==null?t.sibling:null);Zr(r);break;case 19:var h=(t.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(Ns(t,r,l,!1),c=(l&r.childLanes)!==0),h){if(c)return Cm(t,r,l);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(Nt,Nt.current),c)break;return null;case 22:return r.lanes=0,Nm(t,r,l,r.pendingProps);case 24:Gr(r,St,t.memoizedState.cache)}return _r(t,r,l)}function Rm(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps)Tt=!0;else{if(!od(t,l)&&(r.flags&128)===0)return Tt=!1,Y1(t,r,l);Tt=(t.flags&131072)!==0}else Tt=!1,Be&&(r.flags&1048576)!==0&&uf(r,Mi,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(t=Aa(r.elementType),r.type=t,typeof t=="function")fu(t)?(c=Da(t,c),r.tag=1,r=Em(null,r,t,c,l)):(r.tag=0,r=td(null,r,t,c,l));else{if(t!=null){var h=t.$$typeof;if(h===I){r.tag=11,r=vm(null,r,t,c,l);break e}else if(h===C){r.tag=14,r=wm(null,r,t,c,l);break e}}throw r=ue(t)||t,Error(i(306,r,""))}}return r;case 0:return td(t,r,r.type,r.pendingProps,l);case 1:return c=r.type,h=Da(c,r.pendingProps),Em(t,r,c,h,l);case 3:e:{if(Q(r,r.stateNode.containerInfo),t===null)throw Error(i(387));c=r.pendingProps;var m=r.memoizedState;h=m.element,Tu(t,r),Gi(r,c,null,l);var v=r.memoizedState;if(c=v.cache,Gr(r,St,c),c!==m.cache&&_u(r,[St],l,!0),qi(),c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Tm(t,r,c,l);break e}else if(c!==h){h=Un(Error(i(424)),r),Ui(h),r=Tm(t,r,c,l);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Hn(t.firstChild),Gt=r,Be=!0,Hr=null,Bn=!0,l=Nf(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ka(),c===h){r=_r(t,r,l);break e}Ft(t,r,c,l)}r=r.child}return r;case 26:return jo(t,r),t===null?(l=qp(r.type,null,r.pendingProps,null))?r.memoizedState=l:Be||(l=r.type,t=r.pendingProps,c=Po(X.current).createElement(l),c[qt]=r,c[un]=t,Yt(c,l,t),$t(c),r.stateNode=c):r.memoizedState=qp(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return he(r),t===null&&Be&&(c=r.stateNode=Bp(r.type,r.pendingProps,X.current),Gt=r,Bn=!0,h=at,ra(r.type)?(Pd=h,at=Hn(c.firstChild)):at=h),Ft(t,r,r.pendingProps.children,l),jo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=c=at)&&(c=Nw(c,r.type,r.pendingProps,Bn),c!==null?(r.stateNode=c,Gt=r,at=Hn(c.firstChild),Bn=!1,h=!0):h=!1),h||qr(r)),he(r),h=r.type,m=r.pendingProps,v=t!==null?t.memoizedProps:null,c=m.children,Md(h,m)?c=null:v!==null&&Md(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Iu(t,r,L1,null,null,l),ul._currentValue=h),jo(t,r),Ft(t,r,c,l),r.child;case 6:return t===null&&Be&&((t=l=at)&&(l=jw(l,r.pendingProps,Bn),l!==null?(r.stateNode=l,Gt=r,at=null,t=!0):t=!1),t||qr(r)),null;case 13:return Am(t,r,l);case 4:return Q(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ca(r,null,c,l):Ft(t,r,c,l),r.child;case 11:return vm(t,r,r.type,r.pendingProps,l);case 7:return Ft(t,r,r.pendingProps,l),r.child;case 8:return Ft(t,r,r.pendingProps.children,l),r.child;case 12:return Ft(t,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,Gr(r,r.type,c.value),Ft(t,r,c.children,l),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,Ea(r),h=Vt(h),c=c(h),r.flags|=1,Ft(t,r,c,l),r.child;case 14:return wm(t,r,r.type,r.pendingProps,l);case 15:return _m(t,r,r.type,r.pendingProps,l);case 19:return Cm(t,r,l);case 31:return F1(t,r,l);case 22:return Nm(t,r,l,r.pendingProps);case 24:return Ea(r),c=Vt(St),t===null?(h=ku(),h===null&&(h=We,m=Nu(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=l),h=m),r.memoizedState={parent:c,cache:h},Eu(r),Gr(r,St,h)):((t.lanes&l)!==0&&(Tu(t,r),Gi(r,null,null,l),qi()),h=t.memoizedState,m=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Gr(r,St,c)):(c=m.cache,Gr(r,St,c),c!==h.cache&&_u(r,[St],l,!0))),Ft(t,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Nr(t){t.flags|=4}function cd(t,r,l,c,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(sp())t.flags|=8192;else throw Oa=oo,Su}else t.flags&=-16777217}function Dm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zp(r))if(sp())t.flags|=8192;else throw Oa=oo,Su}function So(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?cn():536870912,t.lanes|=r,Is|=r)}function Ji(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(r)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=l,r}function Z1(t,r,l){var c=r.pendingProps;switch(xu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return l=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),yr(St),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(_s(r)?Nr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yu())),st(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(Nr(r),m!==null?(st(r),Dm(r,m)):(st(r),cd(r,h,null,c,l))):m?m!==t.memoizedState?(Nr(r),st(r),Dm(r,m)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&Nr(r),st(r),cd(r,h,t,c,l)),null;case 27:if(ye(r),l=X.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&Nr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return st(r),null}t=G.current,_s(r)?hf(r):(t=Bp(h,c,l),r.stateNode=t,Nr(r))}return st(r),null;case 5:if(ye(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&Nr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return st(r),null}if(m=G.current,_s(r))hf(r);else{var v=Po(X.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?v.createElement(h,{is:c.is}):v.createElement(h)}}m[qt]=r,m[un]=c;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;e:switch(Yt(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Nr(r)}}return st(r),cd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,l),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&Nr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(t=X.current,_s(r)){if(t=r.stateNode,l=r.memoizedProps,c=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[qt]=r,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Ap(t.nodeValue,l)),t||qr(r,!0)}else t=Po(t).createTextNode(c),t[qt]=r,r.stateNode=t}return st(r),null;case 31:if(l=r.memoizedState,t===null||t.memoizedState!==null){if(c=_s(r),l!==null){if(t===null){if(!c)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[qt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else l=yu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return st(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_s(r),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[qt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=yu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),l!==t&&l&&(r.child.flags|=8192),So(r,r.updateQueue),st(r),null);case 4:return fe(),t===null&&Cd(r.stateNode.containerInfo),st(r),null;case 10:return yr(r.type),st(r),null;case 19:if(P(Nt),c=r.memoizedState,c===null)return st(r),null;if(h=(r.flags&128)!==0,m=c.rendering,m===null)if(h)Ji(c,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=fo(t),m!==null){for(r.flags|=128,Ji(c,!1),t=m.updateQueue,r.updateQueue=t,So(r,t),r.subtreeFlags=0,t=l,l=r.child;l!==null;)lf(l,t),l=l.sibling;return Y(Nt,Nt.current&1|2),Be&&xr(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&Lt()>Co&&(r.flags|=128,h=!0,Ji(c,!1),r.lanes=4194304)}else{if(!h)if(t=fo(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,So(r,t),Ji(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Be)return st(r),null}else 2*Lt()-c.renderingStartTime>Co&&l!==536870912&&(r.flags|=128,h=!0,Ji(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(t=c.last,t!==null?t.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Lt(),t.sibling=null,l=Nt.current,Y(Nt,h?l&1|2:l&1),Be&&xr(r,c.treeForkCount),t):(st(r),null);case 22:case 23:return Nn(r),Ru(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),l=r.updateQueue,l!==null&&So(r,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),t!==null&&P(Ta),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),yr(St),st(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function K1(t,r){switch(xu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return yr(St),fe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ye(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(i(340));ka()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Nn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ka()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return P(Nt),null;case 4:return fe(),null;case 10:return yr(r.type),null;case 22:case 23:return Nn(r),Ru(),t!==null&&P(Ta),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return yr(St),null;case 25:return null;default:return null}}function zm(t,r){switch(xu(r),r.tag){case 3:yr(St),fe();break;case 26:case 27:case 5:ye(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:P(Nt);break;case 10:yr(r.type);break;case 22:case 23:Nn(r),Ru(),t!==null&&P(Ta);break;case 24:yr(St)}}function Xi(t,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){c=void 0;var m=l.create,v=l.inst;c=m(),v.destroy=c}l=l.next}while(l!==h)}}catch(k){Ye(r,r.return,k)}}function Jr(t,r,l){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&t)===t){var v=c.inst,k=v.destroy;if(k!==void 0){v.destroy=void 0,h=r;var R=l,F=k;try{F()}catch(re){Ye(h,R,re)}}}c=c.next}while(c!==m)}}catch(re){Ye(r,r.return,re)}}function Im(t){var r=t.updateQueue;if(r!==null){var l=t.stateNode;try{kf(r,l)}catch(c){Ye(t,t.return,c)}}}function Mm(t,r,l){l.props=Da(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){Ye(t,r,c)}}function Qi(t,r){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(h){Ye(t,r,h)}}function sr(t,r){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(h){Ye(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ye(t,r,h)}else l.current=null}function Um(t){var r=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(h){Ye(t,t.return,h)}}function ud(t,r,l){try{var c=t.stateNode;xw(c,t.type,l,r),c[un]=r}catch(h){Ye(t,t.return,h)}}function Lm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,r,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(t),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=mr));else if(c!==4&&(c===27&&ra(t.type)&&(l=t.stateNode,r=null),t=t.child,t!==null))for(hd(t,r,l),t=t.sibling;t!==null;)hd(t,r,l),t=t.sibling}function Eo(t,r,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(c!==4&&(c===27&&ra(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Eo(t,r,l),t=t.sibling;t!==null;)Eo(t,r,l),t=t.sibling}function $m(t){var r=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Yt(r,c,l),r[qt]=t,r[un]=l}catch(m){Ye(t,t.return,m)}}var jr=!1,At=!1,fd=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function J1(t,r){if(t=t.containerInfo,zd=Zo,t=X0(t),iu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var v=0,k=-1,R=-1,F=0,re=0,le=t,K=null;t:for(;;){for(var J;le!==l||h!==0&&le.nodeType!==3||(k=v+h),le!==m||c!==0&&le.nodeType!==3||(R=v+c),le.nodeType===3&&(v+=le.nodeValue.length),(J=le.firstChild)!==null;)K=le,le=J;for(;;){if(le===t)break t;if(K===l&&++F===h&&(k=v),K===m&&++re===c&&(R=v),(J=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=J}l=k===-1||R===-1?null:{start:k,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Id={focusedElem:t,selectionRange:l},Zo=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)h=t[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=r,h=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var xe=Da(l.type,h);t=c.getSnapshotBeforeUpdate(xe,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(l,l.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,l=t.nodeType,l===9)Ld(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function Pm(t,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Sr(t,l),c&4&&Xi(5,l);break;case 1:if(Sr(t,l),c&4)if(t=l.stateNode,r===null)try{t.componentDidMount()}catch(v){Ye(l,l.return,v)}else{var h=Da(l.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(l,l.return,v)}}c&64&&Im(l),c&512&&Qi(l,l.return);break;case 3:if(Sr(t,l),c&64&&(t=l.updateQueue,t!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{kf(t,r)}catch(v){Ye(l,l.return,v)}}break;case 27:r===null&&c&4&&$m(l);case 26:case 5:Sr(t,l),r===null&&c&4&&Um(l),c&512&&Qi(l,l.return);break;case 12:Sr(t,l);break;case 31:Sr(t,l),c&4&&Gm(t,l);break;case 13:Sr(t,l),c&4&&Vm(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=sw.bind(null,l),kw(t,l))));break;case 22:if(c=l.memoizedState!==null||jr,!c){r=r!==null&&r.memoizedState!==null||At,h=jr;var m=At;jr=c,(At=r)&&!m?Er(t,l,(l.subtreeFlags&8772)!==0):Sr(t,l),jr=h,At=m}break;case 30:break;default:Sr(t,l)}}function Hm(t){var r=t.alternate;r!==null&&(t.alternate=null,Hm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&qc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,hn=!1;function kr(t,r,l){for(l=l.child;l!==null;)qm(t,r,l),l=l.sibling}function qm(t,r,l){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(dr,l)}catch{}switch(l.tag){case 26:At||sr(l,r),kr(t,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:At||sr(l,r);var c=lt,h=hn;ra(l.type)&&(lt=l.stateNode,hn=!1),kr(t,r,l),ll(l.stateNode),lt=c,hn=h;break;case 5:At||sr(l,r);case 6:if(c=lt,h=hn,lt=null,kr(t,r,l),lt=c,hn=h,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(m){Ye(l,r,m)}else try{lt.removeChild(l.stateNode)}catch(m){Ye(l,r,m)}break;case 18:lt!==null&&(hn?(t=lt,Ip(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),qs(t)):Ip(lt,l.stateNode));break;case 4:c=lt,h=hn,lt=l.stateNode.containerInfo,hn=!0,kr(t,r,l),lt=c,hn=h;break;case 0:case 11:case 14:case 15:Jr(2,l,r),At||Jr(4,l,r),kr(t,r,l);break;case 1:At||(sr(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Mm(l,r,c)),kr(t,r,l);break;case 21:kr(t,r,l);break;case 22:At=(c=At)||l.memoizedState!==null,kr(t,r,l),At=c;break;default:kr(t,r,l)}}function Gm(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qs(t)}catch(l){Ye(r,r.return,l)}}}function Vm(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qs(t)}catch(l){Ye(r,r.return,l)}}function X1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Bm),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Bm),r;default:throw Error(i(435,t.tag))}}function To(t,r){var l=X1(t);r.forEach(function(c){if(!l.has(c)){l.add(c);var h=iw.bind(null,t,c);c.then(h,h)}})}function fn(t,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c],m=t,v=r,k=v;e:for(;k!==null;){switch(k.tag){case 27:if(ra(k.type)){lt=k.stateNode,hn=!1;break e}break;case 5:lt=k.stateNode,hn=!1;break e;case 3:case 4:lt=k.stateNode.containerInfo,hn=!0;break e}k=k.return}if(lt===null)throw Error(i(160));qm(m,v,h),lt=null,hn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fm(r,t),r=r.sibling}var Jn=null;function Fm(t,r){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),mn(t),c&4&&(Jr(3,t,t.return),Xi(3,t),Jr(5,t,t.return));break;case 1:fn(r,t),mn(t),c&512&&(At||l===null||sr(l,l.return)),c&64&&jr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var h=Jn;if(fn(r,t),mn(t),c&512&&(At||l===null||sr(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ki]||m[qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Yt(m,c,l),m[qt]=t,$t(m),c=m;break e;case"link":var v=Fp("link","href",h).get(c+(l.href||""));if(v){for(var k=0;k<v.length;k++)if(m=v[k],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(k,1);break t}}m=h.createElement(c),Yt(m,c,l),h.head.appendChild(m);break;case"meta":if(v=Fp("meta","content",h).get(c+(l.content||""))){for(k=0;k<v.length;k++)if(m=v[k],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(k,1);break t}}m=h.createElement(c),Yt(m,c,l),h.head.appendChild(m);break;default:throw Error(i(468,c))}m[qt]=t,$t(m),c=m}t.stateNode=c}else Yp(h,t.type,t.stateNode);else t.stateNode=Vp(h,c,t.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?Yp(h,t.type,t.stateNode):Vp(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&ud(t,t.memoizedProps,l.memoizedProps)}break;case 27:fn(r,t),mn(t),c&512&&(At||l===null||sr(l,l.return)),l!==null&&c&4&&ud(t,t.memoizedProps,l.memoizedProps);break;case 5:if(fn(r,t),mn(t),c&512&&(At||l===null||sr(l,l.return)),t.flags&32){h=t.stateNode;try{hs(h,"")}catch(xe){Ye(t,t.return,xe)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,l!==null?l.memoizedProps:h)),c&1024&&(fd=!0);break;case 6:if(fn(r,t),mn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(xe){Ye(t,t.return,xe)}}break;case 3:if(Go=null,h=Jn,Jn=Ho(r.containerInfo),fn(r,t),Jn=h,mn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{qs(r.containerInfo)}catch(xe){Ye(t,t.return,xe)}fd&&(fd=!1,Ym(t));break;case 4:c=Jn,Jn=Ho(t.stateNode.containerInfo),fn(r,t),mn(t),Jn=c;break;case 12:fn(r,t),mn(t);break;case 31:fn(r,t),mn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,To(t,c)));break;case 13:fn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Oo=Lt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,To(t,c)));break;case 22:h=t.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,F=jr,re=At;if(jr=F||h,At=re||R,fn(r,t),At=re,jr=F,mn(t),c&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(l===null||R||jr||At||za(t)),l=null,r=t;;){if(r.tag===5||r.tag===26){if(l===null){R=l=r;try{if(m=R.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{k=R.stateNode;var le=R.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(xe){Ye(R,R.return,xe)}}}else if(r.tag===6){if(l===null){R=r;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(xe){Ye(R,R.return,xe)}}}else if(r.tag===18){if(l===null){R=r;try{var J=R.stateNode;h?Mp(J,!0):Mp(R.stateNode,!1)}catch(xe){Ye(R,R.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,To(t,l))));break;case 19:fn(r,t),mn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,To(t,c)));break;case 30:break;case 21:break;default:fn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var l,c=t.return;c!==null;){if(Lm(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var h=l.stateNode,m=dd(t);Eo(t,m,h);break;case 5:var v=l.stateNode;l.flags&32&&(hs(v,""),l.flags&=-33);var k=dd(t);Eo(t,k,v);break;case 3:case 4:var R=l.stateNode.containerInfo,F=dd(t);hd(t,F,R);break;default:throw Error(i(161))}}catch(re){Ye(t,t.return,re)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ym(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ym(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Pm(t,r.alternate,r),r=r.sibling}function za(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Jr(4,r,r.return),za(r);break;case 1:sr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Mm(r,r.return,l),za(r);break;case 27:ll(r.stateNode);case 26:case 5:sr(r,r.return),za(r);break;case 22:r.memoizedState===null&&za(r);break;case 30:za(r);break;default:za(r)}t=t.sibling}}function Er(t,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=t,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Er(h,m,l),Xi(4,m);break;case 1:if(Er(h,m,l),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ye(c,c.return,F)}if(c=m,h=c.updateQueue,h!==null){var k=c.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jf(R[h],k)}catch(F){Ye(c,c.return,F)}}l&&v&64&&Im(m),Qi(m,m.return);break;case 27:$m(m);case 26:case 5:Er(h,m,l),l&&c===null&&v&4&&Um(m),Qi(m,m.return);break;case 12:Er(h,m,l);break;case 31:Er(h,m,l),l&&v&4&&Gm(h,m);break;case 13:Er(h,m,l),l&&v&4&&Vm(h,m);break;case 22:m.memoizedState===null&&Er(h,m,l),Qi(m,m.return);break;case 30:break;default:Er(h,m,l)}r=r.sibling}}function md(t,r){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Li(l))}function pd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Li(t))}function Xn(t,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zm(t,r,l,c),r=r.sibling}function Zm(t,r,l,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(t,r,l,c),h&2048&&Xi(9,r);break;case 1:Xn(t,r,l,c);break;case 3:Xn(t,r,l,c),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Li(t)));break;case 12:if(h&2048){Xn(t,r,l,c),t=r.stateNode;try{var m=r.memoizedProps,v=m.id,k=m.onPostCommit;typeof k=="function"&&k(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(r,r.return,R)}}else Xn(t,r,l,c);break;case 31:Xn(t,r,l,c);break;case 13:Xn(t,r,l,c);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?Xn(t,r,l,c):Wi(t,r):m._visibility&2?Xn(t,r,l,c):(m._visibility|=2,Rs(t,r,l,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&md(v,r);break;case 24:Xn(t,r,l,c),h&2048&&pd(r.alternate,r);break;default:Xn(t,r,l,c)}}function Rs(t,r,l,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,v=r,k=l,R=c,F=v.flags;switch(v.tag){case 0:case 11:case 15:Rs(m,v,k,R,h),Xi(8,v);break;case 23:break;case 22:var re=v.stateNode;v.memoizedState!==null?re._visibility&2?Rs(m,v,k,R,h):Wi(m,v):(re._visibility|=2,Rs(m,v,k,R,h)),h&&F&2048&&md(v.alternate,v);break;case 24:Rs(m,v,k,R,h),h&&F&2048&&pd(v.alternate,v);break;default:Rs(m,v,k,R,h)}r=r.sibling}}function Wi(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=t,c=r,h=c.flags;switch(c.tag){case 22:Wi(l,c),h&2048&&md(c.alternate,c);break;case 24:Wi(l,c),h&2048&&pd(c.alternate,c);break;default:Wi(l,c)}r=r.sibling}}var el=8192;function Ds(t,r,l){if(t.subtreeFlags&el)for(t=t.child;t!==null;)Km(t,r,l),t=t.sibling}function Km(t,r,l){switch(t.tag){case 26:Ds(t,r,l),t.flags&el&&t.memoizedState!==null&&Uw(l,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ds(t,r,l);break;case 3:case 4:var c=Jn;Jn=Ho(t.stateNode.containerInfo),Ds(t,r,l),Jn=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=el,el=16777216,Ds(t,r,l),el=c):Ds(t,r,l));break;default:Ds(t,r,l)}}function Jm(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Bt=c,Qm(c,t)}Jm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xm(t),t=t.sibling}function Xm(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Jr(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ao(t)):tl(t);break;default:tl(t)}}function Ao(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Bt=c,Qm(c,t)}Jm(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Jr(8,r,r.return),Ao(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ao(r));break;default:Ao(r)}t=t.sibling}}function Qm(t,r){for(;Bt!==null;){var l=Bt;switch(l.tag){case 0:case 11:case 15:Jr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Li(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Bt=c;else e:for(l=t;Bt!==null;){c=Bt;var h=c.sibling,m=c.return;if(Hm(c),c===l){Bt=null;break e}if(h!==null){h.return=m,Bt=h;break e}Bt=m}}}var Q1={getCacheForType:function(t){var r=Vt(St),l=r.data.get(t);return l===void 0&&(l=t(),r.data.set(t,l)),l},cacheSignal:function(){return Vt(St).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,Ie=null,Le=0,Fe=0,jn=null,Xr=!1,zs=!1,gd=!1,Tr=0,wt=0,Qr=0,Ia=0,xd=0,kn=0,Is=0,nl=null,pn=null,bd=!1,Oo=0,Wm=0,Co=1/0,Ro=null,Wr=null,It=0,ea=null,Ms=null,Ar=0,yd=0,vd=null,ep=null,rl=0,wd=null;function Sn(){return(Ve&2)!==0&&Le!==0?Le&-Le:U.T!==null?Ed():p0()}function tp(){if(kn===0)if((Le&536870912)===0||Be){var t=W;W<<=1,(W&3932160)===0&&(W=262144),kn=t}else kn=536870912;return t=_n.current,t!==null&&(t.flags|=32),kn}function gn(t,r,l){(t===We&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Us(t,0),ta(t,Le,kn,!1)),yn(t,l),((Ve&2)===0||t!==We)&&(t===We&&((Ve&2)===0&&(Ia|=l),wt===4&&ta(t,Le,kn,!1)),ir(t))}function np(t,r,l){if((Ve&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&t.expiredLanes)===0||Dn(t,r),h=c?nw(t,r):Nd(t,r,!0),m=c;do{if(h===0){zs&&!c&&ta(t,r,0,!1);break}else{if(l=t.current.alternate,m&&!ew(l)){h=Nd(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var k=t;h=nl;var R=k.current.memoizedState.isDehydrated;if(R&&(Us(k,v).flags|=256),v=Nd(k,v,!1),v!==2){if(gd&&!R){k.errorRecoveryDisabledLanes|=m,Ia|=m,h=4;break e}m=pn,pn=h,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){Us(t,0),ta(t,r,0,!0);break}e:{switch(c=t,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ta(c,r,kn,!Xr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Oo+300-Lt(),10<h)){if(ta(c,r,kn,!Xr),ht(c,0,!0)!==0)break e;Ar=r,c.timeoutHandle=Dp(rp.bind(null,c,l,pn,Ro,bd,r,kn,Ia,Is,Xr,m,"Throttled",-0,0),h);break e}rp(c,l,pn,Ro,bd,r,kn,Ia,Is,Xr,m,null,-0,0)}}break}while(!0);ir(t)}function rp(t,r,l,c,h,m,v,k,R,F,re,le,K,J){if(t.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},Km(r,m,le);var xe=(m&62914560)===m?Oo-Lt():(m&4194048)===m?Wm-Lt():0;if(xe=Lw(le,xe),xe!==null){Ar=m,t.cancelPendingCommit=xe(dp.bind(null,t,r,m,l,c,h,v,k,R,re,le,null,K,J)),ta(t,m,v,!F);return}}dp(t,r,m,l,c,h,v,k,R)}function ew(t){for(var r=t;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var h=l[c],m=h.getSnapshot;h=h.value;try{if(!vn(m(),h))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(t,r,l,c){r&=~xd,r&=~Ia,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var h=r;0<h;){var m=31-ut(h),v=1<<m;c[m]=-1,h&=~v}l!==0&&ss(t,l,r)}function Do(){return(Ve&6)===0?(al(0),!1):!0}function _d(){if(Ie!==null){if(Fe===0)var t=Ie.return;else t=Ie,br=Sa=null,Lu(t),Es=null,Bi=0,t=Ie;for(;t!==null;)zm(t.alternate,t),t=t.return;Ie=null}}function Us(t,r){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,vw(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ar=0,_d(),We=t,Ie=l=gr(t.current,null),Le=r,Fe=0,jn=null,Xr=!1,zs=Dn(t,r),gd=!1,Is=kn=xd=Ia=Qr=wt=0,pn=nl=null,bd=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var h=31-ut(c),m=1<<h;r|=t[h],c&=~m}return Tr=r,Wl(),l}function ap(t,r){De=null,U.H=Zi,r===Ss||r===lo?(r=vf(),Fe=3):r===Su?(r=vf(),Fe=4):Fe=r===ed?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Ie===null&&(wt=1,_o(t,Un(r,t.current)))}function sp(){var t=_n.current;return t===null?!0:(Le&4194048)===Le?Pn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Pn:!1}function ip(){var t=U.H;return U.H=Zi,t===null?Zi:t}function lp(){var t=U.A;return U.A=Q1,t}function zo(){wt=4,Xr||(Le&4194048)!==Le&&_n.current!==null||(zs=!0),(Qr&134217727)===0&&(Ia&134217727)===0||We===null||ta(We,Le,kn,!1)}function Nd(t,r,l){var c=Ve;Ve|=2;var h=ip(),m=lp();(We!==t||Le!==r)&&(Ro=null,Us(t,r)),r=!1;var v=wt;e:do try{if(Fe!==0&&Ie!==null){var k=Ie,R=jn;switch(Fe){case 8:_d(),v=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(r=!0);var F=Fe;if(Fe=0,jn=null,Ls(t,k,R,F),l&&zs){v=0;break e}break;default:F=Fe,Fe=0,jn=null,Ls(t,k,R,F)}}tw(),v=wt;break}catch(re){ap(t,re)}while(!0);return r&&t.shellSuspendCounter++,br=Sa=null,Ve=c,U.H=h,U.A=m,Ie===null&&(We=null,Le=0,Wl()),v}function tw(){for(;Ie!==null;)op(Ie)}function nw(t,r){var l=Ve;Ve|=2;var c=ip(),h=lp();We!==t||Le!==r?(Ro=null,Co=Lt()+500,Us(t,r)):zs=Dn(t,r);e:do try{if(Fe!==0&&Ie!==null){r=Ie;var m=jn;t:switch(Fe){case 1:Fe=0,jn=null,Ls(t,r,m,1);break;case 2:case 9:if(bf(m)){Fe=0,jn=null,cp(r);break}r=function(){Fe!==2&&Fe!==9||We!==t||(Fe=7),ir(t)},m.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:bf(m)?(Fe=0,jn=null,cp(r)):(Fe=0,jn=null,Ls(t,r,m,7));break;case 5:var v=null;switch(Ie.tag){case 26:v=Ie.memoizedState;case 5:case 27:var k=Ie;if(v?Zp(v):k.stateNode.complete){Fe=0,jn=null;var R=k.sibling;if(R!==null)Ie=R;else{var F=k.return;F!==null?(Ie=F,Io(F)):Ie=null}break t}}Fe=0,jn=null,Ls(t,r,m,5);break;case 6:Fe=0,jn=null,Ls(t,r,m,6);break;case 8:_d(),wt=6;break e;default:throw Error(i(462))}}rw();break}catch(re){ap(t,re)}while(!0);return br=Sa=null,U.H=c,U.A=h,Ve=l,Ie!==null?0:(We=null,Le=0,Wl(),wt)}function rw(){for(;Ie!==null&&!nn();)op(Ie)}function op(t){var r=Rm(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,r===null?Io(t):Ie=r}function cp(t){var r=t,l=r.alternate;switch(r.tag){case 15:case 0:r=Sm(l,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Sm(l,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Lu(r);default:zm(l,r),r=Ie=lf(r,Tr),r=Rm(l,r,Tr)}t.memoizedProps=t.pendingProps,r===null?Io(t):Ie=r}function Ls(t,r,l,c){br=Sa=null,Lu(r),Es=null,Bi=0;var h=r.return;try{if(V1(t,h,r,l,Le)){wt=1,_o(t,Un(l,t.current)),Ie=null;return}}catch(m){if(h!==null)throw Ie=h,m;wt=1,_o(t,Un(l,t.current)),Ie=null;return}r.flags&32768?(Be||c===1?t=!0:zs||(Le&536870912)!==0?t=!1:(Xr=t=!0,(c===2||c===9||c===3||c===6)&&(c=_n.current,c!==null&&c.tag===13&&(c.flags|=16384))),up(r,t)):Io(r)}function Io(t){var r=t;do{if((r.flags&32768)!==0){up(r,Xr);return}t=r.return;var l=Z1(r.alternate,r,Tr);if(l!==null){Ie=l;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=t}while(r!==null);wt===0&&(wt=5)}function up(t,r){do{var l=K1(t.alternate,t);if(l!==null){l.flags&=32767,Ie=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=l}while(t!==null);wt=6,Ie=null}function dp(t,r,l,c,h,m,v,k,R){t.cancelPendingCommit=null;do Mo();while(It!==0);if((Ve&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=du,m0(t,l,m,v,k,R),t===We&&(Ie=We=null,Le=0),Ms=r,ea=t,Ar=l,yd=m,vd=h,ep=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lw(Cn,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,h=B.p,B.p=2,v=Ve,Ve|=4;try{J1(t,r,l)}finally{Ve=v,B.p=h,U.T=c}}It=1,hp(),fp(),mp()}}function hp(){if(It===1){It=0;var t=ea,r=Ms,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var c=B.p;B.p=2;var h=Ve;Ve|=4;try{Fm(r,t);var m=Id,v=X0(t.containerInfo),k=m.focusedElem,R=m.selectionRange;if(v!==k&&k&&k.ownerDocument&&J0(k.ownerDocument.documentElement,k)){if(R!==null&&iu(k)){var F=R.start,re=R.end;if(re===void 0&&(re=F),"selectionStart"in k)k.selectionStart=F,k.selectionEnd=Math.min(re,k.value.length);else{var le=k.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var J=K.getSelection(),xe=k.textContent.length,Ee=Math.min(R.start,xe),Xe=R.end===void 0?Ee:Math.min(R.end,xe);!J.extend&&Ee>Xe&&(v=Xe,Xe=Ee,Ee=v);var q=K0(k,Ee),M=K0(k,Xe);if(q&&M&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==M.node||J.focusOffset!==M.offset)){var V=le.createRange();V.setStart(q.node,q.offset),J.removeAllRanges(),Ee>Xe?(J.addRange(V),J.extend(M.node,M.offset)):(V.setEnd(M.node,M.offset),J.addRange(V))}}}}for(le=[],J=k;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var se=le[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zo=!!zd,Id=zd=null}finally{Ve=h,B.p=c,U.T=l}}t.current=r,It=2}}function fp(){if(It===2){It=0;var t=ea,r=Ms,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var c=B.p;B.p=2;var h=Ve;Ve|=4;try{Pm(t,r.alternate,r)}finally{Ve=h,B.p=c,U.T=l}}It=3}}function mp(){if(It===4||It===3){It=0,Qa();var t=ea,r=Ms,l=Ar,c=ep;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?It=5:(It=0,Ms=ea=null,pp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Wr=null),Pc(l),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(dr,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=U.T,h=B.p,B.p=2,U.T=null;try{for(var m=t.onRecoverableError,v=0;v<c.length;v++){var k=c[v];m(k.value,{componentStack:k.stack})}}finally{U.T=r,B.p=h}}(Ar&3)!==0&&Mo(),ir(t),h=t.pendingLanes,(l&261930)!==0&&(h&42)!==0?t===wd?rl++:(rl=0,wd=t):rl=0,al(0)}}function pp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Li(r)))}function Mo(){return hp(),fp(),mp(),gp()}function gp(){if(It!==5)return!1;var t=ea,r=yd;yd=0;var l=Pc(Ar),c=U.T,h=B.p;try{B.p=32>l?32:l,U.T=null,l=vd,vd=null;var m=ea,v=Ar;if(It=0,Ms=ea=null,Ar=0,(Ve&6)!==0)throw Error(i(331));var k=Ve;if(Ve|=4,Xm(m.current),Zm(m,m.current,v,l),Ve=k,al(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(dr,m)}catch{}return!0}finally{B.p=h,U.T=c,pp(t,r)}}function xp(t,r,l){r=Un(l,r),r=Wu(t.stateNode,r,2),t=Yr(t,r,2),t!==null&&(yn(t,2),ir(t))}function Ye(t,r,l){if(t.tag===3)xp(t,t,l);else for(;r!==null;){if(r.tag===3){xp(r,t,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=Un(l,t),l=bm(2),c=Yr(r,l,2),c!==null&&(ym(l,c,r,t),yn(c,2),ir(c));break}}r=r.return}}function jd(t,r,l){var c=t.pingCache;if(c===null){c=t.pingCache=new W1;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(l)||(gd=!0,h.add(l),t=aw.bind(null,t,r,l),r.then(t,t))}function aw(t,r,l){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,We===t&&(Le&l)===l&&(wt===4||wt===3&&(Le&62914560)===Le&&300>Lt()-Oo?(Ve&2)===0&&Us(t,0):xd|=l,Is===Le&&(Is=0)),ir(t)}function bp(t,r){r===0&&(r=cn()),t=Na(t,r),t!==null&&(yn(t,r),ir(t))}function sw(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),bp(t,l)}function iw(t,r){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),bp(t,l)}function lw(t,r){return rt(t,r)}var Uo=null,$s=null,kd=!1,Lo=!1,Sd=!1,na=0;function ir(t){t!==$s&&t.next===null&&($s===null?Uo=$s=t:$s=$s.next=t),Lo=!0,kd||(kd=!0,cw())}function al(t,r){if(!Sd&&Lo){Sd=!0;do for(var l=!1,c=Uo;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var v=c.suspendedLanes,k=c.pingedLanes;m=(1<<31-ut(42|t)+1)-1,m&=h&~(v&~k),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,_p(c,m))}else m=Le,m=ht(c,c===We?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Dn(c,m)||(l=!0,_p(c,m));c=c.next}while(l);Sd=!1}}function ow(){yp()}function yp(){Lo=kd=!1;var t=0;na!==0&&yw()&&(t=na);for(var r=Lt(),l=null,c=Uo;c!==null;){var h=c.next,m=vp(c,r);m===0?(c.next=null,l===null?Uo=h:l.next=h,h===null&&($s=l)):(l=c,(t!==0||(m&3)!==0)&&(Lo=!0)),c=h}It!==0&&It!==5||al(t),na!==0&&(na=0)}function vp(t,r){for(var l=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-ut(m),k=1<<v,R=h[v];R===-1?((k&l)===0||(k&c)!==0)&&(h[v]=as(k,r)):R<=r&&(t.expiredLanes|=k),m&=~k}if(r=We,l=Le,l=ht(t,t===r?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&tt(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Dn(t,l)){if(r=l&-l,r===t.callbackPriority)return r;switch(c!==null&&tt(c),Pc(l)){case 2:case 8:l=Wa;break;case 32:l=Cn;break;case 268435456:l=ts;break;default:l=Cn}return c=wp.bind(null,t),l=rt(l,c),t.callbackPriority=r,t.callbackNode=l,r}return c!==null&&c!==null&&tt(c),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,r){if(It!==0&&It!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Mo()&&t.callbackNode!==l)return null;var c=Le;return c=ht(t,t===We?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(np(t,c,r),vp(t,Lt()),t.callbackNode!=null&&t.callbackNode===l?wp.bind(null,t):null)}function _p(t,r){if(Mo())return null;np(t,r,!0)}function cw(){ww(function(){(Ve&6)!==0?rt(Lr,ow):yp()})}function Ed(){if(na===0){var t=js;t===0&&(t=Pe,Pe<<=1,(Pe&261888)===0&&(Pe=256)),na=t}return na}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vl(""+t)}function jp(t,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,t.id&&l.setAttribute("form",t.id),r.parentNode.insertBefore(l,r),t=new FormData(t),l.parentNode.removeChild(l),t}function uw(t,r,l,c,h){if(r==="submit"&&l&&l.stateNode===h){var m=Np((h[un]||null).action),v=c.submitter;v&&(r=(r=v[un]||null)?Np(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var k=new Kl("action","action",null,c,h);t.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(na!==0){var R=v?jp(h,v):new FormData(h);Yu(l,{pending:!0,data:R,method:h.method,action:m},null,R)}}else typeof m=="function"&&(k.preventDefault(),R=v?jp(h,v):new FormData(h),Yu(l,{pending:!0,data:R,method:h.method,action:m},m,R))},currentTarget:h}]})}}for(var Td=0;Td<uu.length;Td++){var Ad=uu[Td],dw=Ad.toLowerCase(),hw=Ad[0].toUpperCase()+Ad.slice(1);Kn(dw,"on"+hw)}Kn(ef,"onAnimationEnd"),Kn(tf,"onAnimationIteration"),Kn(nf,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(T1,"onTransitionRun"),Kn(A1,"onTransitionStart"),Kn(O1,"onTransitionCancel"),Kn(rf,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function kp(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var k=c[v],R=k.instance,F=k.currentTarget;if(k=k.listener,R!==m&&h.isPropagationStopped())break e;m=k,h.currentTarget=F;try{m(h)}catch(re){Ql(re)}h.currentTarget=null,m=R}else for(v=0;v<c.length;v++){if(k=c[v],R=k.instance,F=k.currentTarget,k=k.listener,R!==m&&h.isPropagationStopped())break e;m=k,h.currentTarget=F;try{m(h)}catch(re){Ql(re)}h.currentTarget=null,m=R}}}}function Me(t,r){var l=r[Hc];l===void 0&&(l=r[Hc]=new Set);var c=t+"__bubble";l.has(c)||(Sp(r,t,2,!1),l.add(c))}function Od(t,r,l){var c=0;r&&(c|=4),Sp(l,t,c,r)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[$o]){t[$o]=!0,b0.forEach(function(l){l!=="selectionchange"&&(fw.has(l)||Od(l,!1,t),Od(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$o]||(r[$o]=!0,Od("selectionchange",!1,r))}}function Sp(t,r,l,c){switch(tg(r)){case 2:var h=Pw;break;case 8:h=Hw;break;default:h=Fd}l=h.bind(null,r,l,t),h=void 0,!Xc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(r,l,{capture:!0,passive:h}):t.addEventListener(r,l,!0):h!==void 0?t.addEventListener(r,l,{passive:h}):t.addEventListener(r,l,!1)}function Rd(t,r,l,c,h){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var k=c.stateNode.containerInfo;if(k===h)break;if(v===4)for(v=c.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;k!==null;){if(v=ls(k),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){c=m=v;continue e}k=k.parentNode}}c=c.return}O0(function(){var F=m,re=Kc(l),le=[];e:{var K=af.get(t);if(K!==void 0){var J=Kl,xe=t;switch(t){case"keypress":if(Yl(l)===0)break e;case"keydown":case"keyup":J=i1;break;case"focusin":xe="focus",J=tu;break;case"focusout":xe="blur",J=tu;break;case"beforeblur":case"afterblur":J=tu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=c1;break;case ef:case tf:case nf:J=Xv;break;case rf:J=d1;break;case"scroll":case"scrollend":J=Fv;break;case"wheel":J=f1;break;case"copy":case"cut":case"paste":J=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=I0;break;case"toggle":case"beforetoggle":J=p1}var Ee=(r&4)!==0,Xe=!Ee&&(t==="scroll"||t==="scrollend"),q=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var M=F,V;M!==null;){var se=M;if(V=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||V===null||q===null||(se=Ei(M,q),se!=null&&Ee.push(il(M,se,V))),Xe)break;M=M.return}0<Ee.length&&(K=new J(K,xe,null,l,re),le.push({event:K,listeners:Ee}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&l!==Zc&&(xe=l.relatedTarget||l.fromElement)&&(ls(xe)||xe[is]))break e;if((J||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,J?(xe=l.relatedTarget||l.toElement,J=F,xe=xe?ls(xe):null,xe!==null&&(Xe=u(xe),Ee=xe.tag,xe!==Xe||Ee!==5&&Ee!==27&&Ee!==6)&&(xe=null)):(J=null,xe=F),J!==xe)){if(Ee=D0,se="onMouseLeave",q="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=I0,se="onPointerLeave",q="onPointerEnter",M="pointer"),Xe=J==null?K:Si(J),V=xe==null?K:Si(xe),K=new Ee(se,M+"leave",J,l,re),K.target=Xe,K.relatedTarget=V,se=null,ls(re)===F&&(Ee=new Ee(q,M+"enter",xe,l,re),Ee.target=V,Ee.relatedTarget=Xe,se=Ee),Xe=se,J&&xe)t:{for(Ee=mw,q=J,M=xe,V=0,se=q;se;se=Ee(se))V++;se=0;for(var ke=M;ke;ke=Ee(ke))se++;for(;0<V-se;)q=Ee(q),V--;for(;0<se-V;)M=Ee(M),se--;for(;V--;){if(q===M||M!==null&&q===M.alternate){Ee=q;break t}q=Ee(q),M=Ee(M)}Ee=null}else Ee=null;J!==null&&Ep(le,K,J,Ee,!1),xe!==null&&Xe!==null&&Ep(le,Xe,xe,Ee,!0)}}e:{if(K=F?Si(F):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var qe=q0;else if(P0(K))if(G0)qe=k1;else{qe=N1;var we=_1}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Yc(F.elementType)&&(qe=q0):qe=j1;if(qe&&(qe=qe(t,F))){H0(le,qe,l,re);break e}we&&we(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Fc(K,"number",K.value)}switch(we=F?Si(F):window,t){case"focusin":(P0(we)||we.contentEditable==="true")&&(gs=we,lu=F,Ii=null);break;case"focusout":Ii=lu=gs=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Q0(le,l,re);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Q0(le,l,re)}var ze;if(ru)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ps?$0(t,l)&&($e="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(M0&&l.locale!=="ko"&&(ps||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ps&&(ze=C0()):(Br=re,Qc="value"in Br?Br.value:Br.textContent,ps=!0)),we=Bo(F,$e),0<we.length&&($e=new z0($e,t,null,l,re),le.push({event:$e,listeners:we}),ze?$e.data=ze:(ze=B0(l),ze!==null&&($e.data=ze)))),(ze=x1?b1(t,l):y1(t,l))&&($e=Bo(F,"onBeforeInput"),0<$e.length&&(we=new z0("onBeforeInput","beforeinput",null,l,re),le.push({event:we,listeners:$e}),we.data=ze)),uw(le,t,F,l,re)}kp(le,r)})}function il(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Bo(t,r){for(var l=r+"Capture",c=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ei(t,l),h!=null&&c.unshift(il(t,h,m)),h=Ei(t,r),h!=null&&c.push(il(t,h,m))),t.tag===3)return c;t=t.return}return[]}function mw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,r,l,c,h){for(var m=r._reactName,v=[];l!==null&&l!==c;){var k=l,R=k.alternate,F=k.stateNode;if(k=k.tag,R!==null&&R===c)break;k!==5&&k!==26&&k!==27||F===null||(R=F,h?(F=Ei(l,m),F!=null&&v.unshift(il(l,F,R))):h||(F=Ei(l,m),F!=null&&v.push(il(l,F,R)))),l=l.return}v.length!==0&&t.push({event:r,listeners:v})}var pw=/\r\n?/g,gw=/\u0000|\uFFFD/g;function Tp(t){return(typeof t=="string"?t:""+t).replace(pw,`
`).replace(gw,"")}function Ap(t,r){return r=Tp(r),Tp(t)===r}function Je(t,r,l,c,h,m){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||hs(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&hs(t,""+c);break;case"className":ql(t,"class",c);break;case"tabIndex":ql(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(t,l,c);break;case"style":T0(t,c,m);break;case"data":if(r!=="object"){ql(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Vl(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(r!=="input"&&Je(t,r,"name",h.name,h,null),Je(t,r,"formEncType",h.formEncType,h,null),Je(t,r,"formMethod",h.formMethod,h,null),Je(t,r,"formTarget",h.formTarget,h,null)):(Je(t,r,"encType",h.encType,h,null),Je(t,r,"method",h.method,h,null),Je(t,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Vl(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=mr);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=Vl(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Hl(t,"popover",c);break;case"xlinkActuate":fr(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":fr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":fr(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":fr(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":fr(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":fr(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":fr(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":fr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":fr(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hl(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gv.get(l)||l,Hl(t,l,c))}}function Dd(t,r,l,c,h,m){switch(l){case"style":T0(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?hs(t,c):(typeof c=="number"||typeof c=="bigint")&&hs(t,""+c);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"onClick":c!=null&&(t.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),r=l.slice(2,h?l.length-7:void 0),m=t[un]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(r,c,h);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):Hl(t,l,c)}}}function Yt(t,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var c=!1,h=!1,m;for(m in l)if(l.hasOwnProperty(m)){var v=l[m];if(v!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Je(t,r,m,v,l,null)}}h&&Je(t,r,"srcSet",l.srcSet,l,null),c&&Je(t,r,"src",l.src,l,null);return;case"input":Me("invalid",t);var k=m=v=h=null,R=null,F=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":h=re;break;case"type":v=re;break;case"checked":R=re;break;case"defaultChecked":F=re;break;case"value":m=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,r));break;default:Je(t,r,c,re,l,null)}}j0(t,m,k,R,F,v,h,!1);return;case"select":Me("invalid",t),c=v=m=null;for(h in l)if(l.hasOwnProperty(h)&&(k=l[h],k!=null))switch(h){case"value":m=k;break;case"defaultValue":v=k;break;case"multiple":c=k;default:Je(t,r,h,k,l,null)}r=m,l=v,t.multiple=!!c,r!=null?ds(t,!!c,r,!1):l!=null&&ds(t,!!c,l,!0);return;case"textarea":Me("invalid",t),m=h=c=null;for(v in l)if(l.hasOwnProperty(v)&&(k=l[v],k!=null))switch(v){case"value":c=k;break;case"defaultValue":h=k;break;case"children":m=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Je(t,r,v,k,l,null)}S0(t,c,h,m);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(c=l[R],c!=null))switch(R){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(t,r,R,c,l,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(c=0;c<sl.length;c++)Me(sl[c],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Je(t,r,F,c,l,null)}return;default:if(Yc(r)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Dd(t,r,re,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&Je(t,r,k,c,l,null))}function xw(t,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,k=null,R=null,F=null,re=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":R=le;default:c.hasOwnProperty(J)||Je(t,r,J,null,c,le)}}for(var K in c){var J=c[K];if(le=l[K],c.hasOwnProperty(K)&&(J!=null||le!=null))switch(K){case"type":m=J;break;case"name":h=J;break;case"checked":F=J;break;case"defaultChecked":re=J;break;case"value":v=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:J!==le&&Je(t,r,K,J,c,le)}}Vc(t,v,k,R,F,re,m,h);return;case"select":J=v=k=K=null;for(m in l)if(R=l[m],l.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":J=R;default:c.hasOwnProperty(m)||Je(t,r,m,null,c,R)}for(h in c)if(m=c[h],R=l[h],c.hasOwnProperty(h)&&(m!=null||R!=null))switch(h){case"value":K=m;break;case"defaultValue":k=m;break;case"multiple":v=m;default:m!==R&&Je(t,r,h,m,c,R)}r=k,l=v,c=J,K!=null?ds(t,!!l,K,!1):!!c!=!!l&&(r!=null?ds(t,!!l,r,!0):ds(t,!!l,l?[]:"",!1));return;case"textarea":J=K=null;for(k in l)if(h=l[k],l.hasOwnProperty(k)&&h!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Je(t,r,k,null,c,h)}for(v in c)if(h=c[v],m=l[v],c.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":K=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&Je(t,r,v,h,c,m)}k0(t,K,J);return;case"option":for(var xe in l)if(K=l[xe],l.hasOwnProperty(xe)&&K!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:Je(t,r,xe,null,c,K)}for(R in c)if(K=c[R],J=l[R],c.hasOwnProperty(R)&&K!==J&&(K!=null||J!=null))switch(R){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Je(t,r,R,K,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)K=l[Ee],l.hasOwnProperty(Ee)&&K!=null&&!c.hasOwnProperty(Ee)&&Je(t,r,Ee,null,c,K);for(F in c)if(K=c[F],J=l[F],c.hasOwnProperty(F)&&K!==J&&(K!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:Je(t,r,F,K,c,J)}return;default:if(Yc(r)){for(var Xe in l)K=l[Xe],l.hasOwnProperty(Xe)&&K!==void 0&&!c.hasOwnProperty(Xe)&&Dd(t,r,Xe,void 0,c,K);for(re in c)K=c[re],J=l[re],!c.hasOwnProperty(re)||K===J||K===void 0&&J===void 0||Dd(t,r,re,K,c,J);return}}for(var q in l)K=l[q],l.hasOwnProperty(q)&&K!=null&&!c.hasOwnProperty(q)&&Je(t,r,q,null,c,K);for(le in c)K=c[le],J=l[le],!c.hasOwnProperty(le)||K===J||K==null&&J==null||Je(t,r,le,K,c,J)}function Op(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var h=l[c],m=h.transferSize,v=h.initiatorType,k=h.duration;if(m&&k&&Op(v)){for(v=0,k=h.responseEnd,c+=1;c<l.length;c++){var R=l[c],F=R.startTime;if(F>k)break;var re=R.transferSize,le=R.initiatorType;re&&Op(le)&&(R=R.responseEnd,v+=re*(R<k?1:(k-F)/(R-F)))}if(--c,r+=8*(m+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Id=null;function Po(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Md(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ud=null;function yw(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var Dp=typeof setTimeout=="function"?setTimeout:void 0,vw=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(_w)}:Dp;function _w(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function Ip(t,r){var l=r,c=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(h),qs(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")ll(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,ll(l);for(var m=l.firstChild;m;){var v=m.nextSibling,k=m.nodeName;m[ki]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=v}}else l==="body"&&ll(t.ownerDocument.body);l=h}while(l);qs(r)}function Mp(t,r){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function Ld(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ld(l),qc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Nw(t,r,l,c){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ki])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function jw(t,r,l){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Hn(t.nextSibling),t===null))return null;return t}function Up(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kw(t,r){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Pd=null;function Lp(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(r===0)return Hn(t.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return t;r--}else l!=="/$"&&l!=="/&"||r++}t=t.previousSibling}return null}function Bp(t,r,l){switch(r=Po(l),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);qc(t)}var qn=new Map,Pp=new Set;function Ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Or=B.d;B.d={f:Sw,r:Ew,D:Tw,C:Aw,L:Ow,m:Cw,X:Dw,S:Rw,M:zw};function Sw(){var t=Or.f(),r=Do();return t||r}function Ew(t){var r=os(t);r!==null&&r.tag===5&&r.type==="form"?am(r):Or.r(t)}var Bs=typeof document>"u"?null:document;function Hp(t,r,l){var c=Bs;if(c&&typeof r=="string"&&r){var h=In(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),Pp.has(h)||(Pp.add(h),t={rel:t,crossOrigin:l,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),Yt(r,"link",t),$t(r),c.head.appendChild(r)))}}function Tw(t){Or.D(t),Hp("dns-prefetch",t,null)}function Aw(t,r){Or.C(t,r),Hp("preconnect",t,r)}function Ow(t,r,l){Or.L(t,r,l);var c=Bs;if(c&&t&&r){var h='link[rel="preload"][as="'+In(r)+'"]';r==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+In(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+In(l.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var m=h;switch(r){case"style":m=Ps(t);break;case"script":m=Hs(t)}qn.has(m)||(t=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:t,as:r},l),qn.set(m,t),c.querySelector(h)!==null||r==="style"&&c.querySelector(ol(m))||r==="script"&&c.querySelector(cl(m))||(r=c.createElement("link"),Yt(r,"link",t),$t(r),c.head.appendChild(r)))}}function Cw(t,r){Or.m(t,r);var l=Bs;if(l&&t){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+In(c)+'"][href="'+In(t)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Hs(t)}if(!qn.has(m)&&(t=b({rel:"modulepreload",href:t},r),qn.set(m,t),l.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cl(m)))return}c=l.createElement("link"),Yt(c,"link",t),$t(c),l.head.appendChild(c)}}}function Rw(t,r,l){Or.S(t,r,l);var c=Bs;if(c&&t){var h=cs(c).hoistableStyles,m=Ps(t);r=r||"default";var v=h.get(m);if(!v){var k={loading:0,preload:null};if(v=c.querySelector(ol(m)))k.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},l),(l=qn.get(m))&&Hd(t,l);var R=v=c.createElement("link");$t(R),Yt(R,"link",t),R._p=new Promise(function(F,re){R.onload=F,R.onerror=re}),R.addEventListener("load",function(){k.loading|=1}),R.addEventListener("error",function(){k.loading|=2}),k.loading|=4,qo(v,r,c)}v={type:"stylesheet",instance:v,count:1,state:k},h.set(m,v)}}}function Dw(t,r){Or.X(t,r);var l=Bs;if(l&&t){var c=cs(l).hoistableScripts,h=Hs(t),m=c.get(h);m||(m=l.querySelector(cl(h)),m||(t=b({src:t,async:!0},r),(r=qn.get(h))&&qd(t,r),m=l.createElement("script"),$t(m),Yt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function zw(t,r){Or.M(t,r);var l=Bs;if(l&&t){var c=cs(l).hoistableScripts,h=Hs(t),m=c.get(h);m||(m=l.querySelector(cl(h)),m||(t=b({src:t,async:!0,type:"module"},r),(r=qn.get(h))&&qd(t,r),m=l.createElement("script"),$t(m),Yt(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function qp(t,r,l,c){var h=(h=X.current)?Ho(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ps(l.href),l=cs(h).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ps(l.href);var m=cs(h).hoistableStyles,v=m.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=h.querySelector(ol(t)))&&!m._p&&(v.instance=m,v.state.loading=5),qn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qn.set(t,l),m||Iw(h,t,l,v.state))),r&&c===null)throw Error(i(528,""));return v}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hs(l),l=cs(h).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ps(t){return'href="'+In(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function Gp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Iw(t,r,l,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Yt(r,"link",l),$t(r),t.head.appendChild(r))}function Hs(t){return'[src="'+In(t)+'"]'}function cl(t){return"script[async]"+t}function Vp(t,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+In(l.href)+'"]');if(c)return r.instance=c,$t(c),c;var h=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),$t(c),Yt(c,"style",h),qo(c,l.precedence,t),r.instance=c;case"stylesheet":h=Ps(l.href);var m=t.querySelector(ol(h));if(m)return r.state.loading|=4,r.instance=m,$t(m),m;c=Gp(l),(h=qn.get(h))&&Hd(c,h),m=(t.ownerDocument||t).createElement("link"),$t(m);var v=m;return v._p=new Promise(function(k,R){v.onload=k,v.onerror=R}),Yt(m,"link",c),r.state.loading|=4,qo(m,l.precedence,t),r.instance=m;case"script":return m=Hs(l.src),(h=t.querySelector(cl(m)))?(r.instance=h,$t(h),h):(c=l,(h=qn.get(m))&&(c=b({},l),qd(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),$t(h),Yt(h,"link",c),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,qo(c,l.precedence,t));return r.instance}function qo(t,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,v=0;v<c.length;v++){var k=c[v];if(k.dataset.precedence===r)m=k;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(t,r.firstChild))}function Hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Go=null;function Fp(t,r,l){if(Go===null){var c=new Map,h=Go=new Map;h.set(l,c)}else h=Go,c=h.get(l),c||(c=new Map,h.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var m=l[h];if(!(m[ki]||m[qt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=t+v;var k=c.get(v);k?k.push(m):c.set(v,[m])}}return c}function Yp(t,r,l){t=t.ownerDocument||t,t.head.insertBefore(l,r==="title"?t.querySelector("head > title"):null)}function Mw(t,r,l){if(l===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Uw(t,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=Ps(c.href),m=r.querySelector(ol(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Vo.bind(t),r.then(t,t)),l.state.loading|=4,l.instance=m,$t(m);return}m=r.ownerDocument||r,c=Gp(c),(h=qn.get(h))&&Hd(c,h),m=m.createElement("link"),$t(m);var v=m;v._p=new Promise(function(k,R){v.onload=k,v.onerror=R}),Yt(m,"link",c),l.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Vo.bind(t),r.addEventListener("load",l),r.addEventListener("error",l))}}var Gd=0;function Lw(t,r){return t.stylesheets&&t.count===0&&Yo(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&Yo(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Gd===0&&(Gd=62500*bw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yo(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Gd?50:800)+r);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fo=null;function Yo(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fo=new Map,r.forEach($w,t),Fo=null,Vo.call(t))}function $w(t,r){if(!(r.state.loading&4)){var l=Fo.get(t);if(l)var c=l.get(null);else{l=new Map,Fo.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),c=v)}c&&l.set(null,c)}h=r.instance,v=h.getAttribute("data-precedence"),m=l.get(v)||c,m===c&&l.set(null,h),l.set(v,h),this.count++,c=Vo.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var ul={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Bw(t,r,l,c,h,m,v,k,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Kp(t,r,l,c,h,m,v,k,R,F,re,le){return t=new Bw(t,r,l,v,R,F,re,le,k),r=1,m===!0&&(r|=24),m=wn(3,null,null,r),t.current=m,m.stateNode=t,r=Nu(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:r},Eu(m),t}function Jp(t){return t?(t=ys,t):ys}function Xp(t,r,l,c,h,m){h=Jp(h),c.context===null?c.context=h:c.pendingContext=h,c=Fr(r),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Yr(t,c,r),l!==null&&(gn(l,t,r),Hi(l,t,r))}function Qp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function Vd(t,r){Qp(t,r),(t=t.alternate)&&Qp(t,r)}function Wp(t){if(t.tag===13||t.tag===31){var r=Na(t,67108864);r!==null&&gn(r,t,67108864),Vd(t,67108864)}}function eg(t){if(t.tag===13||t.tag===31){var r=Sn();r=Bc(r);var l=Na(t,r);l!==null&&gn(l,t,r),Vd(t,r)}}var Zo=!0;function Pw(t,r,l,c){var h=U.T;U.T=null;var m=B.p;try{B.p=2,Fd(t,r,l,c)}finally{B.p=m,U.T=h}}function Hw(t,r,l,c){var h=U.T;U.T=null;var m=B.p;try{B.p=8,Fd(t,r,l,c)}finally{B.p=m,U.T=h}}function Fd(t,r,l,c){if(Zo){var h=Yd(c);if(h===null)Rd(t,r,c,Ko,l),ng(t,c);else if(Gw(h,t,r,l,c))c.stopPropagation();else if(ng(t,c),r&4&&-1<qw.indexOf(t)){for(;h!==null;){var m=os(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Ue(m.pendingLanes);if(v!==0){var k=m;for(k.pendingLanes|=2,k.entangledLanes|=2;v;){var R=1<<31-ut(v);k.entanglements[1]|=R,v&=~R}ir(m),(Ve&6)===0&&(Co=Lt()+500,al(0))}}break;case 31:case 13:k=Na(m,2),k!==null&&gn(k,m,2),Do(),Vd(m,2)}if(m=Yd(c),m===null&&Rd(t,r,c,Ko,l),m===h)break;h=m}h!==null&&c.stopPropagation()}else Rd(t,r,c,null,l)}}function Yd(t){return t=Kc(t),Zd(t)}var Ko=null;function Zd(t){if(Ko=null,t=ls(t),t!==null){var r=u(t);if(r===null)t=null;else{var l=r.tag;if(l===13){if(t=d(r),t!==null)return t;t=null}else if(l===31){if(t=f(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Ko=t,null}function tg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Lr:return 2;case Wa:return 8;case Cn:case es:return 32;case ts:return 268435456;default:return 32}default:return 32}}var Kd=!1,aa=null,sa=null,ia=null,dl=new Map,hl=new Map,la=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(t,r){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function fl(t,r,l,c,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=os(r),r!==null&&Wp(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Gw(t,r,l,c,h){switch(r){case"focusin":return aa=fl(aa,t,r,l,c,h),!0;case"dragenter":return sa=fl(sa,t,r,l,c,h),!0;case"mouseover":return ia=fl(ia,t,r,l,c,h),!0;case"pointerover":var m=h.pointerId;return dl.set(m,fl(dl.get(m)||null,t,r,l,c,h)),!0;case"gotpointercapture":return m=h.pointerId,hl.set(m,fl(hl.get(m)||null,t,r,l,c,h)),!0}return!1}function rg(t){var r=ls(t.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){t.blockedOn=r,g0(t.priority,function(){eg(l)});return}}else if(r===31){if(r=f(l),r!==null){t.blockedOn=r,g0(t.priority,function(){eg(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Yd(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Zc=c,l.target.dispatchEvent(c),Zc=null}else return r=os(l),r!==null&&Wp(r),t.blockedOn=l,!1;r.shift()}return!0}function ag(t,r,l){Jo(t)&&l.delete(r)}function Vw(){Kd=!1,aa!==null&&Jo(aa)&&(aa=null),sa!==null&&Jo(sa)&&(sa=null),ia!==null&&Jo(ia)&&(ia=null),dl.forEach(ag),hl.forEach(ag)}function Xo(t,r){t.blockedOn===r&&(t.blockedOn=null,Kd||(Kd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vw)))}var Qo=null;function sg(t){Qo!==t&&(Qo=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qo===t&&(Qo=null);for(var r=0;r<t.length;r+=3){var l=t[r],c=t[r+1],h=t[r+2];if(typeof c!="function"){if(Zd(c||l)===null)continue;break}var m=os(l);m!==null&&(t.splice(r,3),r-=3,Yu(m,{pending:!0,data:h,method:l.method,action:c},c,h))}}))}function qs(t){function r(R){return Xo(R,t)}aa!==null&&Xo(aa,t),sa!==null&&Xo(sa,t),ia!==null&&Xo(ia,t),dl.forEach(r),hl.forEach(r);for(var l=0;l<la.length;l++){var c=la[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<la.length&&(l=la[0],l.blockedOn===null);)rg(l),l.blockedOn===null&&la.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var h=l[c],m=l[c+1],v=h[un]||null;if(typeof m=="function")v||sg(l);else if(v){var k=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[un]||null)k=v.formAction;else if(Zd(h)!==null)continue}else k=v.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),sg(l)}}}function ig(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Jd(t){this._internalRoot=t}Wo.prototype.render=Jd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=Sn();Xp(l,c,t,r,null,null)},Wo.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Xp(t.current,2,null,t,null,null),Do(),r[is]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var r=p0();t={blockedOn:null,target:t,priority:r};for(var l=0;l<la.length&&r!==0&&r<la[l].priority;l++);la.splice(l,0,t),l===0&&rg(t)}};var lg=n.version;if(lg!=="19.2.3")throw Error(i(527,lg,"19.2.3"));B.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(r),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Fw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{dr=ec.inject(Fw),Ht=ec}catch{}}return pl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var l=!1,c="",h=mm,m=pm,v=gm;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Kp(t,1,!1,null,null,l,c,null,h,m,v,ig),t[is]=r.current,Cd(t),new Jd(r)},pl.hydrateRoot=function(t,r,l){if(!o(t))throw Error(i(299));var c=!1,h="",m=mm,v=pm,k=gm,R=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),r=Kp(t,1,!0,r,l??null,c,h,R,m,v,k,ig),r.context=Jp(null),l=r.current,c=Sn(),c=Bc(c),h=Fr(c),h.callback=null,Yr(l,h,c),l=c,r.current.lanes=l,yn(r,l),ir(r),t[is]=r.current,Cd(t),new Wo(r)},pl.version="19.2.3",pl}var xg;function n_(){if(xg)return Wd.exports;xg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Wd.exports=t_(),Wd.exports}var r_=n_();const a_=Bb(r_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,i)=>i?i.toUpperCase():a.toLowerCase()),bg=e=>{const n=i_(e);return n.charAt(0).toUpperCase()+n.slice(1)},Pb=(...e)=>e.filter((n,a,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===a).join(" ").trim(),l_=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=T.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...f},p)=>T.createElement("svg",{ref:p,...o_,width:n,height:n,stroke:e,strokeWidth:i?Number(a)*24/Number(n):a,className:Pb("lucide",o),...!u&&!l_(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,x])=>T.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,n)=>{const a=T.forwardRef(({className:i,...o},u)=>T.createElement(c_,{ref:u,iconNode:n,className:Pb(`lucide-${s_(bg(e))}`,`lucide-${e}`,i),...o}));return a.displayName=bg(e),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],On=ee("activity",u_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Va=ee("arrow-down-right",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],f_=ee("arrow-down",h_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],p_=ee("arrow-right-left",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fa=ee("arrow-right",g_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ha=ee("arrow-up-right",x_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],y_=ee("baby",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],El=ee("bell",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],Fh=ee("bitcoin",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],N_=ee("book-open",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],yg=ee("bot",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Nl=ee("brain-circuit",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xt=ee("briefcase",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],pc=ee("building",E_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],A_=ee("bus",T_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],C_=ee("calculator",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],vg=ee("calendar-clock",R_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qa=ee("calendar",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tc=ee("camera",z_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Yh=ee("car",I_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],tr=ee("chart-pie",M_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vn=ee("check",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hb=ee("chevron-down",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],si=ee("chevron-left",$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Js=ee("chevron-right",B_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yh=ee("circle-alert",P_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],q_=ee("circle-arrow-down",H_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],V_=ee("circle-arrow-up",G_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zh=ee("circle-check-big",F_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z_=ee("circle-check",Y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],qb=ee("circle-stop",K_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],X_=ee("clock",J_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Gb=ee("coffee",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],eN=ee("coins",W_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],nN=ee("command",tN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ml=ee("credit-card",rN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],sN=ee("delete",aN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ya=ee("dollar-sign",iN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vb=ee("download",lN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],cN=ee("dumbbell",oN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Fb=ee("external-link",uN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Kh=ee("eye-off",dN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yb=ee("eye",hN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],mN=ee("file-spreadsheet",fN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ii=ee("file-text",pN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],xN=ee("film",gN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Zb=ee("fingerprint-pattern",bN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],vN=ee("fuel",yN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wg=ee("funnel",wN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],NN=ee("gamepad-2",_N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],kN=ee("gauge",jN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],EN=ee("gift",SN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ul=ee("globe",TN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Kb=ee("graduation-cap",AN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],CN=ee("hard-drive",ON);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],DN=ee("hash",RN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],IN=ee("headphones",zN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UN=ee("heart",MN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Tl=ee("history",LN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],di=ee("house",$N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],PN=ee("image",BN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qN=ee("info",HN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Jb=ee("landmark",GN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],FN=ee("languages",VN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],ZN=ee("laptop",YN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],JN=ee("layout-grid",KN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],QN=ee("layout-list",XN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ej=ee("lightbulb",WN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fn=ee("loader-circle",tj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ga=ee("lock",nj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xb=ee("log-out",rj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sj=ee("mail",aj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lj=ee("map-pin",ij);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Qb=ee("maximize-2",oj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uj=ee("menu",cj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],hj=ee("mic-off",dj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],mj=ee("mic",fj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],gj=ee("minimize-2",pj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Wb=ee("monitor",xj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],yj=ee("moon",bj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],wj=ee("music",vj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Nj=ee("newspaper",_j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kj=ee("package",jj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ej=ee("palette",Sj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Aj=ee("paw-print",Tj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yi=ee("pen",Oj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Rj=ee("percent",Cj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ey=ee("piggy-bank",Dj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ty=ee("plane",zj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jt=ee("plus",Ij);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Uj=ee("printer",Mj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Za=ee("refresh-cw",Lj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],vh=ee("repeat",$j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Pj=ee("scale",Bj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],hi=ee("scan-line",Hj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Gj=ee("scissors",qj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fi=ee("search",Vj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wh=ee("send",Fj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_h=ee("settings",Yj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_g=ee("shield-check",Zj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mi=ee("shield",Kj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ny=ee("shopping-bag",Jj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],Qj=ee("shopping-basket",Xj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Ng=ee("sliders-horizontal",Wj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ry=ee("smartphone",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],ay=ee("snowflake",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pi=ee("sparkles",n2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],jg=ee("split",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s2=ee("square-check-big",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],l2=ee("square",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],c2=ee("star",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],d2=ee("stethoscope",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],sy=ee("store",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],m2=ee("sun",f2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],gc=ee("tag",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ac=ee("target",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],rh=ee("toggle-left",x2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ah=ee("toggle-right",b2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],or=ee("trash-2",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],mc=ee("trending-down",v2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pt=ee("trending-up",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ir=ee("triangle-alert",_2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iy=ee("trophy",N2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ly=ee("upload",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S2=ee("user",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],T2=ee("utensils",E2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],O2=ee("volume-2",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ur=ee("wallet",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],D2=ee("wifi",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dt=ee("x",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gi=ee("zap",I2),vi=({className:e="",iconSize:n="w-8 h-8",textSize:a="text-xl",showText:i=!0,stacked:o=!1})=>s.jsxs("div",{className:`flex ${o?"flex-col justify-center":"flex-row"} items-center gap-3 ${e}`,children:[s.jsxs("div",{className:`relative group cursor-pointer ${n} shrink-0`,children:[s.jsx("div",{className:"absolute inset-0 bg-gold-400 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition-opacity duration-500"}),s.jsx("div",{className:"relative w-full h-full drop-shadow-[0_0_8px_rgba(255,215,0,0.4)]",children:s.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"goldGradientBright",x1:"0",y1:"0",x2:"100",y2:"100",gradientUnits:"userSpaceOnUse",children:[s.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),s.jsx("stop",{offset:"30%",stopColor:"#FFD700"}),s.jsx("stop",{offset:"70%",stopColor:"#DAA520"}),s.jsx("stop",{offset:"100%",stopColor:"#B8860B"})]})}),s.jsx("path",{d:"M50 94 L18 71 L8 40 L29 9 L50 34 L71 9 L92 40 L82 71 Z",stroke:"rgba(218, 165, 32, 0.8)",strokeWidth:"1.5",fill:"none"}),s.jsx("path",{d:"M50 92 L20 70 L10 40 L30 10 L50 35 Z",fill:"url(#goldGradientBright)"}),s.jsx("path",{d:"M50 35 L70 10 L90 40 L80 70 L50 92 Z",fill:"url(#goldGradientBright)",fillOpacity:"0.85"}),s.jsx("path",{d:"M50 35 L50 92 L80 70 L50 35 Z",className:"fill-neutral-900/60 dark:fill-black/40"}),s.jsx("path",{d:"M30 10 L38 35 L50 35 L30 10",fill:"white",fillOpacity:"0.5"}),s.jsx("path",{d:"M32 48 L44 52 L32 54 Z",className:"fill-neutral-900"}),s.jsx("path",{d:"M68 48 L56 52 L68 54 Z",className:"fill-neutral-900"})]})})]}),i&&s.jsx("div",{className:`flex flex-col ${o?"items-center mt-2":"justify-center"}`,children:s.jsx("span",{className:`font-display font-bold ${a} tracking-[0.2em] text-transparent bg-clip-text bg-gradient-to-r from-neutral-900 via-gold-600 to-gold-500 dark:from-white dark:via-gold-300 dark:to-gold-500 transition-all duration-300`,children:"AURUMWOLF"})})]}),M2=({activeTab:e,onTabChange:n,onNewTransaction:a,isMobileMenuOpen:i,onCloseMobileMenu:o,userName:u="Guest",userEmail:d,t:f,onSignOut:p,isLoading:g,privacyMode:x,onTogglePrivacy:b})=>{const y=f||(A=>A),_=[{id:"home",label:y("nav.dashboard"),icon:di},{id:"transactions",label:y("nav.history"),icon:Tl},{id:"accounts",label:y("nav.accounts"),icon:ur},{id:"budget",label:y("nav.budget"),icon:tr},{id:"investments",label:y("nav.investments"),icon:Pt},{id:"business",label:y("nav.business"),icon:Xt},{id:"reports",label:y("nav.reports"),icon:ii},{id:"settings",label:y("nav.settings"),icon:_h}],w=[{id:"home",label:y("nav.dashboard"),icon:di},{id:"transactions",label:y("nav.history"),icon:Tl},{id:"scan",label:y("common.scan"),icon:hi,isAction:!0},{id:"business",label:y("nav.business"),icon:Xt},{id:"settings",label:y("nav.settings"),icon:_h}],N=A=>{n(A),o()},j=()=>s.jsxs("div",{className:"flex flex-col h-full bg-neutral-950/50 backdrop-blur-xl border-r border-white/5",children:[s.jsxs("div",{className:"p-8 pb-6 flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vi,{iconSize:"w-10 h-10",textSize:"text-xl"}),g&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-400 animate-ping",title:"Syncing..."})]}),s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-[0.3em] mt-2 ml-1",children:y("nav.subtitle")})]}),s.jsx("button",{onClick:o,className:"md:hidden p-2 rounded-full text-neutral-500 hover:bg-neutral-800 transition-colors",children:s.jsx(Dt,{size:24})})]}),s.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>{a(),o()},className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-gold-500 to-gold-400 hover:to-gold-300 text-neutral-900 font-bold py-3.5 px-4 rounded-xl transition-all shadow-lg shadow-gold-500/20 active:scale-95 group",children:[s.jsx(Jt,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),s.jsx("span",{className:"tracking-wide",children:y("nav.newTransaction")})]})}),_.map(A=>{const S=A.icon,O=e===A.id;return s.jsxs("button",{onClick:()=>N(A.id),className:`w-full flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden ${O?"bg-white/5 border border-white/10 text-gold-400 shadow-[0_0_20px_rgba(197,157,95,0.15)] backdrop-blur-md":"text-neutral-400 hover:text-neutral-200 hover:bg-white/5"}`,children:[s.jsx(S,{size:20,className:`transition-colors duration-300 relative z-10 ${O?"text-gold-500":"group-hover:text-neutral-200"}`}),s.jsx("span",{className:`text-sm font-medium tracking-wide relative z-10 ${O?"font-bold":""}`,children:A.label}),O&&s.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-gold-500 shadow-[0_0_8px_#D4AF37] relative z-10"})]},A.id)})]}),s.jsxs("div",{className:"p-6 border-t border-neutral-900 mt-auto shrink-0 space-y-4",children:[s.jsxs("button",{onClick:b,className:"w-full flex items-center justify-between p-3 rounded-xl bg-neutral-900/30 border border-neutral-800/50 hover:bg-neutral-800 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[x?s.jsx(Kh,{size:18,className:"text-gold-500"}):s.jsx(Yb,{size:18,className:"text-neutral-500"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-400 group-hover:text-white",children:[y(x?"common.hidden":"common.visible")||(x?"Hidden":"Visible")," Mode"]})]}),s.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${x?"bg-gold-500/20":"bg-neutral-800"}`,children:s.jsx("div",{className:`absolute top-0.5 w-3 h-3 rounded-full transition-all duration-300 ${x?"left-4.5 bg-gold-500":"left-0.5 bg-neutral-500"}`,style:{left:x?"1.125rem":"0.125rem"}})})]}),s.jsxs("div",{onClick:p,className:"flex items-center gap-3 p-3 rounded-xl bg-neutral-900/50 border border-neutral-800 hover:border-gold-500/30 transition-colors cursor-pointer group",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gold-600 to-neutral-900 p-[1px]",children:s.jsx("div",{className:"w-full h-full rounded-full bg-neutral-950 flex items-center justify-center",children:s.jsx("span",{className:"font-display font-bold text-gold-500",children:u.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsx("p",{className:"text-sm font-bold text-neutral-200 truncate group-hover:text-gold-500",children:u}),s.jsx("p",{className:"text-xs text-neutral-500 truncate",children:d||"AurumWolf Member"})]}),s.jsx(Xb,{size:16,className:"text-neutral-500 hover:text-red-400 transition-colors"})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx("aside",{className:"hidden md:block w-72 fixed left-0 top-0 bottom-0 z-50",children:s.jsx(j,{})}),s.jsx("div",{className:`md:hidden fixed inset-0 z-[60] bg-neutral-950/80 backdrop-blur-sm transition-opacity duration-300 ${i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:o}),s.jsx("div",{className:`md:hidden fixed top-0 bottom-0 left-0 z-[70] w-72 bg-neutral-950 border-r border-neutral-900 transform transition-transform duration-300 ease-out shadow-2xl pt-safe ${i?"translate-x-0":"-translate-x-full"}`,children:s.jsx(j,{})}),s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-[80px] glass z-50 pb-safe shadow-[0_-10px_40px_rgba(0,0,0,0.5)]",children:s.jsx("div",{className:"grid grid-cols-5 h-full relative",children:w.map(A=>{const S=A.icon,O=e===A.id;return A.id==="scan"?s.jsx("div",{className:"relative -top-6 flex justify-center pointer-events-none",children:s.jsx("button",{onClick:()=>n("scan"),className:"w-14 h-14 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 text-neutral-950 shadow-[0_0_20px_rgba(212,175,55,0.4)] flex items-center justify-center transform active:scale-95 transition-all pointer-events-auto hover:scale-105 border-4 border-neutral-950",children:s.jsx(hi,{size:24})})},A.id):s.jsxs("button",{onClick:()=>n(A.id),className:"flex flex-col items-center justify-center gap-1 w-full h-full group",children:[s.jsx("div",{className:`transition-all duration-300 ${O?"text-gold-500 -translate-y-1":"text-neutral-500 group-hover:text-neutral-300"}`,children:s.jsx(S,{size:O?24:22})}),s.jsx("span",{className:`text-[10px] font-medium transition-colors ${O?"text-gold-500":"text-neutral-600 group-hover:text-neutral-400"}`,children:A.label}),O&&s.jsx("div",{className:"absolute bottom-2 w-1 h-1 rounded-full bg-gold-500 shadow-[0_0_5px_#D4AF37]"})]},A.id)})})})]})},U2="modulepreload",L2=function(e,n){return new URL(e,n).href},kg={},Ka=function(n,a,i){let o=Promise.resolve();if(a&&a.length>0){let d=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=d(a.map(x=>{if(x=L2(x,i),x in kg)return;kg[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(!!i)for(let N=f.length-1;N>=0;N--){const j=f[N];if(j.href===x&&(!b||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${y}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":U2,b||(w.as="script"),w.crossOrigin="",w.href=x,g&&w.setAttribute("nonce",g),document.head.appendChild(w),b)return new Promise((N,j)=>{w.addEventListener("load",N),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return n().catch(u)})};var $2={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sg;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sg||(Sg={}));var Eg;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Eg||(Eg={}));var Tg;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Tg||(Tg={}));var it;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(it||(it={}));var Ag;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ag||(Ag={}));var Og;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Og||(Og={}));var Cg;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Cg||(Cg={}));var Rg;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rg||(Rg={}));var Dg;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Dg||(Dg={}));var zg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zg||(zg={}));var Ig;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ig||(Ig={}));var Mg;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Mg||(Mg={}));var Ug;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ug||(Ug={}));var Lg;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Lg||(Lg={}));var $g;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})($g||($g={}));var Bg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Bg||(Bg={}));var Pg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Pg||(Pg={}));var Hg;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hg||(Hg={}));var qg;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qg||(qg={}));var Gg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Gg||(Gg={}));var Vg;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vg||(Vg={}));var Fg;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Fg||(Fg={}));var Yg;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yg||(Yg={}));var Zg;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zg||(Zg={}));var Kg;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kg||(Kg={}));var Jg;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jg||(Jg={}));var Xg;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xg||(Xg={}));var Qg;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Qg||(Qg={}));var Wg;(function(e){e.COLLECTION="COLLECTION"})(Wg||(Wg={}));var ex;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(ex||(ex={}));var tx;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tx||(tx={}));var nx;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(nx||(nx={}));var rx;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(rx||(rx={}));var ax;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ax||(ax={}));var sx;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sx||(sx={}));var ix;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ix||(ix={}));var lx;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lx||(lx={}));var ox;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ox||(ox={}));var cx;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(cx||(cx={}));var ux;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ux||(ux={}));var dx;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(dx||(dx={}));var hx;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(hx||(hx={}));var fx;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fx||(fx={}));var mx;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(mx||(mx={}));var px;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(px||(px={}));var gx;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(gx||(gx={}));var xx;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xx||(xx={}));var bx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(bx||(bx={}));var yx;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(yx||(yx={}));var vx;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(vx||(vx={}));var wx;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wx||(wx={}));var _x;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_x||(_x={}));var Nx;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Nx||(Nx={}));var jx;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jx||(jx={}));var kx;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kx||(kx={}));var Sx;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Sx||(Sx={}));var Ex;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ex||(Ex={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tx;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Tx||(Tx={}));function xc(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(a[i[o]]=e[i[o]]);return a}function Ax(e){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&e[n],i=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(e){return this instanceof ft?(this.v=e,this):new ft(e)}function jl(e,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=a.apply(e,n||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(_){return function(w){return Promise.resolve(w).then(_,b)}}function f(_,w){i[_]&&(o[_]=function(N){return new Promise(function(j,A){u.push([_,N,j,A])>1||p(_,N)})},w&&(o[_]=w(o[_])))}function p(_,w){try{g(i[_](w))}catch(N){y(u[0][3],N)}}function g(_){_.value instanceof ft?Promise.resolve(_.value.v).then(x,b):y(u[0][2],_)}function x(_){p("next",_)}function b(_){p("throw",_)}function y(_,w){_(w),u.shift(),u.length&&p(u[0][0],u[0][1])}}function li(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],a;return n?n.call(e):(e=typeof Ax=="function"?Ax(e):e[Symbol.iterator](),a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a);function i(u){a[u]=e[u]&&function(d){return new Promise(function(f,p){d=e[u](d),o(f,p,d.done,d.value)})}}function o(u,d,f,p){Promise.resolve(p).then(function(g){u({value:g,done:f})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oy=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return oy=e.randomUUID.bind(e),e.randomUUID();const n=new Uint8Array(1),a=e?()=>e.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^a()&15>>+i/4).toString(16))};const B2=()=>oy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nh(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const jh=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const n=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(n.stack=e.stack),e.cause&&!n.cause&&(n.cause=e.cause),e.name&&(n.name=e.name),n}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yn extends Error{}class on extends Yn{constructor(n,a,i,o){super(`${on.makeMessage(n,a,i)}`),this.status=n,this.headers=o,this.error=a}static makeMessage(n,a,i){const o=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):i;return n&&o?`${n} ${o}`:n?`${n} status code (no body)`:o||"(no status code or body)"}static generate(n,a,i,o){if(!n||!o)return new Oc({message:i,cause:jh(a)});const u=a;return n===400?new uy(n,u,i,o):n===401?new dy(n,u,i,o):n===403?new hy(n,u,i,o):n===404?new fy(n,u,i,o):n===409?new my(n,u,i,o):n===422?new py(n,u,i,o):n===429?new gy(n,u,i,o):n>=500?new xy(n,u,i,o):new on(n,u,i,o)}}class kh extends on{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Oc extends on{constructor({message:n,cause:a}){super(void 0,void 0,n||"Connection error.",void 0),a&&(this.cause=a)}}class cy extends Oc{constructor({message:n}={}){super({message:n??"Request timed out."})}}class uy extends on{}class dy extends on{}class hy extends on{}class fy extends on{}class my extends on{}class py extends on{}class gy extends on{}class xy extends on{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P2=/^[a-z][a-z0-9+.-]*:/i,H2=e=>P2.test(e);let Sh=e=>(Sh=Array.isArray,Sh(e));const q2=Sh;let G2=q2;const Ox=G2;function V2(e){if(!e)return!0;for(const n in e)return!1;return!0}function F2(e,n){return Object.prototype.hasOwnProperty.call(e,n)}const Y2=(e,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new Yn(`${e} must be an integer`);if(n<0)throw new Yn(`${e} must be a positive integer`);return n},Z2=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K2=e=>new Promise(n=>setTimeout(n,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const X2=()=>{var e,n,a,i,o;const u=J2();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xs,"X-Stainless-OS":Rx(Deno.build.os),"X-Stainless-Arch":Cx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xs,"X-Stainless-OS":Rx((a=globalThis.process.platform)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Arch":Cx((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const d=Q2();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Q2(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:a}of e){const i=a.exec(navigator.userAgent);if(i){const o=i[1]||0,u=i[2]||0,d=i[3]||0;return{browser:n,version:`${o}.${u}.${d}`}}}return null}const Cx=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Rx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let tc;const W2=()=>tc??(tc=X2());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ek(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function by(...e){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...e)}function tk(e){let n=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return by({start(){},async pull(a){const{done:i,value:o}=await n.next();i?a.close():a.enqueue(o)},async cancel(){var a;await((a=n.return)===null||a===void 0?void 0:a.call(n))}})}function yy(e){if(e[Symbol.asyncIterator])return e;const n=e.getReader();return{async next(){try{const a=await n.read();return a!=null&&a.done&&n.releaseLock(),a}catch(a){throw n.releaseLock(),a}},async return(){const a=n.cancel();return n.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nk(e){var n,a;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((a=(n=e[Symbol.asyncIterator]()).return)===null||a===void 0?void 0:a.call(n));return}const i=e.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rk=({headers:e,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vy=()=>{var e;if(typeof File>"u"){const{process:n}=globalThis,a=typeof((e=n==null?void 0:n.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(a?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sh(e,n,a){return vy(),new File(e,n??"unknown_file",a)}function ak(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const sk=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wy=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",ik=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&wy(e),lk=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function ok(e,n,a){if(vy(),e=await e,ik(e))return e instanceof File?e:sh([await e.arrayBuffer()],e.name);if(lk(e)){const o=await e.blob();return n||(n=new URL(e.url).pathname.split(/[\\/]/).pop()),sh(await Eh(o),n,a)}const i=await Eh(e);if(n||(n=ak(e)),!(a!=null&&a.type)){const o=i.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(a=Object.assign(Object.assign({},a),{type:o}))}return sh(i,n,a)}async function Eh(e){var n,a,i,o,u;let d=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)d.push(e);else if(wy(e))d.push(e instanceof Blob?e:await e.arrayBuffer());else if(sk(e))try{for(var f=!0,p=li(e),g;g=await p.next(),n=g.done,!n;f=!0){o=g.value,f=!1;const x=o;d.push(...await Eh(x))}}catch(x){a={error:x}}finally{try{!f&&!n&&(i=p.return)&&await i.call(p)}finally{if(a)throw a.error}}else{const x=(u=e==null?void 0:e.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof e}${x?`; constructor: ${x}`:""}${ck(e)}`)}return d}function ck(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(a=>`"${a}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _y{constructor(n){this._client=n}}_y._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ny(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Dx=Object.freeze(Object.create(null)),uk=(e=Ny)=>(function(a,...i){if(a.length===1)return a[0];let o=!1;const u=[],d=a.reduce((x,b,y)=>{var _,w,N;/[?#]/.test(b)&&(o=!0);const j=i[y];let A=(o?encodeURIComponent:e)(""+j);return y!==i.length&&(j==null||typeof j=="object"&&j.toString===((N=Object.getPrototypeOf((w=Object.getPrototypeOf((_=j.hasOwnProperty)!==null&&_!==void 0?_:Dx))!==null&&w!==void 0?w:Dx))===null||N===void 0?void 0:N.toString))&&(A=j+"",u.push({start:x.length+b.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(j).slice(8,-1)} is not a valid path parameter`})),x+b+(y===i.length?"":A)},""),f=d.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(f))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((x,b)=>x.start-b.start),u.length>0){let x=0;const b=u.reduce((y,_)=>{const w=" ".repeat(_.start-x),N="^".repeat(_.length);return x=_.start+_.length,y+w+N},"");throw new Yn(`Path parameters result in path with invalid segments:
${u.map(y=>y.error).join(`
`)}
${d}
${b}`)}return d}),nc=uk(Ny);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jy extends _y{create(n,a){var i;const{api_version:o=this._client.apiVersion}=n,u=xc(n,["api_version"]);if("model"in u&&"agent_config"in u)throw new Yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(nc`/${o}/interactions`,Object.assign(Object.assign({body:u},a),{stream:(i=n.stream)!==null&&i!==void 0?i:!1}))}delete(n,a={},i){const{api_version:o=this._client.apiVersion}=a??{};return this._client.delete(nc`/${o}/interactions/${n}`,i)}cancel(n,a={},i){const{api_version:o=this._client.apiVersion}=a??{};return this._client.post(nc`/${o}/interactions/${n}/cancel`,i)}get(n,a={},i){var o;const u=a??{},{api_version:d=this._client.apiVersion}=u,f=xc(u,["api_version"]);return this._client.get(nc`/${d}/interactions/${n}`,Object.assign(Object.assign({query:f},i),{stream:(o=a==null?void 0:a.stream)!==null&&o!==void 0?o:!1}))}}jy._key=Object.freeze(["interactions"]);class ky extends jy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dk(e){let n=0;for(const o of e)n+=o.length;const a=new Uint8Array(n);let i=0;for(const o of e)a.set(o,i),i+=o.length;return a}let rc;function Jh(e){let n;return(rc??(n=new globalThis.TextEncoder,rc=n.encode.bind(n)))(e)}let ac;function zx(e){let n;return(ac??(n=new globalThis.TextDecoder,ac=n.decode.bind(n)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cc{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Jh(n):n;this.buffer=dk([this.buffer,a]);const i=[];let o;for(;(o=hk(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(zx(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,d=zx(this.buffer.subarray(0,u));i.push(d),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Cc.NEWLINE_CHARS=new Set([`
`,"\r"]);Cc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hk(e,n){for(let o=n??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function fk(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bc={off:0,error:200,warn:300,info:400,debug:500},Ix=(e,n,a)=>{if(e){if(F2(bc,e))return e;sn(a).warn(`${n} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(bc))}`)}};function yl(){}function sc(e,n,a){return!n||bc[e]>bc[a]?yl:n[e].bind(n)}const mk={error:yl,warn:yl,info:yl,debug:yl};let Mx=new WeakMap;function sn(e){var n;const a=e.logger,i=(n=e.logLevel)!==null&&n!==void 0?n:"off";if(!a)return mk;const o=Mx.get(a);if(o&&o[0]===i)return o[1];const u={error:sc("error",a,i),warn:sc("warn",a,i),info:sc("info",a,i),debug:sc("debug",a,i)};return Mx.set(a,[i,u]),u}const La=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([n,a])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{constructor(n,a,i){this.iterator=n,this.controller=a,this.client=i}static fromSSEResponse(n,a,i){let o=!1;const u=i?sn(i):console;function d(){return jl(this,arguments,function*(){var p,g,x,b;if(o)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let y=!1;try{try{for(var _=!0,w=li(pk(n,a)),N;N=yield ft(w.next()),p=N.done,!p;_=!0){b=N.value,_=!1;const j=b;if(!y)if(j.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield ft(JSON.parse(j.data))}catch(A){throw u.error("Could not parse message into JSON:",j.data),u.error("From chunk:",j.raw),A}}}catch(j){g={error:j}}finally{try{!_&&!p&&(x=w.return)&&(yield ft(x.call(w)))}finally{if(g)throw g.error}}y=!0}catch(j){if(Nh(j))return yield ft(void 0);throw j}finally{y||a.abort()}})}return new ti(d,a,i)}static fromReadableStream(n,a,i){let o=!1;function u(){return jl(this,arguments,function*(){var p,g,x,b;const y=new Cc,_=yy(n);try{for(var w=!0,N=li(_),j;j=yield ft(N.next()),p=j.done,!p;w=!0){b=j.value,w=!1;const A=b;for(const S of y.decode(A))yield yield ft(S)}}catch(A){g={error:A}}finally{try{!w&&!p&&(x=N.return)&&(yield ft(x.call(N)))}finally{if(g)throw g.error}}for(const A of y.flush())yield yield ft(A)})}function d(){return jl(this,arguments,function*(){var p,g,x,b;if(o)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let y=!1;try{try{for(var _=!0,w=li(u()),N;N=yield ft(w.next()),p=N.done,!p;_=!0){b=N.value,_=!1;const j=b;y||j&&(yield yield ft(JSON.parse(j)))}}catch(j){g={error:j}}finally{try{!_&&!p&&(x=w.return)&&(yield ft(x.call(w)))}finally{if(g)throw g.error}}y=!0}catch(j){if(Nh(j))return yield ft(void 0);throw j}finally{y||a.abort()}})}return new ti(d,a,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],a=[],i=this.iterator(),o=u=>({next:()=>{if(u.length===0){const d=i.next();n.push(d),a.push(d)}return u.shift()}});return[new ti(()=>o(n),this.controller,this.client),new ti(()=>o(a),this.controller,this.client)]}toReadableStream(){const n=this;let a;return by({async start(){a=n[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:u}=await a.next();if(u)return i.close();const d=Jh(JSON.stringify(o)+`
`);i.enqueue(d)}catch(o){i.error(o)}},async cancel(){var i;await((i=a.return)===null||i===void 0?void 0:i.call(a))}})}}function pk(e,n){return jl(this,arguments,function*(){var i,o,u,d;if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yn("Attempted to iterate over a response with no body");const f=new xk,p=new Cc,g=yy(e.body);try{for(var x=!0,b=li(gk(g)),y;y=yield ft(b.next()),i=y.done,!i;x=!0){d=y.value,x=!1;const _=d;for(const w of p.decode(_)){const N=f.decode(w);N&&(yield yield ft(N))}}}catch(_){o={error:_}}finally{try{!x&&!i&&(u=b.return)&&(yield ft(u.call(b)))}finally{if(o)throw o.error}}for(const _ of p.flush()){const w=f.decode(_);w&&(yield yield ft(w))}})}function gk(e){return jl(this,arguments,function*(){var a,i,o,u;let d=new Uint8Array;try{for(var f=!0,p=li(e),g;g=yield ft(p.next()),a=g.done,!a;f=!0){u=g.value,f=!1;const x=u;if(x==null)continue;const b=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Jh(x):x;let y=new Uint8Array(d.length+b.length);y.set(d),y.set(b,d.length),d=y;let _;for(;(_=fk(d))!==-1;)yield yield ft(d.slice(0,_)),d=d.slice(_)}}catch(x){i={error:x}}finally{try{!f&&!a&&(o=p.return)&&(yield ft(o.call(p)))}finally{if(i)throw i.error}}d.length>0&&(yield yield ft(d))})}class xk{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(n),n.startsWith(":"))return null;let[a,i,o]=bk(n,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function bk(e,n){const a=e.indexOf(n);return a!==-1?[e.substring(0,a),n,e.substring(a+n.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yk(e,n){const{response:a,requestLogID:i,retryOfRequestLogID:o,startTime:u}=n,d=await(async()=>{var f;if(n.options.stream)return sn(e).debug("response",a.status,a.url,a.headers,a.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(a,n.controller,e):ti.fromSSEResponse(a,n.controller,e);if(a.status===204)return null;if(n.options.__binaryResponse)return a;const p=a.headers.get("content-type"),g=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await a.json():await a.text()})();return sn(e).debug(`[${i}] response parsed`,La({retryOfRequestLogID:o,url:a.url,status:a.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xh extends Promise{constructor(n,a,i=yk){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=i,this.client=n}_thenUnwrap(n){return new Xh(this.client,this.responsePromise,async(a,i)=>n(await this.parseResponse(a,i),i))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:a}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,a){return this.parse().then(n,a)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sy=Symbol("brand.privateNullableHeaders");function*vk(e){if(!e)return;if(Sy in e){const{values:i,nulls:o}=e;yield*i.entries();for(const u of o)yield[u,null];return}let n=!1,a;e instanceof Headers?a=e.entries():Ox(e)?a=e:(n=!0,a=Object.entries(e??{}));for(let i of a){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=Ox(i[1])?i[1]:[i[1]];let d=!1;for(const f of u)f!==void 0&&(n&&!d&&(d=!0,yield[o,null]),yield[o,f])}}const gl=e=>{const n=new Headers,a=new Set;for(const i of e){const o=new Set;for(const[u,d]of vk(i)){const f=u.toLowerCase();o.has(f)||(n.delete(u),o.add(f)),d===null?(n.delete(u),a.add(f)):(n.append(u,d),a.delete(f))}}return{[Sy]:!0,values:n,nulls:a}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih=e=>{var n,a,i,o,u,d;if(typeof globalThis.process<"u")return(i=(a=(n=$2)===null||n===void 0?void 0:n[e])===null||a===void 0?void 0:a.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,e))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ey;class Rc{constructor(n){var a,i,o,u,d,f,p,{baseURL:g=ih("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(a=ih("GEMINI_API_KEY"))!==null&&a!==void 0?a:null,apiVersion:b="v1beta"}=n,y=xc(n,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:x,apiVersion:b},y),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(i=_.timeout)!==null&&i!==void 0?i:Rc.DEFAULT_TIMEOUT,this.logger=(o=_.logger)!==null&&o!==void 0?o:console;const w="warn";this.logLevel=w,this.logLevel=(d=(u=Ix(_.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Ix(ih("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:w,this.fetchOptions=_.fetchOptions,this.maxRetries=(f=_.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=_.fetch)!==null&&p!==void 0?p:ek(),this.encoder=rk,this._options=_,this.apiKey=x,this.apiVersion=b,this.clientAdapter=_.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:a}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!a.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const a=gl([n.headers]);if(!(a.values.has("authorization")||a.values.has("x-goog-api-key"))){if(this.apiKey)return gl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return gl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([a,i])=>typeof i<"u").map(([a,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(a)}=`;throw new Yn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Xs}`}defaultIdempotencyKey(){return`stainless-node-retry-${B2()}`}makeStatusError(n,a,i,o){return on.generate(n,a,i,o)}buildURL(n,a,i){const o=!this.baseURLOverridden()&&i||this.baseURL,u=H2(n)?new URL(n):new URL(o+(o.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),d=this.defaultQuery();return V2(d)||(a=Object.assign(Object.assign({},d),a)),typeof a=="object"&&a&&!Array.isArray(a)&&(u.search=this.stringifyQuery(a)),u.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const a=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${a}`}}async prepareRequest(n,{url:a,options:i}){}get(n,a){return this.methodRequest("get",n,a)}post(n,a){return this.methodRequest("post",n,a)}patch(n,a){return this.methodRequest("patch",n,a)}put(n,a){return this.methodRequest("put",n,a)}delete(n,a){return this.methodRequest("delete",n,a)}methodRequest(n,a,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:n,path:a},o)))}request(n,a=null){return new Xh(this,this.makeRequest(n,a,void 0))}async makeRequest(n,a,i){var o,u,d;const f=await n,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a==null&&(a=p),await this.prepareOptions(f);const{req:g,url:x,timeout:b}=await this.buildRequest(f,{retryCount:p-a});await this.prepareRequest(g,{url:x,options:f});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=i===void 0?"":`, retryOf: ${i}`,w=Date.now();if(sn(this).debug(`[${y}] sending request`,La({retryOfRequestLogID:i,method:f.method,url:x,options:f,headers:g.headers})),!((u=f.signal)===null||u===void 0)&&u.aborted)throw new kh;const N=new AbortController,j=await this.fetchWithTimeout(x,g,b,N).catch(jh),A=Date.now();if(j instanceof globalThis.Error){const O=`retrying, ${a} attempts remaining`;if(!((d=f.signal)===null||d===void 0)&&d.aborted)throw new kh;const I=Nh(j)||/timed? ?out/i.test(String(j)+("cause"in j?String(j.cause):""));if(a)return sn(this).info(`[${y}] connection ${I?"timed out":"failed"} - ${O}`),sn(this).debug(`[${y}] connection ${I?"timed out":"failed"} (${O})`,La({retryOfRequestLogID:i,url:x,durationMs:A-w,message:j.message})),this.retryRequest(f,a,i??y);throw sn(this).info(`[${y}] connection ${I?"timed out":"failed"} - error; no more retries left`),sn(this).debug(`[${y}] connection ${I?"timed out":"failed"} (error; no more retries left)`,La({retryOfRequestLogID:i,url:x,durationMs:A-w,message:j.message})),I?new cy:new Oc({cause:j})}const S=`[${y}${_}] ${g.method} ${x} ${j.ok?"succeeded":"failed"} with status ${j.status} in ${A-w}ms`;if(!j.ok){const O=await this.shouldRetry(j);if(a&&O){const H=`retrying, ${a} attempts remaining`;return await nk(j.body),sn(this).info(`${S} - ${H}`),sn(this).debug(`[${y}] response error (${H})`,La({retryOfRequestLogID:i,url:j.url,status:j.status,headers:j.headers,durationMs:A-w})),this.retryRequest(f,a,i??y,j.headers)}const I=O?"error; no more retries left":"error; not retryable";sn(this).info(`${S} - ${I}`);const D=await j.text().catch(H=>jh(H).message),z=Z2(D),C=z?void 0:D;throw sn(this).debug(`[${y}] response error (${I})`,La({retryOfRequestLogID:i,url:j.url,status:j.status,headers:j.headers,message:C,durationMs:Date.now()-w})),this.makeStatusError(j.status,z,C,j.headers)}return sn(this).info(S),sn(this).debug(`[${y}] response start`,La({retryOfRequestLogID:i,url:j.url,status:j.status,headers:j.headers,durationMs:A-w})),{response:j,options:f,controller:N,requestLogID:y,retryOfRequestLogID:i,startTime:w}}async fetchWithTimeout(n,a,i,o){const u=a||{},{signal:d,method:f}=u,p=xc(u,["signal","method"]);d&&d.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),i),x=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},x?{duplex:"half"}:{}),{method:"GET"}),p);f&&(b.method=f.toUpperCase());try{return await this.fetch.call(void 0,n,b)}finally{clearTimeout(g)}}async shouldRetry(n){const a=n.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,a,i,o){var u;let d;const f=o==null?void 0:o.get("retry-after-ms");if(f){const g=parseFloat(f);Number.isNaN(g)||(d=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!d){const g=parseFloat(p);Number.isNaN(g)?d=Date.parse(p)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(u=n.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(a,g)}return await K2(d),this.makeRequest(n,a-1,i)}calculateDefaultRetryTimeoutMillis(n,a){const u=a-n,d=Math.min(.5*Math.pow(2,u),8),f=1-Math.random()*.25;return d*f*1e3}async buildRequest(n,{retryCount:a=0}={}){var i,o,u;const d=Object.assign({},n),{method:f,path:p,query:g,defaultBaseURL:x}=d,b=this.buildURL(p,g,x);"timeout"in d&&Y2("timeout",d.timeout),d.timeout=(i=d.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:y,body:_}=this.buildBody({options:d}),w=await this.buildHeaders({options:n,method:f,bodyHeaders:y,retryCount:a});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:w},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:b,timeout:d.timeout}}async buildHeaders({options:n,method:a,bodyHeaders:i,retryCount:o}){let u={};this.idempotencyHeader&&a!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=n.idempotencyKey);const d=await this.authHeaders(n);let f=gl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),W2()),this._options.defaultHeaders,i,n.headers,d]);return this.validateHeaders(f),f.values}buildBody({options:{body:n,headers:a}}){if(!n)return{bodyHeaders:void 0,body:void 0};const i=gl([a]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&i.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:tk(n)}:this.encoder({body:n,headers:i})}}Rc.DEFAULT_TIMEOUT=6e4;class Qt extends Rc{constructor(){super(...arguments),this.interactions=new ky(this)}}Ey=Qt;Qt.GeminiNextGenAPIClient=Ey;Qt.GeminiNextGenAPIClientError=Yn;Qt.APIError=on;Qt.APIConnectionError=Oc;Qt.APIConnectionTimeoutError=cy;Qt.APIUserAbortError=kh;Qt.NotFoundError=fy;Qt.ConflictError=my;Qt.RateLimitError=gy;Qt.BadRequestError=uy;Qt.AuthenticationError=dy;Qt.InternalServerError=xy;Qt.PermissionDeniedError=hy;Qt.UnprocessableEntityError=py;Qt.toFile=ok;Qt.Interactions=ky;function Ty(e){const[n,a,i]=e.split("-").map(Number);return new Date(n,a-1,i)}function cr(e=new Date){const n=e.getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().split("T")[0]}function wk(e,n){const a=Ty(e),i=(a.getMonth()+n)%12;return a.setMonth(a.getMonth()+n),a.getMonth()!==(i+12)%12&&a.setDate(0),cr(a)}function Ux(e,n){const a=Ty(e);return a.setDate(a.getDate()+n),cr(a)}function _k(e,n){const[a,i,o]=e.split("-").map(Number),u=new Date(a+n,i-1,o);return cr(u)}function Dc(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(a[i[o]]=e[i[o]]);return a}function Nk(e,n,a,i){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function f(x){try{g(i.next(x))}catch(b){d(b)}}function p(x){try{g(i.throw(x))}catch(b){d(b)}}function g(x){x.done?u(x.value):o(x.value).then(f,p)}g((i=i.apply(e,n||[])).next())})}const jk=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);class Qh extends Error{constructor(n,a="FunctionsError",i){super(n),this.name=a,this.context=i}}class kk extends Qh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Lx extends Qh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class $x extends Qh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Th;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Th||(Th={}));class Sk{constructor(n,{headers:a={},customFetch:i,region:o=Th.Any}={}){this.url=n,this.headers=a,this.region=o,this.fetch=jk(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Nk(this,arguments,void 0,function*(a,i={}){var o;let u,d;try{const{headers:f,method:p,body:g,signal:x,timeout:b}=i;let y={},{region:_}=i;_||(_=this.region);const w=new URL(`${this.url}/${a}`);_&&_!=="any"&&(y["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let N;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(y["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(y["Content-Type"]="application/json",N=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?N=JSON.stringify(g):N=g;let j=x;b&&(d=new AbortController,u=setTimeout(()=>d.abort(),b),x?(j=d.signal,x.addEventListener("abort",()=>d.abort())):j=d.signal);const A=yield this.fetch(w.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),f),body:N,signal:j}).catch(D=>{throw new kk(D)}),S=A.headers.get("x-relay-error");if(S&&S==="true")throw new Lx(A);if(!A.ok)throw new $x(A);let O=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return O==="application/json"?I=yield A.json():O==="application/octet-stream"||O==="application/pdf"?I=yield A.blob():O==="text/event-stream"?I=A:O==="multipart/form-data"?I=yield A.formData():I=yield A.text(),{data:I,error:null,response:A}}catch(f){return{data:null,error:f,response:f instanceof $x||f instanceof Lx?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Ek=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Tk=class{constructor(e){var n,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,g=u.status,x=u.statusText;if(u.ok){var b,y;if(a.method!=="HEAD"){var _;const A=await u.text();A===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((_=a.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=A:f=JSON.parse(A))}const N=(b=a.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),j=(y=u.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&j&&j.length>1&&(p=parseInt(j[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var w;const N=await u.text();try{d=JSON.parse(N),Array.isArray(d)&&u.status===404&&(f=[],d=null,g=200,x="OK")}catch{u.status===404&&N===""?(g=204,x="No Content"):d={message:N}}if(d&&a.isMaybeSingle&&(!(d==null||(w=d.details)===null||w===void 0)&&w.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&a.shouldThrowOnError)throw new Ek(d)}return{error:d,data:f,count:p,status:g,statusText:x}});return this.shouldThrowOnError||(o=o.catch(u=>{var d;let f="";const p=u==null?void 0:u.cause;if(p){var g,x,b,y;const w=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",N=(x=p==null?void 0:p.code)!==null&&x!==void 0?x:"";f=`${(b=u==null?void 0:u.name)!==null&&b!==void 0?b:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"Error"}: ${w}`,N&&(f+=` (${N})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var _;f=(_=u==null?void 0:u.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}},Ak=class extends Tk{select(e){let n=!1;const a=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:a,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${e}.${n?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:a=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var d;const f=[e?"analyze":null,n?"verbose":null,a?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Bx=new RegExp("[,()]");var Qs=class extends Ak{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){const a=Array.from(new Set(n)).map(i=>typeof i=="string"&&Bx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,n){const a=Array.from(new Set(n)).map(i=>typeof i=="string"&&Bx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:a,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${o}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,a])=>{this.url.searchParams.append(n,`eq.${a}`)}),this}not(e,n,a){return this.url.searchParams.append(e,`not.${n}.${a}`),this}or(e,{foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,a){return this.url.searchParams.append(e,`${n}.${a}`),this}},Ok=class{constructor(e,{headers:n={},schema:a,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=a,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,n){const{head:a=!1,count:i}=n??{},o=a?"HEAD":"GET";let u=!1;const d=(e??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",d),i&&p.append("Prefer",`count=${i}`),new Qs({method:o,url:f,headers:p,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new Qs({method:o,url:u,headers:d,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:a=!1,count:i,defaultToNull:o=!0}={}){var u;const d="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),n!==void 0&&f.searchParams.set("on_conflict",n),i&&p.append("Prefer",`count=${i}`),o||p.append("Prefer","missing=default"),Array.isArray(e)){const g=e.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);f.searchParams.set("columns",x.join(","))}}return new Qs({method:d,url:f,headers:p,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var a;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new Qs({method:i,url:o,headers:u,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:e}={}){var n;const a="DELETE",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Qs({method:a,url:i,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Ck=class Ay{constructor(n,{headers:a={},schema:i,fetch:o}={}){this.url=n,this.headers=new Headers(a),this.schemaName=i,this.fetch=o}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ok(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Ay(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,a={},{head:i=!1,get:o=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${n}`);let g;const x=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(x)),b=i&&Object.values(a).some(x);b?(f="POST",g=a):i||o?(f=i?"HEAD":"GET",Object.entries(a).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{p.searchParams.append(_,w)})):(f="POST",g=a);const y=new Headers(this.headers);return b?y.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&y.set("Prefer",`count=${u}`),new Qs({method:f,url:p,headers:y,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Rk{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const i=a.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const i=this.getWebSocketConstructor();return new i(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Dk="2.91.1",zk=`realtime-js/${Dk}`,Ik="1.0.0",Oy="2.0.0",Px=Oy,Ah=1e4,Mk=1e3,Uk=100;var ca;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ca||(ca={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var Oh;(function(e){e.websocket="websocket"})(Oh||(Oh={}));var Ba;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ba||(Ba={}));class Lk{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,a){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return a(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var a;return this._isArrayBuffer((a=n.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var a,i;const o=(i=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var a,i;const o=(i=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,a,i){var o,u;const d=n.topic,f=(o=n.ref)!==null&&o!==void 0?o:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+g.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(_),N=0;w.setUint8(N++,this.KINDS.userBroadcastPush),w.setUint8(N++,p.length),w.setUint8(N++,f.length),w.setUint8(N++,d.length),w.setUint8(N++,g.length),w.setUint8(N++,b.length),w.setUint8(N++,a),Array.from(p,A=>w.setUint8(N++,A.charCodeAt(0))),Array.from(f,A=>w.setUint8(N++,A.charCodeAt(0))),Array.from(d,A=>w.setUint8(N++,A.charCodeAt(0))),Array.from(g,A=>w.setUint8(N++,A.charCodeAt(0))),Array.from(b,A=>w.setUint8(N++,A.charCodeAt(0)));var j=new Uint8Array(_.byteLength+i.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(i),_.byteLength),j.buffer}decode(n,a){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return a(i)}if(typeof n=="string"){const i=JSON.parse(n),[o,u,d,f,p]=i;return a({join_ref:o,ref:u,topic:d,event:f,payload:p})}return a({})}_binaryDecode(n){const a=new DataView(n),i=a.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,a,o)}}_decodeUserBroadcast(n,a,i){const o=a.getUint8(1),u=a.getUint8(2),d=a.getUint8(3),f=a.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(n.slice(p,p+o));p=p+o;const x=i.decode(n.slice(p,p+u));p=p+u;const b=i.decode(n.slice(p,p+d));p=p+d;const y=n.slice(p,n.byteLength),_=f===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,w={type:this.BROADCAST_EVENT,event:x,payload:_};return d>0&&(w.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(n){var a;return n instanceof ArrayBuffer||((a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(n,a){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([i])=>a.includes(i)))}}class Cy{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Hx=(e,n,a={})=>{var i;const o=(i=a.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((u,d)=>(u[d]=$k(d,e,n,o),u),{}):{}},$k=(e,n,a,i)=>{const o=n.find(f=>f.name===e),u=o==null?void 0:o.type,d=a[e];return u&&!i.includes(u)?Ry(u,d):Ch(d)},Ry=(e,n)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return qk(n,a)}switch(e){case nt.bool:return Bk(n);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return Pk(n);case nt.json:case nt.jsonb:return Hk(n);case nt.timestamp:return Gk(n);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Ch(n);default:return Ch(n)}},Ch=e=>e,Bk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pk=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Hk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},qk=(e,n)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let u;const d=e.slice(1,a);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>Ry(n,f))}return e},Gk=e=>typeof e=="string"?e.replace(" ","T"):e,Dy=e=>{const n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class lh{constructor(n,a,i={},o=Ah){this.channel=n,this.event=a,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var i;return this._hasReceived(n)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var qx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qx||(qx={}));class kl{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,o,u,d),this.pendingDiffs.forEach(p=>{this.state=kl.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=kl.syncDiff(this.state,o,u,d),f())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,i,o){const u=this.cloneDeep(n),d=this.transformState(a),f={},p={};return this.map(u,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const b=u[g];if(b){const y=x.map(j=>j.presence_ref),_=b.map(j=>j.presence_ref),w=x.filter(j=>_.indexOf(j.presence_ref)<0),N=b.filter(j=>y.indexOf(j.presence_ref)<0);w.length>0&&(f[g]=w),N.length>0&&(p[g]=N)}else f[g]=x}),this.syncDiff(u,{joins:f,leaves:p},i,o)}static syncDiff(n,a,i,o){const{joins:u,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(f,p)=>{var g;const x=(g=n[f])!==null&&g!==void 0?g:[];if(n[f]=this.cloneDeep(p),x.length>0){const b=n[f].map(_=>_.presence_ref),y=x.filter(_=>b.indexOf(_.presence_ref)<0);n[f].unshift(...y)}i(f,x,p)}),this.map(d,(f,p)=>{let g=n[f];if(!g)return;const x=p.map(b=>b.presence_ref);g=g.filter(b=>x.indexOf(b.presence_ref)<0),n[f]=g,o(f,g,p),g.length===0&&delete n[f]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(i=>a(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,i)=>{const o=n[i];return"metas"in o?a[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=o,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gx||(Gx={}));var Sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sl||(Sl={}));var Rr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class ni{constructor(n,a={config:{}},i){var o,u;if(this.topic=n,this.params=a,this.socket=i,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new lh(this,er.join,this.params,this.timeout),this.rejoinTimer=new Cy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new kl(this),this.broadcastEndpointURL=Dy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,a=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},y={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>n==null?void 0:n(Rr.CHANNEL_ERROR,_)),this._onClose(()=>n==null?void 0:n(Rr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){n==null||n(Rr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(w=N==null?void 0:N.length)!==null&&w!==void 0?w:0,A=[];for(let S=0;S<j;S++){const O=N[S],{filter:{event:I,schema:D,table:z,filter:C}}=O,$=_&&_[S];if($&&$.event===I&&ni.isFilterValueEqual($.schema,D)&&ni.isFilterValueEqual($.table,z)&&ni.isFilterValueEqual($.filter,C))A.push(Object.assign(Object.assign({},O),{id:$.id}));else{this.unsubscribe(),this.state=Mt.errored,n==null||n(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,n&&n(Rr.SUBSCRIBED);return}}).receive("error",_=>{this.state=Mt.errored,n==null||n(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,i){return this.state===Mt.joined&&n===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,a,i)}async httpSend(n,a,i={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(n,a={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=n,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const g=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Mt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new lh(this,er.leave,{},n),i.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(n,a,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),d}_push(n,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new lh(this,n,a,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Uk){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,i){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,i){var o,u;const d=n.toLocaleLowerCase(),{close:f,error:p,leave:g,join:x}=er;if(i&&[f,p,g,x].indexOf(d)>=0&&i!==this._joinRef())return;let y=this._onMessage(d,a,i);if(a&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var w,N,j;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(N=_.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(_=>_.callback(y,i)):(u=this.bindings[d])===null||u===void 0||u.filter(_=>{var w,N,j,A,S,O,I,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const z=_.id,C=(w=_.filter)===null||w===void 0?void 0:w.event;return z&&((N=a.ids)===null||N===void 0?void 0:N.includes(z))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=a.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))&&(!(!((A=_.filter)===null||A===void 0)&&A.table)||_.filter.table===((S=a.data)===null||S===void 0?void 0:S.table))}else{const z=(I=(O=_==null?void 0:_.filter)===null||O===void 0?void 0:O.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return z==="*"||z===((D=a==null?void 0:a.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:N,table:j,commit_timestamp:A,type:S,errors:O}=w;y=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:A,eventType:S,new:{},old:{},errors:O}),this._getPayloadRecords(w))}_.callback(y,i)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,i){const o=n.toLocaleLowerCase(),u={type:o,filter:a,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,a){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ni.isEqual(o.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const i in n)if(n[i]!==a[i])return!1;return!0}static isFilterValueEqual(n,a){return(n??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(er.close,{},n)}_onError(n){this._on(er.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Hx(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Hx(n.columns,n.old_record)),a}}const oh=()=>{},ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vk=[1e3,2e3,5e3,1e4],Fk=1e4,Yk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zk{constructor(n,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ah,this.transport=null,this.heartbeatIntervalMs=ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oh,this.ref=0,this.reconnectTimer=null,this.vsn=Px,this.logger=oh,this.conn=null,this.sendBuffer=[],this.serializer=new Lk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=a==null?void 0:a.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Oh.websocket}`,this.httpEndpoint=Dy(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rk.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,i){this.logger(n,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ca.connecting:return Ba.Connecting;case ca.open:return Ba.Open;case ca.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const i=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new ni(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:i,payload:o,ref:u}=n,d=()=>{this.encode(n,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${a} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Mk,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",g)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:d}=a,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${o} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ca.open||this.conn.readyState===ca.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(er.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const i=n.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${n}${i}${o}`}_workerObjectUrl(n){let a;if(n)a=n;else{const i=new Blob([Yk],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a,i=!1;if(n)a=n,i=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:zk};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(er.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(a)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Cy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ic.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,i,o,u,d,f,p,g,x,b,y,_;switch(this.transport=(a=n==null?void 0:n.transport)!==null&&a!==void 0?a:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:Ah,this.heartbeatIntervalMs=(o=n==null?void 0:n.heartbeatIntervalMs)!==null&&o!==void 0?o:ic.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n==null?void 0:n.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=n==null?void 0:n.heartbeatCallback)!==null&&f!==void 0?f:oh,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:Px,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(w=>Vk[w-1]||Fk),this.vsn){case Ik:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((w,N)=>N(JSON.stringify(w))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:((w,N)=>N(JSON.parse(w)));break;case Oy:this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(_=n==null?void 0:n.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Al=class extends Error{constructor(e,n){var a;super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((a=n.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Kk(e,n,a){const i=new URL(n,e);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function Jk(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Xk(e){const n=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:i,query:o,body:u,headers:d}){const f=Kk(e.baseUrl,i,o),p=await Jk(e.auth),g=await n(f,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),y=b&&x?JSON.parse(x):x;if(!g.ok){const _=b?y:void 0,w=_==null?void 0:_.error;throw new Al((w==null?void 0:w.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:_})}return{status:g.status,headers:g.headers,data:y}}}}function lc(e){return e.join("")}var Qk=class{constructor(e,n=""){this.client=e,this.prefix=n}async listNamespaces(e){const n=e?{parent:lc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,n){const a={namespace:e.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lc(e.namespace)}`}),!0}catch(n){if(n instanceof Al&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(e,n){try{return await this.createNamespace(e,n)}catch(a){if(a instanceof Al&&a.status===409)return;throw a}}};function Gs(e){return e.join("")}var Wk=class{constructor(e,n="",a){this.client=e,this.prefix=n,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables`})).data.identifiers}async createTable(e,n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables`,body:n,headers:a})).data.metadata}async updateTable(e,n){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata}async tableExists(e){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gs(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(a){if(a instanceof Al&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,n){try{return await this.createTable(e,n)}catch(a){if(a instanceof Al&&a.status===409)return await this.loadTable({namespace:e.namespace,name:n.name});throw a}}},eS=class{constructor(e){var i;let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Xk({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(i=e.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Qk(this.client,n),this.tableOps=new Wk(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,n){return this.namespaceOps.createNamespace(e,n)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,n){return this.tableOps.createTable(e,n)}async updateTable(e,n){return this.tableOps.updateTable(e,n)}async dropTable(e,n){await this.tableOps.dropTable(e,n)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,n){return this.namespaceOps.createNamespaceIfNotExists(e,n)}async createTableIfNotExists(e,n){return this.tableOps.createTableIfNotExists(e,n)}},zc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var tS=class extends zc{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rh=class extends zc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};const Wh=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),nS=()=>Response,Dh=e=>{if(Array.isArray(e))return e.map(a=>Dh(a));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([a,i])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Dh(i)}),n},rS=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ol(e)}function sS(e,n){if(Ol(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,n);if(Ol(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function iS(e){var n=sS(e,"string");return Ol(n)=="symbol"?n:n+""}function lS(e,n,a){return(n=iS(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function Vx(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,i)}return a}function Ae(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Vx(Object(a),!0).forEach(function(i){lS(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vx(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}const ch=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},oS=async(e,n,a)=>{e instanceof await nS()&&!(a!=null&&a.noResolveJson)?e.json().then(i=>{const o=e.status||500,u=(i==null?void 0:i.statusCode)||o+"";n(new tS(ch(i),o,u))}).catch(i=>{n(new Rh(ch(i),i))}):n(new Rh(ch(e),e))},cS=(e,n,a,i)=>{const o={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"||!i?o:(rS(i)?(o.headers=Ae({"Content-Type":"application/json"},n==null?void 0:n.headers),o.body=JSON.stringify(i)):o.body=i,n!=null&&n.duplex&&(o.duplex=n.duplex),Ae(Ae({},o),a))};async function Ll(e,n,a,i,o,u){return new Promise((d,f)=>{e(a,cS(n,i,o,u)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>oS(p,f,i))})}async function Cl(e,n,a,i){return Ll(e,"GET",n,a,i)}async function Wn(e,n,a,i,o){return Ll(e,"POST",n,i,o,a)}async function zh(e,n,a,i,o){return Ll(e,"PUT",n,i,o,a)}async function uS(e,n,a,i){return Ll(e,"HEAD",n,Ae(Ae({},a),{},{noResolveJson:!0}),i)}async function e0(e,n,a,i,o){return Ll(e,"DELETE",n,i,o,a)}var dS=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}};let zy;zy=Symbol.toStringTag;var hS=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[zy]="BlobDownloadBuilder",this.promise=null}asStream(){return new dS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}};const fS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mS=class{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=Wh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,n,a,i){var o=this;try{let u;const d=Ae(Ae({},Fx),i);let f=Ae(Ae({},o.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),i!=null&&i.headers&&(f=Ae(Ae({},f),i.headers));const g=o._removeEmptyFolders(n),x=o._getFinalPath(g),b=await(e=="PUT"?zh:Wn)(o.fetch,`${o.url}/object/${x}`,u,Ae({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(mt(u))return{data:null,error:u};throw u}}async upload(e,n,a){return this.uploadOrUpdate("POST",e,n,a)}async uploadToSignedUrl(e,n,a,i){var o=this;const u=o._removeEmptyFolders(e),d=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let p;const g=Ae({upsert:Fx.upsert},i),x=Ae(Ae({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{data:{path:u,fullPath:(await zh(o.fetch,f.toString(),p,{headers:x})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(mt(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(e,n){var a=this;try{let i=a._getFinalPath(e);const o=Ae({},a.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=await Wn(a.fetch,`${a.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(a.url+u.url),f=d.searchParams.get("token");if(!f)throw new zc("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async update(e,n,a){return this.uploadOrUpdate("PUT",e,n,a)}async move(e,n,a){var i=this;try{return{data:await Wn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async copy(e,n,a){var i=this;try{return{data:{path:(await Wn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async createSignedUrl(e,n,a){var i=this;try{let o=i._getFinalPath(e),u=await Wn(i.fetch,`${i.url}/object/sign/${o}`,Ae({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:i.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async createSignedUrls(e,n,a){var i=this;try{const o=await Wn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:n,paths:e},{headers:i.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(d=>Ae(Ae({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",u=this._getFinalPath(e),d=()=>Cl(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new hS(d,this.shouldThrowOnError)}async info(e){var n=this;const a=n._getFinalPath(e);try{return{data:Dh(await Cl(n.fetch,`${n.url}/object/info/${a}`,{headers:n.headers})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async exists(e){var n=this;const a=n._getFinalPath(e);try{return await uS(n.fetch,`${n.url}/object/${a}`,{headers:n.headers}),{data:!0,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mt(i)&&i instanceof Rh){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${f}`)}}}async remove(e){var n=this;try{return{data:await e0(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async list(e,n,a){var i=this;try{const o=Ae(Ae(Ae({},fS),n),{},{prefix:e||""});return{data:await Wn(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},a),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async listV2(e,n){var a=this;try{const i=Ae({},e);return{data:await Wn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,i,{headers:a.headers},n),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};const Iy="2.91.1",My={"X-Client-Info":`storage-js/${Iy}`};var pS=class{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ae(Ae({},My),n),this.fetch=Wh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var n=this;try{const a=n.listBucketOptionsToQueryString(e);return{data:await Cl(n.fetch,`${n.url}/bucket${a}`,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async getBucket(e){var n=this;try{return{data:await Cl(n.fetch,`${n.url}/bucket/${e}`,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async createBucket(e,n={public:!1}){var a=this;try{return{data:await Wn(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async updateBucket(e,n){var a=this;try{return{data:await zh(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}}async emptyBucket(e){var n=this;try{return{data:await Wn(n.fetch,`${n.url}/bucket/${e}/empty`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async deleteBucket(e){var n=this;try{return{data:await e0(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},gS=class{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},My),n),this.fetch=Wh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var n=this;try{return{data:await Wn(n.fetch,`${n.url}/bucket`,{name:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async listBuckets(e){var n=this;try{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const i=a.toString(),o=i?`${n.url}/bucket?${i}`:`${n.url}/bucket`;return{data:await Cl(n.fetch,o,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}async deleteBucket(e){var n=this;try{return{data:await e0(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}}from(e){var n=this;if(!aS(e))throw new zc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new eS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(a,{get(o,u){const d=o[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(o,f),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const t0={"X-Client-Info":`storage-js/${Iy}`,"Content-Type":"application/json"};var Uy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Tn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var uh=class extends Uy{constructor(e,n,a){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xS=class extends Uy{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};const n0=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),bS=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yS=async(e,n,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||i+"";n(new uh(Yx(u),i,d))}).catch(()=>{const u=i+"";n(new uh(o.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";n(new uh(o.statusText||`HTTP ${i} error`,i,u))}}else n(new xS(Yx(e),e))},vS=(e,n,a,i)=>{const o={method:e,headers:(n==null?void 0:n.headers)||{}};return i?(bS(i)?(o.headers=Ae({"Content-Type":"application/json"},n==null?void 0:n.headers),o.body=JSON.stringify(i)):o.body=i,Ae(Ae({},o),a)):o};async function wS(e,n,a,i,o,u){return new Promise((d,f)=>{e(a,vS(n,i,o,u)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>yS(p,f,i))})}async function An(e,n,a,i,o){return wS(e,"POST",n,i,o,a)}var _S=class{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},t0),n),this.fetch=n0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/CreateIndex`,e,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async getIndex(e,n){var a=this;try{return{data:await An(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}async listIndexes(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/ListIndexes`,e,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async deleteIndex(e,n){var a=this;try{return{data:await An(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}},NS=class{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},t0),n),this.fetch=n0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var n=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await An(n.fetch,`${n.url}/PutVectors`,e,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async getVectors(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/GetVectors`,e,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async listVectors(e){var n=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await An(n.fetch,`${n.url}/ListVectors`,e,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async queryVectors(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/QueryVectors`,e,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async deleteVectors(e){var n=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await An(n.fetch,`${n.url}/DeleteVectors`,e,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}},jS=class{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},t0),n),this.fetch=n0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async getBucket(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async listBuckets(e={}){var n=this;try{return{data:await An(n.fetch,`${n.url}/ListVectorBuckets`,e,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}async deleteBucket(e){var n=this;try{return{data:await An(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Tn(a))return{data:null,error:a};throw a}}},kS=class extends jS{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new SS(this.url,this.headers,e,this.fetch)}async createBucket(e){var n=()=>super.createBucket,a=this;return n().call(a,e)}async getBucket(e){var n=()=>super.getBucket,a=this;return n().call(a,e)}async listBuckets(e={}){var n=()=>super.listBuckets,a=this;return n().call(a,e)}async deleteBucket(e){var n=()=>super.deleteBucket,a=this;return n().call(a,e)}},SS=class extends _S{constructor(e,n,a,i){super(e,n,i),this.vectorBucketName=a}async createIndex(e){var n=()=>super.createIndex,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var n=()=>super.listIndexes,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var n=()=>super.getIndex,a=this;return n().call(a,a.vectorBucketName,e)}async deleteIndex(e){var n=()=>super.deleteIndex,a=this;return n().call(a,a.vectorBucketName,e)}index(e){return new ES(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ES=class extends NS{constructor(e,n,a,i,o){super(e,n,o),this.vectorBucketName=a,this.indexName=i}async putVectors(e){var n=()=>super.putVectors,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var n=()=>super.getVectors,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var n=()=>super.listVectors,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var n=()=>super.queryVectors,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var n=()=>super.deleteVectors,a=this;return n().call(a,Ae(Ae({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},TS=class extends pS{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new mS(this.url,this.headers,e,this.fetch)}get vectors(){return new kS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gS(this.url+"/iceberg",this.headers,this.fetch)}};const Ly="2.91.1",Ws=30*1e3,Ih=3,dh=Ih*Ws,AS="http://localhost:9999",OS="supabase.auth.token",CS={"X-Client-Info":`gotrue-js/${Ly}`},Mh="X-Supabase-Api-Version",$y={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DS=600*1e3;class Rl extends Error{constructor(n,a,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zS extends Rl{constructor(n,a,i){super(n,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function IS(e){return Ne(e)&&e.name==="AuthApiError"}class Pa extends Rl{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class Ur extends Rl{constructor(n,a,i,o){super(n,i,o),this.name=a,this.status=i}}class En extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MS(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class Vs extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oc extends Ur{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class cc extends Ur{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function US(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zx extends Ur{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class LS extends Ur{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uh extends Ur{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function hh(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class Kx extends Ur{constructor(n,a,i){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class Lh extends Ur{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jx=` 	
\r=`.split(""),$S=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Jx.length;n+=1)e[Jx[n].charCodeAt(0)]=-2;for(let n=0;n<yc.length;n+=1)e[yc[n].charCodeAt(0)]=n;return e})();function Xx(e,n,a){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(yc[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(yc[i]),n.queuedBits-=6}}function By(e,n,a){const i=$S[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qx(e){const n=[],a=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{HS(d,i,a)};for(let d=0;d<e.length;d+=1)By(e.charCodeAt(d),o,u);return n.join("")}function BS(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PS(e,n){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}BS(i,n)}}function HS(e,n,a){if(n.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function oi(e){const n=[],a={queue:0,queuedBits:0},i=o=>{n.push(o)};for(let o=0;o<e.length;o+=1)By(e.charCodeAt(o),a,i);return new Uint8Array(n)}function qS(e){const n=[];return PS(e,a=>n.push(a)),new Uint8Array(n)}function Ha(e){const n=[],a={queue:0,queuedBits:0},i=o=>{n.push(o)};return e.forEach(o=>Xx(o,a,i)),Xx(null,a,i),n.join("")}function GS(e){return Math.round(Date.now()/1e3)+e}function VS(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},Py=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function FS(e){const n={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return a.searchParams.forEach((i,o)=>{n[o]=i}),n}const Hy=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),YS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,n,a)=>{await e.setItem(n,JSON.stringify(a))},Ua=async(e,n)=>{const a=await e.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Zt=async(e,n)=>{await e.removeItem(n)};class Ic{constructor(){this.promise=new Ic.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}Ic.promiseConstructor=Promise;function fh(e){const n=e.split(".");if(n.length!==3)throw new Lh("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!RS.test(n[i]))throw new Lh("JWT not in base64url format");return{header:JSON.parse(Qx(n[0])),payload:JSON.parse(Qx(n[1])),signature:oi(n[2]),raw:{header:n[0],payload:n[1]}}}async function ZS(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function KS(e,n){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await e(u);if(!n(u,null,d)){i(d);return}}catch(d){if(!n(u,d)){o(d);return}}})()})}function JS(e){return("0"+e.toString(16)).substr(-2)}function XS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(n),Array.from(n,JS).join("")}async function QS(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function WS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await QS(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(e,n,a=!1){const i=XS();let o=i;a&&(o+="/PASSWORD_RECOVERY"),await ei(e,`${n}-code-verifier`,o);const u=await WS(i);return[u,i===u?"plain":"s256"]}const eE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tE(e){const n=e.headers.get(Mh);if(!n||!n.match(eE))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function nE(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function rE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ys(e){if(!aE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mh(){const e={};return new Proxy(e,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sE(e,n){return new Proxy(e,{get:(a,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,i,o)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(a,i,o)}})}function Wx(e){return JSON.parse(JSON.stringify(e))}const $a=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iE=[502,503,504];async function eb(e){var n;if(!YS(e))throw new Uh($a(e),0);if(iE.includes(e.status))throw new Uh($a(e),e.status);let a;try{a=await e.json()}catch(u){throw new Pa($a(u),u)}let i;const o=tE(e);if(o&&o.getTime()>=$y["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Kx($a(a),e.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new En}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Kx($a(a),e.status,a.weak_password.reasons);throw new zS($a(a),e.status||500,i)}const lE=(e,n,a,i)=>{const o={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),a))};async function Te(e,n,a,i){var o;const u=Object.assign({},i==null?void 0:i.headers);u[Mh]||(u[Mh]=$y["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await oE(e,n,a+f,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function oE(e,n,a,i,o,u){const d=lE(n,i,o,u);let f;try{f=await e(a,Object.assign({},d))}catch(p){throw console.error(p),new Uh($a(p),0)}if(f.ok||await eb(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(p){await eb(p)}}function Qn(e){var n;let a=null;dE(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=GS(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:a,user:i},error:null}}function tb(e){const n=Qn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ua(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function cE(e){return{data:e,error:null}}function uE(e){const{action_link:n,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u}=e,d=Dc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function nb(e){return e}function dE(e){return e.access_token&&e.refresh_token&&e.expires_in}const ph=["global","local","others"];class hE{constructor({url:n="",headers:a={},fetch:i}){this.url=n,this.headers=a,this.fetch=Hy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,a=ph[0]){if(ph.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ph.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,a={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ua})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:a}=n,i=Dc(n,["options"]),o=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:uE,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(Ne(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ua})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,i,o,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n==null?void 0:n.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nb});if(x.error)throw x.error;const b=await x.json(),y=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(w=>{const N=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Ys(n);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ua})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){Ys(n);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:ua})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,a=!1){Ys(n);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:ua})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){Ys(n.userId);try{const{data:a,error:i}=await Te(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:i}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _deleteFactor(n){Ys(n.userId),Ys(n.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _listOAuthClients(n){var a,i,o,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n==null?void 0:n.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:nb});if(x.error)throw x.error;const b=await x.json(),y=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(w=>{const N=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Ne(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _getOAuthClient(n){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _updateOAuthClient(n,a){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(n){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}}function rb(e={}){return{getItem:n=>e[n]||null,setItem:(n,a)=>{e[n]=a},removeItem:n=>{delete e[n]}}}const Zs={debug:!!(globalThis&&Py()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class fE extends qy{}async function mE(e,n,a){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await a()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(n===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function pE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gE(e){return parseInt(e,16)}function xE(e){const n=new TextEncoder().encode(e);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function bE(e){var n;const{chainId:a,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:x,uri:b,version:y}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=Gy(e.address),w=x?`${x}://${i}`:i,N=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${_}

${N}`;let A=`URI: ${b}
Version: ${y}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),f&&(A+=`
Not Before: ${f.toISOString()}`),p&&(A+=`
Request ID: ${p}`),g){let S=`
Resources:`;for(const O of g){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);S+=`
- ${O}`}A+=S}return`${j}
${A}`}class Ot extends Error{constructor({message:n,code:a,cause:i,name:o}){var u;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class vc extends Ot{constructor(n,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:n}),this.name="WebAuthnUnknownError",this.originalError=a}}function yE({error:e,options:n}){var a,i,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const d=window.location.hostname;if(Vy(d)){if(u.rp.id!==d)return new Ot({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vE({error:e,options:n}){const{publicKey:a}=n;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Vy(i)){if(a.rpId!==i)return new Ot({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wE{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const _E=new wE;function NE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:n,user:a,excludeCredentials:i}=e,o=Dc(e,["challenge","user","excludeCredentials"]),u=oi(n).buffer,d=Object.assign(Object.assign({},a),{id:oi(a.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:d});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:oi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function jE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:n,allowCredentials:a}=e,i=Dc(e,["challenge","allowCredentials"]),o=oi(n).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const f=a[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:oi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function kE(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ha(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function SE(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,i=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ha(new Uint8Array(o.authenticatorData)),clientDataJSON:Ha(new Uint8Array(o.clientDataJSON)),signature:Ha(new Uint8Array(o.signature)),userHandle:o.userHandle?Ha(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Vy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ab(){var e,n;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function EE(e){try{const n=await navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",n)}:{data:null,error:new vc("Empty credential response",n)}}catch(n){return{data:null,error:yE({error:n,options:e})}}}async function TE(e){try{const n=await navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",n)}:{data:null,error:new vc("Empty credential response",n)}}catch(n){return{data:null,error:vE({error:n,options:e})}}}const AE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...e){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of e)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(a(d))i[u]=d;else if(n(d)){const f=i[u];n(f)?i[u]=wc(f,d):i[u]=wc(d)}else i[u]=d}return i}function CE(e,n){return wc(AE,e,n||{})}function RE(e,n){return wc(OE,e,n||{})}class DE{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:a,friendlyName:i,signal:o},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:n,webauthn:a});if(!d)return{data:null,error:f};const p=o??_E.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=CE(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:b}=await EE({publicKey:g,signal:p});return x?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const g=RE(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:b}=await TE(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return x?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(d){return Ne(d)?{data:null,error:d}:{data:null,error:new Pa("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:a,webauthn:i}){return this.client.mfa.verify({factorId:a,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Rl("rpId is required for WebAuthn authentication")};try{if(!ab())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:n,webauthn:{rpId:a,rpOrigins:i},signal:o},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:i,credential_response:p.credential_response}})}catch(d){return Ne(d)?{data:null,error:d}:{data:null,error:new Pa("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Rl("rpId is required for WebAuthn registration")};try{if(!ab())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===n&&y.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:i},signal:o},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Ne(d)?{data:null,error:d}:{data:null,error:new Pa("Unexpected error in register",d)}}}}pE();const zE={url:AS,storageKey:OS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sb(e,n,a){return await a()}const Ks={};class Dl{get jwks(){var n,a;return(a=(n=Ks[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Ks[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{cachedAt:n})}constructor(n){var a,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},zE),n);if(this.storageKey=u.storageKey,this.instanceID=(a=Dl.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Kt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new hE({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Hy(u.fetch),this.lock=u.lock||sb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Kt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=mE:this.lock=sb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Py()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rb(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=rb(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ly}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let a={},i="none";if(Kt()&&(a=FS(window.location.href),this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce")),Kt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),US(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ne(a)?this._returnResult({error:a}):this._returnResult({error:new Pa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,i,o;try{const u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=n==null?void 0:n.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qn}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var a,i,o;try{let u;if("email"in n){const{email:x,password:b,options:y}=n;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Fs(this.storage,this.storageKey)),u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:x,password:b,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:w},xform:Qn})}else if("phone"in n){const{phone:x,password:b,options:y}=n;u=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},channel:(o=y==null?void 0:y.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Qn})}else throw new oc("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await Zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:d,options:f}=n;a=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tb})}else if("phone"in n){const{phone:u,password:d,options:f}=n;a=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tb})}else throw new oc("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new Vs;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(n){var a,i,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;switch(a){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(n){var a,i,o,u,d,f,p,g,x,b,y;let _,w;if("message"in n)_=n.message,w=n.signature;else{const{chain:N,wallet:j,statement:A,options:S}=n;let O;if(Kt())if(typeof j=="object")O=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")O=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const I=new URL((a=S==null?void 0:S.url)!==null&&a!==void 0?a:window.location.href),D=await O.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Gy(D[0]);let C=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){const H=await O.request({method:"eth_chainId"});C=gE(H)}const $={domain:I.host,address:z,statement:A,uri:I.href,version:"1",chainId:C,nonce:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=S==null?void 0:S.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=S==null?void 0:S.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=bE($),w=await O.request({method:"personal_sign",params:[xE(_),z]})}try{const{data:N,error:j}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qn});if(j)throw j;if(!N||!N.session||!N.user){const A=new Vs;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(Ne(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var a,i,o,u,d,f,p,g,x,b,y,_;let w,N;if("message"in n)w=n.message,N=n.signature;else{const{chain:j,wallet:A,statement:S,options:O}=n;let I;if(Kt())if(typeof A=="object")I=A;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))I=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const D=new URL((a=O==null?void 0:O.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in I&&I.signIn){const z=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),S?{statement:S}:null));let C;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")C=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)C=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),N=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((g=O==null?void 0:O.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((b=(x=O==null?void 0:O.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...O.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const z=await I.signMessage(new TextEncoder().encode(w),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=z}}try{const{data:j,error:A}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ha(N)},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Qn});if(A)throw A;if(!j||!j.session||!j.user){const S=new Vs;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(Ne(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const a=await Ua(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(a??"").split("/");try{if(!i&&this.flowType==="pkce")throw new LS;const{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Qn});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:a,provider:i,token:o,access_token:u,nonce:d}=n,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qn}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const x=new Vs;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(n){var a,i,o,u,d;try{if("email"in n){const{email:f,options:p}=n;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Fs(this.storage,this.storageKey));const{error:b}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:f,options:p}=n,{data:g,error:x}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new oc("You must provide either an email or phone number.")}catch(f){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(n){var a,i;try{let o,u;"options"in n&&(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Qn});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var a,i,o,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Fs(this.storage,this.storageKey));const g=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:cE});return!((u=g.data)===null||u===void 0)&&u.url&&Kt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)throw i;if(!a)throw new En;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:i,type:o,options:u}=n,{error:d}=await Te(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:i,type:o,options:u}=n,{data:d,error:f}=await Te(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new oc("You must provide either an email or phone number and a type")}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<dh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await Ua(this.userStorage,this.storageKey+"-user");d!=null&&d.user?n.user=d.user:n.user=mh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=sE(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(n){try{return n?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ua}):await this._useSession(async a=>{var i,o,u;const{data:d,error:f}=a;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ua})})}catch(a){if(Ne(a))return MS(a)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new En;const d=o.session;let f=null,p=null;this.flowType==="pkce"&&n.email!=null&&([f,p]=await Fs(this.storage,this.storageKey));const{data:g,error:x}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:ua});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new En;const a=Date.now()/1e3;let i=a,o=!0,u=null;const{payload:d}=fh(n.access_token);if(d.exp&&(i=d.exp,o=i<=a),o){const{data:f,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var i;if(!n){const{data:d,error:f}=a;if(f)throw f;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new En;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(n,a){try{if(!Kt())throw new cc("No browser detected.");if(n.error||n.error_description||n.error_code)throw new cc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Zx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Zx("No code detected.");const{data:S,error:O}=await this._exchangeCodeForSession(n.code);if(O)throw O;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=n;if(!u||!f||!d||!g)throw new cc("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(f);let y=x+b;p&&(y=parseInt(p));const _=y-x;_*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const w=y-b;x-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,x):x-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,x);const{data:N,error:j}=await this._getUser(u);if(j)throw j;const A={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:y,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:n.type},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({error:u});const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,n);if(f&&!(IS(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return n!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const a=VS(),i={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async a=>{var i,o;try{const{data:{session:u},error:d}=a;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Fs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var a;try{const{data:i,error:o}=await this._useSession(async u=>{var d,f,p,g,x;const{data:b,error:y}=u;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Kt()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:n.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async a=>{var i;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:d,provider:f,token:p,access_token:g,nonce:x}=n,b=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Qn}),{data:y,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:_}))}catch(o){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async a=>{var i,o;const{data:u,error:d}=a;if(d)throw d;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await KS(async o=>(o>0&&await ZS(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Qn})),(o,u)=>{const d=200*Math.pow(2,o);return u&&hh(u)&&Date.now()+d-i<Ws})}catch(i){if(this._debug(a,"error",i),Ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",i),Kt()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Ua(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await ei(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d==null?void 0:d.user)!==null&&n!==void 0?n:mh()}else if(o&&!o.user&&!o.user){const d=await Ua(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await Zt(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=mh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<dh;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${dh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),hh(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(o.access_token);!f&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var a,i;if(!n)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ic;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new En;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),Ne(u)){const d={data:null,error:u};return hh(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,a,i=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,a)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Zt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},n),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await ei(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=Wx(o);await ei(this.storage,this.storageKey,u)}else{const o=Wx(a);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-n)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ws}ms, refresh threshold is ${Ih} ticks`),o<=Ih&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof qy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,i){const o=[`provider=${encodeURIComponent(a)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(f.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await Te(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(n){try{return await this._useSession(async a=>{var i,o;const{data:u,error:d}=a;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:g}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?kE(n.webauthn.credential_response):SE(n.webauthn.credential_response)})}:{code:n.code}),{data:f,error:p}=await Te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=await Te(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:NE(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:jE(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(n){const{data:a,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){var n;const{data:{user:a},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=a==null?void 0:a.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,a;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=fh(i.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((a=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new En})})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(n,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new En});const d=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Kt()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new En});const d=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Kt()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new En})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new En})})}catch(a){if(Ne(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(n,a={keys:[]}){let i=a.keys.find(f=>f.kid===n);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+DS>o)return i;const{data:u,error:d}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,a={}){try{let i=n;if(!i){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});i=_.session.access_token}const{header:o,payload:u,signature:d,raw:{header:f,payload:p}}=fh(i);a!=null&&a.allowExpired||nE(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:u,header:o,signature:d},error:null}}const x=rE(o.alg),b=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,d,qS(`${f}.${p}`)))throw new Lh("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}}Dl.nextInstanceID={};const IE=Dl,ME="2.91.1";let vl="";typeof Deno<"u"?vl="deno":typeof document<"u"?vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vl="react-native":vl="node";const UE={"X-Client-Info":`supabase-js-${vl}/${ME}`},LE={headers:UE},$E={schema:"public"},BE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PE={};function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zl(e)}function HE(e,n){if(zl(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,n);if(zl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function qE(e){var n=HE(e,"string");return zl(n)=="symbol"?n:n+""}function GE(e,n,a){return(n=qE(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function ib(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,i)}return a}function _t(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ib(Object(a),!0).forEach(function(i){GE(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ib(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}const VE=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),FE=()=>Headers,YE=(e,n,a)=>{const i=VE(a),o=FE();return async(u,d)=>{var f;const p=(f=await n())!==null&&f!==void 0?f:e;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,_t(_t({},d),{},{headers:g}))}};function ZE(e){return e.endsWith("/")?e:e+"/"}function KE(e,n){var a,i;const{db:o,auth:u,realtime:d,global:f}=e,{db:p,auth:g,realtime:x,global:b}=n,y={db:_t(_t({},p),o),auth:_t(_t({},g),u),realtime:_t(_t({},x),d),storage:{},global:_t(_t(_t({},b),f),{},{headers:_t(_t({},(a=b==null?void 0:b.headers)!==null&&a!==void 0?a:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function JE(e){const n=e==null?void 0:e.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZE(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var XE=class extends IE{constructor(e){super(e)}},QE=class{constructor(e,n,a){var i,o;this.supabaseUrl=e,this.supabaseKey=n;const u=JE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:$E,realtime:PE,auth:_t(_t({},BE),{},{storageKey:d}),global:LE},p=KE(a??{},f);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=YE(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(_t({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Ck(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new TS(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Sk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,n,a;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:o,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:g},x,b){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XE({url:this.authUrl.href,headers:_t(_t({},y),x),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:o,flowType:d,lock:f,debug:p,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zk(this.realtimeUrl.href,_t(_t({},e),{},{params:_t(_t({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const WE=(e,n,a)=>new QE(e,n,a);function e5(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const n=e.version;if(n==null)return!1;const a=n.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}e5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t5="https://uzdkptbflaelqvusxcha.supabase.co",n5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV6ZGtwdGJmbGFlbHF2dXN4Y2hhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1NDE3NDksImV4cCI6MjA4NDExNzc0OX0.yMinyg-B7gqU8_9BvHUrT2HNU8sU6NH8Hhq97bysk4E",Oe=WE(t5,n5),r0=[],r5={en:{common:{add:"Add",edit:"Edit",delete:"Delete",cancel:"Cancel",save:"Save",search:"Search...",loading:"Loading...",reset:"Reset",apply:"Apply",date:"Date",amount:"Amount",category:"Category",transfer:"Transfer",scan:"Scan",actions:"Actions",confirmDelete:"Are you sure you want to delete this item?",all:"All",back:"Back",view:"View",submit:"Submit",processing:"Processing...",available:"Available",account:"Account",last30Days:"Last 30 Days",from:"From",to:"To",success:"Success",error:"Error",email:"Email",password:"Password",fullName:"Full Name",frequencies:{daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"}},auth:{signIn:"Sign In",signUp:"Sign Up",haveAccount:"Already have an account?",noAccount:"Don't have an account?",signInTitle:"Welcome back",signUpTitle:"Create your account",signInDesc:"Enter your credentials to access your wealth dashboard.",signUpDesc:"Join the exclusive wealth management platform.",passPlaceholder:"",biometricSignIn:"Sign in with Biometrics"},nav:{dashboard:"Dashboard",accounts:"Accounts",history:"History",budget:"Budget & Goals",business:"Business Hub",investments:"Investments",reports:"Reports",settings:"Settings",newTransaction:"New Transaction",scanr:"Scan Receipt",subtitle:"Wealth Defined"},concierge:{foundTransactions:"Found {count} transactions matching your criteria.",searching:"Searching transactions...",noResults:"No transactions found matching your criteria.",welcomeAttributes:"Welcome to AurumWolf Concierge. Text me or tap the headphones for a voice call.",contextBusiness:"I see you are in the Business Hub. Would you like a P&L analysis or entity performance review?",contextBudget:"Reviewing your financial plan. You have some budget categories nearing their limit.",contextAssets:"Asset allocation mode active. I can assist with rebalancing strategies.",contextPortfolio:"Portfolio mode active. I can analyze your active vs. passive strategy positions.",contextScan:"Receipt scanner active. I will auto-extract data from any image you upload.",contextGeneral:"I have your full financial context. How may I assist you today?",micErrorDenied:"Microphone access denied. Please allow microphone permissions in your browser settings to use Voice Mode.",micErrorNotFound:"No microphone found. Please check your audio input device.",micErrorUnknown:"Voice Error",addedVia:"Added via Concierge",transactionRecorded:"Transaction recorded: {name} for {amount}.",budgetCreated:"Budget created: {category} with limit {limit}.",processed:"I processed that request.",connectionError:"Connection error.",online:"Online",connecting:"Connecting...",listening:"Listening...",speaking:"Speaking...",voicePrompt:"Ask me to add transactions, analyze spending, or check your budget.",endCall:"End Call",startCall:"Start Voice Call",typeMessage:"Type a message..."},titles:{dashboard:"Dashboard",transactionHistory:"Transaction History",receiptScanner:"Receipt Scanner",businessHub:"Business Hub",preferences:"Preferences",accountsAssets:"Accounts & Assets",financialPlan:"Financial Plan",investmentPortfolio:"Investment Portfolio",reports:"Financial Reports",welcome:"Welcome back"},dashboard:{netWorth:"Net Worth",welcomeBack:"Welcome back",flow:"Cash Flow",vsLastMonth:"vs last month",assets:"Assets",businessPulse:"Business Pulse",spendingFlow:"Spending Flow",allocation:"Allocation",wealthAi:"Wealth AI",analyze:"Analyze Portfolio",recentActivity:"Recent Activity",analyzing:"Analyzing Assets...",noTransactions:"No recent transactions",aiInsight:"AI Insight",aurumScore:"Aurum Score",finHealthIndex:"Financial Health Index",healthExcellent:"Excellent. Your portfolio is well-diversified and liquid.",healthGood:"Good. Consider reducing debt to improve score.",healthPoor:"Attention needed. Review high-interest liabilities.",thisMonth:"This Month",safeToSpend:"Safe to Spend",consumed:"Consumed",overBudget:"Over Budget",onTrack:"On Track",quickActions:"Quick Actions",savingsRadar:"Savings Radar Active",upcoming:"Upcoming",viewAll:"View All",autoPay:"Auto-Pay",payNow:"Pay Now",noBills:"No upcoming bills.",more:"more",less:"less",currency:"Currency Converter",scoreDetail:{title:"Aurum Score Breakdown",description:"A comprehensive measure of your financial hygiene.",liquidity:"Liquidity Ratio",liquidityDesc:"Cash / Monthly Expenses",savings:"Savings Rate",savingsDesc:"Net Cash Flow / Income",debt:"Debt-to-Asset",debtDesc:"Total Debt / Total Assets",diversity:"Diversity",diversityDesc:"Asset Class Spread",pending:"Pending Data",pendingDesc:"Add income and assets to generate score.",excellent:"Elite Financial Status",good:"Solid Foundation",fair:"Needs Optimization",poor:"Critical Attention Needed"}},transactions:{income:"Income",expense:"Expense",recurring:"Subscriptions",filters:"Filters",clearFilters:"Clear Filters",found:"Transactions Found",export:"Export Visible",stopSubscription:"Stop Subscription",nextDue:"Next Due",dailySummary:"Daily Summary",type:"Type",status:"Status",description:"Description",frequency:"Frequency",isRecurring:"Recurring Transaction"},accounts:{globalNetLiquid:"Global Net Liquid",addAsset:"Add Asset",transferFunds:"Transfer Funds",freeze:"Freeze",unfreeze:"Unfreeze",ledger:"Ledger",balanceHistory:"Balance History",quickActions:"Quick Actions",available:"Available",limit:"Limit",apr:"APR",frozen:"Frozen",frozenAlert:"This account is frozen. You cannot transfer funds.",dueDay:"Due Day",util:"UTIL",selectSource:"Select Source...",selectDest:"Select Destination...",flow30:"30-Day Flow",newAccount:"New Account",editAccount:"Edit Account",accountName:"Account Name",accountType:"Account Type",institution:"Institution",initialBalance:"Initial Balance",currency:"Currency",color:"Color",from:"From",to:"To",transferAmount:"Transfer Amount",types:{checking:"Checking",savings:"Savings",credit:"Credit Card",investment:"Investment",loan:"Loan",cash:"Cash",crypto:"Crypto Wallet",other:"Other"},balanceAdjustment:"Balance Adjustment",startingBalance:"Starting Balance"},budget:{netCashFlow:"Net Cash Flow",savingsRate:"Savings Rate",incomeMtd:"Income (MTD)",expensesMtd:"Expenses (MTD)",allocations:"Allocations",editStructure:"Edit Structure",doneEditing:"Done Editing",wealthGoals:"Wealth Goals",addGoal:"Add Goal",editGoal:"Edit Goal",newGoal:"New Goal",expenseLimits:"Expense Limits",addCategory:"Add Category",newCategory:"New Category",incomeTargets:"Income Targets",addFunds:"Add Funds",confirmDeposit:"Confirm Deposit",progress:"Progress",remaining:"remaining",targetAchieved:"Target Achieved!",exceeded:"Exceeded limit by",safe:"Safely under pace by",alert:"Budget Alert",alertMessage:"Exceeded limit by",goalName:"Goal Name",targetAmount:"Target Amount",savedAmount:"Saved Amount",deadline:"Deadline",categoryName:"Category Name",limitAmount:"Limit Amount",contribution:"Contribution Amount",status:"Status",withinBudget:"Within Budget",overBudget:"Over Budget",underBudget:"Under Budget",targetMet:"Target Met",notMet:"Target Not Met",used:"used",received:"received",percentage:"Percentage",dailySafeSpend:"Suggested Daily Spend",recentTransactions:"Impactful Transactions",onTrack:"You are on track!",attention:"Attention needed",adviceSafe:"To stay safely within budget, limit your daily spend to:",adviceOver:"You have exceeded your limit. Review your recent transactions to adjust.",incomeHigher:"higher than expected",incomeLower:"lower than expected",majorContributor:"Largest Transaction",drivenBy:"Driven by"},business:{executiveOverview:"Executive Overview",realTimePerf:"Real-time consolidated performance.",totalRevenue:"Total Revenue",netProfit:"Net Profit",avgMargin:"Avg Margin",headcount:"Total Headcount",venturesPerf:"Ventures Performance",corpStructure:"Corporate Structure",addEntity:"Add Entity",registerEntity:"Register New Entity",editEntity:"Edit Entity",revenue:"Revenue",profit:"Profit",expenses:"Expenses",margin:"Margin",entityLedger:"Entity Ledger",configureKpi:"Configure KPI Dashboard",entityName:"Entity Name",entityType:"Entity Type",parentEntity:"Parent Entity",details:"Details",performance:"Performance",entityNameColumn:"Entity Name",selectKpiDesc:"Select the key performance indicators relevant to this specific business model.",operationalMetricsEditable:"Operational Metrics (Editable)",types:{holding:"Holding Company",subsidiary:"Subsidiary",store:"Physical Store",channel:"Digital Channel",service:"Service Provider",real_estate:"Real Estate"}},investments:{portfolioValue:"Total Portfolio Value",allTimeReturn:"All Time Return",passive:"Pasivo",active:"Activo",allocation:"Asignacin",addInvestment:"Aadir Inversin",editInvestment:"Editar Inversin",holdings:"Holdings",costBasis:"Cost Basis",marketPrice:"Market Price",units:"units",updateAsset:"Update Asset",addToPortfolio:"Add to Portfolio",assetName:"Asset Name",ticker:"Ticker / ID",quantity:"Quantity",currentValue:"Current Value",strategies:{passive:"Passive (Long Term)",active:"Active (Trading)",income:"Income Generating",speculative:"Speculative"},types:{stock:"Stock / Equity",etf:"ETF / Index Fund",crypto:"Cryptocurrency",real_estate:"Real Estate",commodity:"Commodity",bond:"Bond / Fixed Income",private_equity:"Private Equity",cash:"Cash / MM"}},reports:{generate:"Generate Report",monthly:"Monthly Statement",quarterly:"Quarterly Review",annual:"Annual Report",downloadPdf:"Download PDF",closePreview:"Close Preview",personalSummary:"Personal Summary",businessPerformance:"Business Performance",portfolioHealth:"Portfolio Health",selectPeriod:"Select Reporting Period",generatedOn:"Generated on",noData:"No data available for this report period.",metric:"Metric",currentPeriod:"Current Period",previousPeriod:"Previous Period",delta:"Delta",personalWealth:"Personal Wealth",totalIncome:"Total Income",livingExpenses:"Living Expenses",netSavings:"Net Savings",businessVentures:"Business Ventures",grossRevenue:"Gross Revenue",operationalExp:"Operational Exp",netProfit:"Net Profit",entityLedger:"Entity Ledger",entity:"Entity",revenue:"Revenue",expenses:"Expenses",marginPct:"Margin %",generatedBy:"Generated by AurumWolf Finance",confidential:"Confidential & Proprietary",reference:"Reference"},scan:{dragDrop:"Drag & Drop Receipt",tapDrop:"Tap to Browse or Drop Receipt",openCamera:"Open Camera",uploadFile:"Upload File",orClick:"or click to browse",supports:"Supports PNG, JPG, PDF",scanning:"Scanning Receipt...",analyzing:"Analyzing details with OCR...",scanComplete:"Scan Complete!",readyToImport:"Ready to import details.",review:"Review Transaction",merchant:"Merchant"},settings:{appPreferences:"App Preferences",darkMode:"Dark Mode",adjustAppearance:"Adjust appearance",language:"Language",interfaceLanguage:"Interface language",baseCurrency:"Global Base Currency",baseCurrencyDesc:"For dashboard and net worth",notifications:"Notifications",notificationsDesc:"Alerts & Tips",security:"Security",biometric:"Biometric Authentication",biometricDesc:"FaceID / TouchID",changePin:"Change PIN",changePinDesc:"Changed 30 days ago",dataSovereignty:"Data Sovereignty",backup:"System Backup (JSON)",backupDesc:"Download all data",restore:"Restore Backup",restoreDesc:"Overwrite current data",exportCsv:"Export Report (CSV)",exportCsvDesc:"Excel compatible",factoryReset:"Factory Reset",factoryResetDesc:"Clear all local storage",signOut:"Sign Out",editProfile:"Edit Profile",premiumMember:"Premium Member",earlyAccess:"Early Access",alertInvalidBackup:"Invalid backup file: Data structure does not match expected format.",alertRestoreWarning:"Warning: Restoring will overwrite all current data. This action cannot be undone. Continue?",alertRestoreSuccess:"Restore successful. Reloading...",alertParseError:"Error parsing backup file. Please ensure it is a valid JSON.",alertReconcileWarning:"This will recalculate all account balances based on their initial snapshot and transaction history. This action cannot be undone. Proceed?",alertReconcileSuccess:"Balances reconciled successfully.",termReconcile:"Reconcile Balances",termReconcileDesc:"Recompute from transactions & initial snapshot"},transactionForm:{titleNew:"New Transaction",titleEdit:"Edit Transaction",scanReceipt:"Scan Receipt",scanning:"Scanning...",expense:"Expense",income:"Income",amount:"Amount",rate:"Rate",settlement:"Settlement",chargeAccount:"Charge Account",merchantSource:"Merchant / Source",merchantPlaceholder:"e.g. Starbucks, Uber, Salary",findLocation:"Find Location & Enrich",locationFound:"Location Found",date:"Date",description:"Description (Optional)",descriptionPlaceholder:"Add notes...",splitTransaction:"Split This Transaction",splitTitle:"Split Transaction",reset:"Reset",addSplit:"Add Split",remaining:"Remaining",over:"Over",matched:"Matched",recurringPayment:"Recurring Payment",frequency:"Frequency",endDate:"End Date",businessExpense:"Business Expense",assignEntity:"Assign Entity",selectBusiness:"Select Business Unit...",delete:"Delete",cancel:"Cancel",update:"Update Transaction",add:"Add Transaction",selectCategory:"Category...",suggested:"Suggested"}},es:{common:{add:"Aadir",edit:"Editar",delete:"Eliminar",cancel:"Cancelar",save:"Guardar",search:"Buscar...",loading:"Cargando...",reset:"Reiniciar",apply:"Aplicar",date:"Fecha",amount:"Monto",category:"Categora",transfer:"Transferir",scan:"Escanear",actions:"Acciones",confirmDelete:"Ests seguro de que deseas eliminar este elemento?",all:"Todos",back:"Volver",view:"Ver",submit:"Enviar",processing:"Procesando...",available:"Disponible",account:"Cuenta",last30Days:"ltimos 30 Das",from:"Desde",to:"Para",success:"xito",error:"Error",email:"Correo Electrnico",password:"Contrasea",fullName:"Nombre Completo",frequencies:{daily:"Diario",weekly:"Semanal",monthly:"Mensual",yearly:"Anual"}},auth:{signIn:"Iniciar Sesin",signUp:"Registrarse",haveAccount:"Ya tienes una cuenta?",noAccount:"No tienes una cuenta?",signInTitle:"Bienvenido de nuevo",signUpTitle:"Crea tu cuenta",signInDesc:"Ingresa tus credenciales para acceder a tu tablero.",signUpDesc:"nete a la plataforma exclusiva de gestin patrimonial.",passPlaceholder:"",biometricSignIn:"Iniciar con Biometra"},nav:{dashboard:"Tablero",accounts:"Cuentas",history:"Historial",budget:"Presupuesto",business:"Negocios",investments:"Inversiones",reports:"Reportes",settings:"Ajustes",newTransaction:"Nueva Transaccin",scanr:"Escanear Recibo",subtitle:"Riqueza Definida"},concierge:{foundTransactions:"Encontradas {count} transacciones que coinciden con tu criterio.",searching:"Buscando transacciones...",noResults:"No se encontraron transacciones que coincidan con tu criterio.",welcomeAttributes:"Bienvenido a AurumWolf Concierge. Envame un mensaje de texto o toca los auriculares para una llamada de voz.",contextBusiness:"Veo que ests en el Centro de Negocios. Te gustara un anlisis de PyG o una revisin del rendimiento de la entidad?",contextBudget:"Revisando tu plan financiero. Tienes algunas categoras de presupuesto cerca de su lmite.",contextAssets:"Modo de asignacin de activos activo. Puedo ayudar con estrategias de rebalanceo.",contextPortfolio:"Modo de portafolio activo. Puedo analizar tus posiciones de estrategia activa vs. pasiva.",contextScan:"Escner de recibos activo. Extraer automticamente los datos de cualquier imagen que subas.",contextGeneral:"Tengo tu contexto financiero completo. Cmo puedo ayudarte hoy?",micErrorDenied:"Acceso al micrfono denegado. Por favor, permite el acceso al micrfono en la configuracin de tu navegador para usar el Modo de Voz.",micErrorNotFound:"No se encontr micrfono. Por favor, verifica tu dispositivo de entrada de audio.",micErrorUnknown:"Error de Voz",addedVia:"Aadido va Concierge",transactionRecorded:"Transaccin registrada: {name} por {amount}.",budgetCreated:"Presupuesto creado: {category} con lmite {limit}.",processed:"Proces esa solicitud.",connectionError:"Error de conexin.",online:"En lnea",connecting:"Conectando...",listening:"Escuchando...",speaking:"Hablando...",voicePrompt:"Pdeme aadir transacciones, analizar gastos o revisar tu presupuesto.",endCall:"Finalizar Llamada",startCall:"Iniciar Llamada de Voz",typeMessage:"Escribe un mensaje..."},titles:{dashboard:"Tablero Principal",transactionHistory:"Historial de Transacciones",receiptScanner:"Escner de Recibos",businessHub:"Centro de Negocios",preferences:"Preferencias",accountsAssets:"Cuentas y Activos",financialPlan:"Plan Financiero",investmentPortfolio:"Portafolio de Inversin",reports:"Reportes Financieros",welcome:"Bienvenido de nuevo"},dashboard:{netWorth:"Patrimonio Neto",welcomeBack:"Bienvenido de nuevo",flow:"Flujo de caja",vsLastMonth:"vs mes anterior",assets:"Activos",businessPulse:"Pulso de Negocios",spendingFlow:"Flujo de Gastos",allocation:"Asignacin",wealthAi:"IA Financiera",analyze:"Analizar Portafolio",recentActivity:"Actividad Reciente",analyzing:"Analizando Activos...",noTransactions:"Sin transacciones recientes",aiInsight:"Insight de IA",aurumScore:"Puntuacin Aurum",finHealthIndex:"ndice de Salud Financiera",healthExcellent:"Excelente. Tu portafolio est bien diversificado y lquido.",healthGood:"Bueno. Considera reducir deudas para mejorar tu puntuacin.",healthPoor:"Atencin requerida. Revisa pasivos de alto inters.",thisMonth:"Este Mes",safeToSpend:"Disponible para Gastar",consumed:"Consumido",overBudget:"Excedido",onTrack:"En camino",quickActions:"Acciones Rpidas",savingsRadar:"Radar de Ahorro Activo",upcoming:"Prximos",viewAll:"Ver Todo",autoPay:"Pago Automtico",payNow:"Pagar Ahora",noBills:"Sin facturas prximas.",more:"ms",less:"menos",currency:"Conversor Divisas",scoreDetail:{title:"Desglose Aurum Score",description:"Una medida integral de tu higiene financiera.",liquidity:"Ratio de Liquidez",liquidityDesc:"Efectivo / Gastos Mensuales",savings:"Tasa de Ahorro",savingsDesc:"Flujo Neto / Ingresos",debt:"Deuda-Activo",debtDesc:"Deuda Total / Activos Totales",diversity:"Diversificacin",diversityDesc:"Variedad de Activos",pending:"Datos Pendientes",pendingDesc:"Aade ingresos y activos para generar tu score.",excellent:"Estatus Financiero de lite",good:"Fundacin Slida",fair:"Necesita Optimizacin",poor:"Atencin Crtica Necesaria"}},transactions:{income:"Ingresos",expense:"Gastos",recurring:"Suscripciones",filters:"Filtros",clearFilters:"Limpiar Filtros",found:"Transacciones Encontradas",export:"Exportar Visible",stopSubscription:"Cancelar Suscripcin",nextDue:"Prximo Vencimiento",dailySummary:"Resumen Diario",type:"Tipo",status:"Estado",description:"Descripcin",frequency:"Frecuencia",isRecurring:"Transaccin Recurrente"},accounts:{globalNetLiquid:"Liquidez Global Neta",addAsset:"Aadir Activo",transferFunds:"Transferir Fondos",freeze:"Congelar",unfreeze:"Descongelar",ledger:"Libro Mayor",balanceHistory:"Historial de Balance",quickActions:"Acciones Rpidas",available:"Disponible",limit:"Lmite",utilization:"Uso",frozenAlert:"Esta cuenta est congelada. Desconglala para transferir fondos.",newAccount:"Nueva Cuenta",editAccount:"Editar Cuenta",accountName:"Nombre de Cuenta",accountType:"Tipo de Cuenta",institution:"Institucin",initialBalance:"Balance Inicial",currency:"Moneda",color:"Color",from:"Desde",to:"Para",transferAmount:"Monto de Transferencia",types:{checking:"Cuenta Corriente",savings:"Ahorros",credit:"Tarjeta de Crdito",investment:"Inversin",loan:"Prstamo",cash:"Efectivo",crypto:"Crypto Wallet",other:"Otro"},balanceAdjustment:"Ajuste de Balance",startingBalance:"Balance Inicial"},budget:{netCashFlow:"Flujo de Caja Neto",savingsRate:"Tasa de Ahorro",incomeMtd:"Ingresos Mes",expensesMtd:"Gastos Mes",allocations:"Asignaciones",editStructure:"Editar Estructura",doneEditing:"Edicin Terminada",wealthGoals:"Metas de Riqueza",addGoal:"Aadir Meta",editGoal:"Editar Meta",newGoal:"Nueva Meta",expenseLimits:"Lmites de Gastos",addCategory:"Aadir Categora",newCategory:"Nueva Categora",incomeTargets:"Objetivos de Ingresos",addFunds:"Agregar Fondos",confirmDeposit:"Confirmar Depsito",progress:"Progreso",remaining:"Restante",targetAchieved:"Objetivo Logrado",exceeded:"Excedido por",safe:"Seguro por",alert:"Alerta de Presupuesto",alertMessage:"Lmite excedido por",goalName:"Nombre de Meta",targetAmount:"Monto Objetivo",savedAmount:"Monto Ahorrado",deadline:"Fecha Lmite",noDeadline:"Sin Fecha Lmite",due:"Vence",categoryName:"Nombre Categora",limitAmount:"Monto Lmite",contribution:"Monto a Contribuir",status:"Estado",withinBudget:"Dentro del Presupuesto",overBudget:"Sobrepasado",underBudget:"Por debajo",targetMet:"Meta Alcanzada",notMet:"Meta No Alcanzada",used:"usado",received:"recibido",percentage:"Porcentaje",dailySafeSpend:"Gasto Diario Sugerido",recentTransactions:"Transacciones Recientes",onTrack:"Vas por buen camino!",attention:"Atencin requerida",adviceSafe:"Para mantenerte seguro, intenta gastar como mximo:",adviceOver:"Has excedido el lmite. Revisa tus gastos recientes para ajustar.",incomeHigher:"mayor a lo esperado",incomeLower:"menor a lo esperado",majorContributor:"Transaccin Mayor",drivenBy:"Impulsado por"},business:{executiveOverview:"Resumen Ejecutivo",structure:"Estructura Corporativa",entity:"Entidad Comercial",taxId:"ID Fiscal",kpi:"Panel de KPI",realTimePerf:"Rendimiento consolidado en tiempo real.",totalRevenue:"Ingresos Totales",netProfit:"Beneficio Neto",avgMargin:"Margen Prom.",headcount:"Personal Total",venturesPerf:"Rendimiento de Empresas",corpStructure:"Estructura Corporativa",addEntity:"Aadir Entidad",registerEntity:"Registrar Nueva Entidad",editEntity:"Editar Entidad",revenue:"Ingresos",profit:"Ganancia",expenses:"Gastos",margin:"Margen",entityLedger:"Libro Mayor de Entidad",configureKpi:"Configurar Tablero KPI",entityName:"Nombre de Entidad",entityType:"Tipo de Entidad",parentEntity:"Entidad Madre",details:"Detalles",performance:"Rendimiento",entityNameColumn:"Nombre de Entidad",selectKpiDesc:"Seleccione los indicadores clave de rendimiento relevantes para este modelo de negocio.",operationalMetricsEditable:"Mtricas Operativas (Editables)",types:{holding:"Holding",subsidiary:"Subsidiaria",store:"Tienda Fsica",channel:"Canal Digital",service:"Proveedor de Servicios",real_estate:"Bienes Races"}},investments:{portfolioValue:"Valor Total del Portafolio",allTimeReturn:"Retorno Total",passive:"Pasivo",active:"Activo",allocation:"Asignacin",addInvestment:"Aadir Inversin",editInvestment:"Editar Inversin",holdings:"Tenencias",costBasis:"Base de Costo",marketPrice:"Precio de Mercado",units:"unidades",updateAsset:"Actualizar Activo",addToPortfolio:"Aadir al Portafolio",assetName:"Nombre del Activo",ticker:"Ticker / ID",quantity:"Cantidad",currentValue:"Valor Actual",value:"Valor",priceHistory:"Historial de Precios",deleteConfirm:"Ests seguro de que quieres eliminar este activo?",high:"Alto",low:"Bajo",assetNamePlaceholder:"Nombre del Activo (ej. Apple Inc)",tickerPlaceholder:"Ticker (ej. AAPL)",avgBuyPrice:"Precio Compra Prom.",currentPrice:"Precio Actual",currency:"Moneda",strategies:{passive:"Pasiva (Largo Plazo)",active:"Activa (Trading)",income:"Generacin de Rentas",speculative:"Especulativa"},types:{stock:"Accin / Equity",etf:"ETF / Fondo Indexado",crypto:"Criptomoneda",real_estate:"Bienes Races",commodity:"Commodity",bond:"Bono / Renta Fija",private_equity:"Private Equity",cash:"Efectivo / MM"}},reports:{generate:"Generar Reporte",monthly:"Estado Mensual",quarterly:"Revisin Trimestral",annual:"Informe Anual",downloadPdf:"Descargar PDF",closePreview:"Cerrar Vista Previa",personalSummary:"Resumen Personal",businessPerformance:"Rendimiento Comercial",portfolioHealth:"Salud del Portafolio",selectPeriod:"Seleccionar Periodo",generatedOn:"Generado el",noData:"No hay datos disponibles para este periodo."},scan:{dragDrop:"Arrastra y suelta tu recibo",orClick:"o haz clic para buscar",supports:"Soporta PNG, JPG, PDF",scanning:"Escaneando Recibo...",analyzing:"Analizando detalles con OCR...",scanComplete:"Escaneo Completo!",readyToImport:"Listo para importar detalles.",review:"Revisar Transaccin",merchant:"Comercio / Vendedor"},settings:{appPreferences:"Preferencias de la App",darkMode:"Modo Oscuro",adjustAppearance:"Ajustar apariencia",language:"Idioma / Language",interfaceLanguage:"Idioma de la interfaz",baseCurrency:"Moneda Base Global",baseCurrencyDesc:"Para el tablero y valor neto",notifications:"Notificaciones",notificationsDesc:"Alertas y Consejos",security:"Seguridad",biometric:"Autenticacin Biomtrica",biometricDesc:"FaceID / TouchID",changePin:"Cambiar PIN",changePinDesc:"Cambiado hace 30 das",dataSovereignty:"Soberana de Datos",backup:"Respaldo del Sistema (JSON)",backupDesc:"Descargar todos los datos",restore:"Restaurar Copia",restoreDesc:"Sobrescribir datos actuales",exportCsv:"Exportar Reporte (CSV)",exportCsvDesc:"Compatible con Excel",factoryReset:"Restablecimiento de Fbrica",factoryResetDesc:"Borrar todo el almacenamiento local",signOut:"Cerrar Sesin",editProfile:"Editar Perfil",premiumMember:"Miembro Premium",earlyAccess:"Acceso Anticipado",alertInvalidBackup:"Archivo de respaldo invlido: La estructura de datos no coincide con el formato esperado.",alertRestoreWarning:"Advertencia: La restauracin sobrescribir todos los datos actuales. Esta accin no se puede deshacer. Continuar?",alertRestoreSuccess:"Restauracin exitosa. Recargando...",alertParseError:"Error al analizar el archivo de respaldo. Asegrese de que sea un JSON vlido.",alertReconcileWarning:"Esto recalcular todos los saldos de cuenta basndose en su instantnea inicial y el historial de transacciones. Esta accin no se puede deshacer. Proceder?",alertReconcileSuccess:"Saldos conciliados exitosamente.",termReconcile:"Conciliar Saldos",termReconcileDesc:"Recalcular desde transacciones e instantnea inicial"},transactionForm:{titleNew:"Nueva Transaccin",titleEdit:"Editar Transaccin",scanReceipt:"Escanear Recibo",scanning:"Escaneando...",expense:"Gasto",income:"Ingreso",amount:"Monto",rate:"Tasa",settlement:"Liquidacin",chargeAccount:"Cuenta de Cargo",merchantSource:"Comercio / Fuente",merchantPlaceholder:"ej. Starbucks, Uber, Salario",findLocation:"Buscar Ubicacin y Enriquecer",locationFound:"Ubicacin Encontrada",date:"Fecha",description:"Descripcin (Opcional)",descriptionPlaceholder:"Aadir notas...",splitTransaction:"Dividir esta Transaccin",splitTitle:"Transaccin Dividida",reset:"Reiniciar",addSplit:"Aadir Divisin",remaining:"Restante",over:"Excedido",matched:"Coincide",recurringPayment:"Pago Recurrente",frequency:"Frecuencia",endDate:"Fecha Final",businessExpense:"Gasto de Negocio",assignEntity:"Asignar Entidad",selectBusiness:"Seleccionar Unidad de Negocio...",delete:"Eliminar",cancel:"Cancelar",update:"Actualizar Transaccin",add:"Aadir Transaccin",selectCategory:"Categora...",suggested:"Sugerido"}}},xn=[{code:"USD",symbol:"$",name:"US Dollar",locale:"en-US"},{code:"EUR",symbol:"",name:"Euro",locale:"de-DE"},{code:"GBP",symbol:"",name:"British Pound",locale:"en-GB"},{code:"JPY",symbol:"",name:"Japanese Yen",locale:"ja-JP"},{code:"MXN",symbol:"$",name:"Mexican Peso",locale:"es-MX"},{code:"BTC",symbol:"",name:"Bitcoin",locale:"en-US"}],a5={USD:1,EUR:.92,GBP:.79,JPY:149.5,MXN:17.5,BTC:15e-6},s5={"Housing & Utilities":["Rent / Mortgage","Utilities"],"Food & Dining":["Groceries","Dining Out","Restaurants","Coffee"],Shopping:["Shopping","Clothing","Electronics","Apple Store"],Travel:["Travel","Transport","Fuel","Uber Premium","Airlines"],Entertainment:["Entertainment","Movies","Events"],Subscriptions:["Netflix","Spotify","Hulu","Adobe","Service Subscription","Apple Services"],"Salary / Wages":["Salary","Wages","Paycheck"],"Freelance / Contract":["Freelance","Contract","Consulting Fee"]},i5=[{id:"prelude_holdings",name:"Prelude Holdings LLC",type:"subsidiary"},{id:"hq_nyc",name:"Prelude Retail North America",type:"store",parent_id:"prelude_holdings",customMetricsConfig:["footfall","conversion"]},{id:"hq_emea",name:"Prelude EMEA Operations",type:"subsidiary",parent_id:"prelude_holdings"},{id:"store_nyc",name:"Manhattan Flagship",type:"store",parent_id:"hq_nyc",customMetricsConfig:["footfall","conversion","avg_basket"]},{id:"store_ldn",name:"London Oxford St",type:"store",parent_id:"hq_emea"},{id:"store_dxb",name:"Dubai Mall Boutique",type:"store",parent_id:"hq_emea"},{id:"pop_tokyo",name:"Tokyo Shibuya Pop-up",type:"store",parent_id:"prelude_holdings"},{id:"online_global",name:"Global E-Commerce",type:"channel",parent_id:"prelude_holdings",customMetricsConfig:["cac","churn","sessions"]},{id:"wholesale",name:"Wholesale / B2B",type:"channel",parent_id:"hq_nyc"},{id:"app_ios",name:"iOS App Store",type:"channel",parent_id:"online_global"}];function l5(e){return Math.round((e+Number.EPSILON)*100)/100}function Qe(e,n,a,i=a5){if(n===a)return e;const o=i[n]||1,u=i[a]||1;return e/o*u}function be(e,n="USD",a={}){if(a.privacy)return"";if(n==="BTC")return`${e.toFixed(4)}`;const i=xn.find(u=>u.code===n)||xn[0],o=a.locale||i.locale;return new Intl.NumberFormat(o,{style:"currency",currency:n,minimumFractionDigits:a.compact?0:2,maximumFractionDigits:a.compact?0:2,notation:a.compact&&Math.abs(e)>1e6?"compact":"standard",compactDisplay:"short"}).format(e)}const Fy=e=>{const n=s5[e];return n?[...n,e]:[e]};function Yy(e,n){const a=e.initialBalance||0,o=n.filter(u=>u.accountId===e.id).reduce((u,d)=>d.type==="credit"?u+d.numericAmount:d.type==="debit"?u-d.numericAmount:u,0);return l5(a+o)}const lb="fx_rates_cache",o5=3600*1e3;async function c5(e="USD"){try{const n=localStorage.getItem(`${lb}_${e}`);if(n){const{data:a,timestamp:i}=JSON.parse(n);if(Date.now()-i<o5)return a}}catch{}try{const n=await fetch(`https://open.er-api.com/v6/latest/${e}`);if(!n.ok)throw new Error(`API Error: ${n.statusText}`);const a=await n.json();try{localStorage.setItem(`${lb}_${e}`,JSON.stringify({data:a,timestamp:Date.now()}))}catch(i){console.warn("Failed to cache FX rates",i)}return a}catch(n){return console.error("Failed to fetch exchange rates:",n),null}}async function $h(e,n,a){if(n===a)return{convertedAmount:e,rate:1};const i=await c5(n);if(i&&i.rates&&i.rates[a]){const o=i.rates[a];return{convertedAmount:e*o,rate:o}}return null}function u5(e){const n=atob(e),a=n.length,i=new Uint8Array(a);for(let o=0;o<a;o++)i[o]=n.charCodeAt(o);return i}async function d5(e,n,a,i){const o=new Int16Array(e.buffer),u=o.length/i,d=n.createBuffer(i,u,a);for(let f=0;f<i;f++){const p=d.getChannelData(f);for(let g=0;g<u;g++)p[g]=o[g*i+f]/32768}return d}const h5=({transactions:e,accounts:n,budgets:a,investments:i=[],activeTab:o,onAddTransactionData:u,onAddBudget:d,t:f,language:p,privacyMode:g})=>{const[x,b]=T.useState(!1),[y,_]=T.useState(!1),[w,N]=T.useState(""),[j,A]=T.useState(!1),[S,O]=T.useState(!1),[I,D]=T.useState("idle"),z=T.useRef(!1),C=p==="es"?"es-MX":"en-US",[$,H]=T.useState([{id:"init",role:"model",text:f("concierge.welcomeAttributes"),timestamp:new Date}]),Z=T.useRef(null),ae=T.useRef(null);T.useRef(null),T.useRef(null),T.useRef(null);const pe=T.useRef(null),ce=T.useRef(null);T.useRef(0),T.useRef(new Set),T.useEffect(()=>{if(x&&!S){let X="";switch(o){case"business":X=f("concierge.contextBusiness");break;case"budget":X=f("concierge.contextBudget");break;case"accounts":X=f("concierge.contextAssets");break;case"investments":X=f("concierge.contextPortfolio");break;case"scan":X=f("concierge.contextScan");break;default:X=f("concierge.contextGeneral")}H(L=>{const Q=L[L.length-1];return Q.text!==X&&Q.role==="model"?L:Q.text!==X?[...L,{id:Date.now().toString(),role:"model",text:X,timestamp:new Date}]:L})}},[o,x]),T.useEffect(()=>{x&&Z.current&&Z.current.scrollIntoView({behavior:"smooth"})},[$,x]);const ue={name:"addTransaction",description:"Add a new financial transaction to the ledger.",parameters:{type:it.OBJECT,properties:{merchant:{type:it.STRING,description:"Name of the merchant or payee"},amount:{type:it.NUMBER,description:"Transaction amount"},category:{type:it.STRING,description:"Category of expense/income"},type:{type:it.STRING,enum:["credit","debit"],description:"Credit (Income) or Debit (Expense)"},date:{type:it.STRING,description:"Date in YYYY-MM-DD format (use today if unspecified)"}},required:["merchant","amount","type"]}},me={name:"searchTransactions",description:"Search for transactions based on a query or date range.",parameters:{type:it.OBJECT,properties:{query:{type:it.STRING,description:"Search term (merchant name, category, etc.)"},startDate:{type:it.STRING,description:"Start date (YYYY-MM-DD)"},endDate:{type:it.STRING,description:"End date (YYYY-MM-DD)"}}}},U={name:"createBudget",description:"Create a new monthly budget category.",parameters:{type:it.OBJECT,properties:{category:{type:it.STRING,description:"Name of the budget category (e.g., Dining, Groceries)"},limit:{type:it.NUMBER,description:"Monthly limit amount"}},required:["category","limit"]}},B={name:"convert_currency",description:"Convert a currency amount to another currency using real-time rates.",parameters:{type:it.OBJECT,properties:{amount:{type:it.NUMBER,description:"Amount to convert"},from:{type:it.STRING,description:"Source currency code (e.g. USD, EUR, MXN)"},to:{type:it.STRING,description:"Target currency code (e.g. EUR, GBP, JPY)"}},required:["amount","from","to"]}},ne=()=>{const X=n.map(he=>`${he.name} (${he.type}): ${be(he.balance,he.currency,{locale:C})}`).join(", "),L=a.map(he=>`${he.category}: ${be(he.spent,he.currency,{locale:C})} / ${be(he.limit,he.currency,{locale:C})}`).join(", "),Q=i.length>0?i.map(he=>`${he.name} (${he.type}): ${be(he.currentValue,he.currency,{locale:C})} (${he.roiPercent.toFixed(1)}% ROI)`).join(", "):"No investments tracked.",fe=e.slice(0,10).map(he=>`${he.date}: ${he.name} (${he.category}) - ${he.type==="credit"?"+":"-"}${be(he.numericAmount,he.currency||"USD",{locale:C})}`).join(`
`);return`
      Current View: ${o}
      User Financial Context:
      - Net Worth Accounts: ${X}
      - Investment Portfolio: ${Q}
      - Monthly Budgets Status: ${L}
      - Recent Transactions (Last 10):
      ${fe}
    `},de=T.useRef(null),oe=T.useRef([]),E=()=>{de.current&&de.current.state==="recording"&&de.current.stop(),P.current&&(P.current.stop(),P.current=null),ce.current&&(ce.current.getTracks().forEach(X=>X.stop()),ce.current=null),ce.current&&(ce.current.getTracks().forEach(X=>X.stop()),ce.current=null),O(!1),z.current=!1,D("idle")},P=T.useRef(null),Y=async()=>{O(!0),z.current=!0,D("listening"),oe.current=[];try{(()=>{pe.current&&pe.current.state==="suspended"&&pe.current.resume()})();const L=await navigator.mediaDevices.getUserMedia({audio:!0});ce.current=L;const Q=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",fe=new MediaRecorder(L,{mimeType:Q});de.current=fe,fe.ondataavailable=he=>{he.data.size>0&&oe.current.push(he.data)},fe.onstop=async()=>{D("connecting");const he=new Blob(oe.current,{type:Q}),ye=new FileReader;ye.readAsDataURL(he),ye.onloadend=async()=>{var He;const _e=ye.result.split(",")[1],Re=ne();try{const{aiClient:et}=await Ka(async()=>{const{aiClient:rt}=await Promise.resolve().then(()=>Ja);return{aiClient:rt}},void 0,import.meta.url),Wt=await et.generateContent("gemini-2.0-flash",[{role:"user",parts:[{text:`Context: ${Re}. Respond briefly.`},{inlineData:{mimeType:"audio/webm",data:_e}}]}],{responseModalities:["AUDIO"],systemInstruction:`You are AurumWolf Voice. Concise financial assistant. Use tools if needed. ${g?"PRIVACY MODE ON. DO NOT SPEAK BALANCES.":""}`,tools:[{functionDeclarations:[ue,me,U,B]}]}),ct=Wt.audioData();if(ct){D("speaking");const rt=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});pe.current=rt;const tt=await d5(u5(ct),rt,24e3,1),nn=rt.createBufferSource();nn.buffer=tt,nn.connect(rt.destination),nn.start(),P.current=nn,nn.onended=()=>{z.current?setTimeout(()=>{z.current&&Y()},500):D("idle")}}const en=Wt.functionCalls();if(en.length>0)for(const rt of en){if(rt.name==="addTransaction"&&u){const tt=rt.args;u({id:crypto.randomUUID(),accountId:((He=n[0])==null?void 0:He.id)||"1",name:tt.merchant,amount:be(tt.amount,"USD",{locale:C}),numericAmount:tt.amount,currency:"USD",date:tt.date||cr(),category:tt.category||"Uncategorized",type:tt.type,status:"completed"})}if(rt.name==="convert_currency"){const tt=rt.args,nn=await $h(tt.amount,tt.from,tt.to);nn&&H(Qa=>[...Qa,{id:(Date.now()+1).toString(),role:"model",text:` ${be(tt.amount,tt.from,{locale:C})} = ${be(nn.convertedAmount,tt.to,{locale:C})}`,timestamp:new Date}])}}}catch(et){console.error("Voice Processing Error",et),D("idle")}}},fe.start()}catch(X){console.error("Mic Access Error",X),O(!1),z.current=!1,X.name==="NotAllowedError"||X.name==="PermissionDeniedError"?alert(f("concierge.micErrorDenied")):X.name==="NotFoundError"||X.name==="DevicesNotFoundError"?alert(f("concierge.micErrorNotFound")):alert(`${f("concierge.micErrorUnknown")}: ${X.message||"Unknown error"}`)}},G=async()=>{var L;if(!w.trim())return;const X={id:Date.now().toString(),role:"user",text:w,timestamp:new Date};H(Q=>[...Q,X]),N(""),A(!0);try{const{aiClient:Q}=await Ka(async()=>{const{aiClient:ge}=await Promise.resolve().then(()=>Ja);return{aiClient:ge}},void 0,import.meta.url),fe=ne(),he=await Q.generateContent("gemini-2.5-flash",[{role:"user",parts:[{text:`Context Data:
${fe}

User Query: ${X.text}`}]}],{systemInstruction:`You are the AurumWolf Concierge. Use tools to add transactions if asked. Answer financial questions briefly. ${g?"PRIVACY MODE ON. DO NOT REVEAL SPECIFIC BALANCES OR SENSITIVE DATA UNLESS EXPLICITLY ASKED BY USER.":""}`,tools:[{functionDeclarations:[ue,me,U,B]}]}),ye=he.functionCalls();if(ye&&ye.length>0){const ge=ye[0];if(ge.name==="addTransaction"&&u){const _e=ge.args,Re={id:crypto.randomUUID(),accountId:((L=n[0])==null?void 0:L.id)||"1",name:_e.merchant,amount:be(_e.amount,"USD",{locale:C}),numericAmount:_e.amount,currency:"USD",date:_e.date||new Date().toISOString().split("T")[0],category:_e.category||"Uncategorized",type:_e.type,status:"completed",description:f("concierge.addedVia")};u(Re),H(He=>[...He,{id:(Date.now()+1).toString(),role:"model",text:f("concierge.transactionRecorded").replace("{name}",Re.name).replace("{amount}",be(Number(Re.amount),Re.currency||"USD",{locale:C})),timestamp:new Date}])}if(ge.name==="searchTransactions"){const _e=ge.args,Re=(_e.query||"").trim();let He=f("concierge.noResults");try{let et=Oe.from("transactions").select("*").order("date",{ascending:!1}).limit(10);Re&&(et=et.or(`name.ilike.%${Re}%,category.ilike.%${Re}%`)),_e.startDate&&(et=et.gte("date",_e.startDate)),_e.endDate&&(et=et.lte("date",_e.endDate));const{data:Wt,error:ct}=await et;ct?(console.error("Search error:",ct),He=f("common.error")):Wt&&Wt.length>0?He=`${f("concierge.foundTransactions").replace("{count}",Wt.length.toString())}
`+Wt.map(rt=>`- ${rt.date}: ${rt.name} (${be(rt.amount,rt.currency||"USD",{locale:C,compact:!0})})`).join(`
`):He=f("concierge.noResults")}catch(et){console.error("Search exception:",et),He=f("common.error")}H(et=>[...et,{id:(Date.now()+1).toString(),role:"model",text:He,timestamp:new Date}])}if(ge.name==="createBudget"&&d){const _e=ge.args;d({category:_e.category,limit:_e.limit,color:"bg-indigo-500",currency:"USD",icon_key:"Tag",type:"expense"}),H(Re=>[...Re,{id:(Date.now()+1).toString(),role:"model",text:f("concierge.budgetCreated").replace("{category}",_e.category).replace("{limit}",be(Number(_e.limit),"USD",{locale:C,compact:!0})),timestamp:new Date}])}if(ge.name==="convert_currency"){const _e=ge.args;try{const Re=await $h(_e.amount,_e.from,_e.to);H(Re?He=>[...He,{id:(Date.now()+1).toString(),role:"model",text:` ${be(_e.amount,_e.from,{locale:C})} = **${be(Re.convertedAmount,_e.to,{locale:C})}**
(Rate: ${Re.rate.toFixed(4)})`,timestamp:new Date}]:He=>[...He,{id:(Date.now()+1).toString(),role:"model",text:f("common.error"),timestamp:new Date}])}catch(Re){console.error("Conversion error",Re)}}}else H(ge=>[...ge,{id:(Date.now()+1).toString(),role:"model",text:he.text()||f("concierge.processed"),timestamp:new Date}])}catch(Q){console.error(Q),H(fe=>[...fe,{id:(Date.now()+1).toString(),role:"model",text:`${f("concierge.connectionError")} Details: ${Q instanceof Error?Q.message:String(Q)}`,timestamp:new Date}])}finally{A(!1)}},te=X=>{X.key==="Enter"&&G()};return x?s.jsxs("div",{className:`fixed z-50 transition-all duration-300 ease-in-out shadow-2xl overflow-hidden flex flex-col bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-gold-500/30
      ${y?"inset-0 md:inset-auto md:bottom-8 md:right-8 md:w-[600px] md:h-[80vh] md:rounded-3xl":"bottom-24 md:bottom-8 right-4 md:right-8 w-[90vw] md:w-[400px] h-[500px] rounded-3xl"}
    `,children:[s.jsxs("div",{className:"h-16 bg-white dark:bg-gradient-to-r dark:from-neutral-950 dark:to-neutral-900 border-b border-platinum-200 dark:border-neutral-800 flex items-center justify-between px-5 shrink-0 relative z-20",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gold-500/10 border border-gold-500/30 flex items-center justify-center text-gold-500",children:s.jsx(pi,{size:16})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-display font-bold text-neutral-900 dark:text-white tracking-wide",children:"Concierge"}),s.jsxs("p",{className:"text-[10px] text-green-600 dark:text-green-500 font-mono flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})," ",f("concierge.online")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-neutral-400 hover:text-neutral-900 dark:hover:text-white",children:[s.jsx("button",{onClick:()=>_(!y),className:"p-2 transition-colors hidden md:block",children:y?s.jsx(gj,{size:16}):s.jsx(Qb,{size:16})}),s.jsx("button",{onClick:()=>{b(!1),E()},className:"p-2 transition-colors",children:s.jsx(Hb,{size:20})})]})]}),S&&s.jsxs("div",{className:"absolute inset-0 top-16 z-10 bg-neutral-950/95 backdrop-blur-xl flex flex-col items-center justify-center animate-fade-in",children:[s.jsx("div",{className:"relative mb-8",children:s.jsx("div",{className:`w-32 h-32 rounded-full border-4 flex items-center justify-center transition-all duration-500 ${I==="speaking"?"border-gold-500 shadow-[0_0_50px_rgba(212,175,55,0.5)] scale-110":I==="listening"?"border-blue-500 shadow-[0_0_30px_rgba(59,130,246,0.3)] animate-pulse":"border-neutral-700"}`,children:I==="connecting"?s.jsx(Fn,{size:40,className:"animate-spin text-neutral-500"}):I==="speaking"?s.jsx(On,{size:48,className:"text-gold-500 animate-bounce"}):s.jsx(mj,{size:48,className:"text-blue-500"})})}),s.jsx("h3",{className:"text-xl font-display font-bold text-white mb-2",children:f(I==="connecting"?"concierge.connecting":I==="listening"?"concierge.listening":"concierge.speaking")}),s.jsx("p",{className:"text-sm text-neutral-500 max-w-xs text-center mb-12",children:f("concierge.voicePrompt")}),s.jsxs("button",{onClick:E,className:"px-8 py-3 rounded-full bg-red-500/10 border border-red-500/50 text-red-500 font-bold flex items-center gap-2 hover:bg-red-500 hover:text-white transition-all",children:[s.jsx(hj,{size:18})," ",f("concierge.endCall")]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 custom-scrollbar bg-platinum-50 dark:bg-neutral-900/95",children:[$.map(X=>s.jsxs("div",{className:`flex gap-3 ${X.role==="user"?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full shrink-0 flex items-center justify-center border ${X.role==="user"?"bg-platinum-200 dark:bg-neutral-800 border-platinum-300 dark:border-neutral-700 text-neutral-600 dark:text-neutral-400":"bg-gold-500 text-neutral-950 border-gold-400"}`,children:X.role==="user"?s.jsx(S2,{size:16}):s.jsx(yg,{size:18})}),s.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3.5 text-sm leading-relaxed ${X.role==="user"?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white border border-platinum-200 dark:border-neutral-700 text-right":"bg-white dark:bg-gradient-to-br dark:from-neutral-950 dark:to-neutral-900 text-neutral-700 dark:text-neutral-200 border border-platinum-200 dark:border-neutral-800 shadow-sm"}`,children:[X.text,s.jsx("p",{className:`text-[9px] mt-2 opacity-50 ${X.role==="user"?"text-right":"text-left"}`,children:X.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},X.id)),j&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gold-500 text-neutral-950 flex items-center justify-center shrink-0",children:s.jsx(yg,{size:18})}),s.jsxs("div",{className:"bg-white dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-4 flex items-center gap-2 shadow-sm",children:[s.jsx(Fn,{size:16,className:"text-gold-500 animate-spin"}),s.jsx("span",{className:"text-xs text-neutral-500",children:f("common.processing")})]})]}),s.jsx("div",{ref:Z})]}),s.jsx("div",{className:"p-4 bg-white dark:bg-neutral-950 border-t border-platinum-200 dark:border-neutral-800 shrink-0",children:s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("button",{onClick:Y,className:"p-3 rounded-xl bg-platinum-100 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-gold-600 dark:text-gold-500 hover:bg-gold-500/10 hover:border-gold-500/50 transition-all group",title:f("concierge.startCall"),children:s.jsx(IN,{size:20,className:"group-hover:scale-110 transition-transform"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{ref:ae,type:"text",value:w,onChange:X=>N(X.target.value),onKeyDown:te,placeholder:f("concierge.typeMessage"),className:"w-full bg-platinum-50 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl pl-4 pr-10 py-3.5 outline-none focus:border-gold-500/50 focus:bg-white dark:focus:bg-neutral-900/80 transition-all placeholder:text-neutral-500 dark:placeholder:text-neutral-600",autoFocus:!0})}),s.jsx("button",{onClick:G,disabled:!w.trim()||j,className:"p-3 rounded-xl bg-gold-500 text-neutral-950 hover:bg-gold-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s.jsx(wh,{size:20})})]})})]}):s.jsxs("button",{onClick:()=>b(!0),className:"fixed bottom-24 md:bottom-8 right-6 z-40 w-14 h-14 rounded-full bg-gradient-to-br from-gold-400 to-gold-600 shadow-[0_0_20px_rgba(212,175,55,0.4)] flex items-center justify-center text-neutral-950 transition-transform hover:scale-110 active:scale-95 group",children:[s.jsx("div",{className:"absolute inset-0 bg-white rounded-full opacity-0 group-hover:opacity-20 animate-pulse-slow"}),s.jsx(pi,{size:24,fill:"currentColor"})]})},f5=({isOpen:e,onClose:n,notifications:a,onAction:i,onClearAll:o})=>e?s.jsxs("div",{className:"fixed inset-0 z-[60] flex justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-neutral-950/60 backdrop-blur-sm animate-fade-in",onClick:n}),s.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-neutral-900 h-full shadow-2xl border-l border-platinum-200 dark:border-neutral-800 flex flex-col animate-fade-in",children:[s.jsxs("div",{className:"p-5 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-white/50 dark:bg-neutral-950/50 backdrop-blur-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(El,{size:20,className:"text-gold-500"}),a.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-neutral-900"})]}),s.jsx("h3",{className:"text-lg font-display font-bold text-neutral-900 dark:text-white tracking-wide",children:"Pulse"})]}),s.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-neutral-900 dark:text-neutral-500 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:a.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-50",children:[s.jsx("div",{className:"w-16 h-16 bg-platinum-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mb-4",children:s.jsx(El,{size:24,className:"text-neutral-400 dark:text-neutral-600"})}),s.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 font-bold",children:"All caught up"}),s.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-600 mt-1",children:"No new alerts at this time."})]}):a.map(u=>s.jsx("div",{className:`p-4 rounded-xl border relative overflow-hidden group transition-all hover:scale-[1.02] cursor-default ${u.type==="critical"?"bg-red-500/5 border-red-500/20":u.type==="warning"?"bg-orange-500/5 border-orange-500/20":u.type==="success"?"bg-green-500/5 border-green-500/20":"bg-platinum-50 dark:bg-neutral-800/50 border-platinum-200 dark:border-neutral-700/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-0.5 min-w-[20px] ${u.type==="critical"?"text-red-500":u.type==="warning"?"text-orange-500":u.type==="success"?"text-green-500":"text-blue-500"}`,children:u.type==="critical"?s.jsx(Ir,{size:16}):u.type==="warning"?s.jsx(X_,{size:16}):u.type==="success"?s.jsx(Zh,{size:16}):s.jsx(qN,{size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`text-xs font-bold mb-1 ${u.type==="critical"?"text-red-600 dark:text-red-400":u.type==="warning"?"text-orange-600 dark:text-orange-400":u.type==="success"?"text-green-600 dark:text-green-400":"text-neutral-900 dark:text-white"}`,children:u.title}),s.jsx("p",{className:"text-[11px] text-neutral-600 dark:text-neutral-400 leading-relaxed mb-2",children:u.message}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[9px] text-neutral-600",children:u.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.actionLabel&&u.actionTab&&s.jsxs("button",{onClick:()=>{i(u.actionTab,u.payload),n()},className:"flex items-center gap-1 text-[10px] font-bold text-gold-500 hover:text-white transition-colors",children:[u.actionLabel," ",s.jsx(Fa,{size:10})]})]})]})]})},u.id))}),a.length>0&&s.jsx("div",{className:"p-4 border-t border-platinum-200 dark:border-neutral-800 bg-white dark:bg-neutral-950",children:s.jsx("button",{onClick:o,className:"w-full py-3 rounded-xl border border-platinum-200 dark:border-neutral-800 text-neutral-500 text-xs font-bold hover:bg-platinum-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-white transition-all",children:"Clear All Notifications"})})]})]}):null,m5=({isOpen:e,onClose:n,onNavigate:a,onAction:i,accounts:o,transactions:u})=>{const[d,f]=T.useState(""),[p,g]=T.useState(0),x=T.useRef(null),b=T.useRef(null),y=T.useMemo(()=>{const w=[];return w.push({id:"nav-home",type:"nav",label:"Dashboard",icon:di,action:()=>a("home")},{id:"nav-tx",type:"nav",label:"Transactions",icon:Tl,action:()=>a("transactions")},{id:"nav-acc",type:"nav",label:"Accounts & Assets",icon:ur,action:()=>a("accounts")},{id:"nav-bud",type:"nav",label:"Budget & Goals",icon:tr,action:()=>a("budget")},{id:"nav-biz",type:"nav",label:"Business Hub",icon:Xt,action:()=>a("business")},{id:"nav-inv",type:"nav",label:"Investments",icon:Pt,action:()=>a("investments")},{id:"nav-set",type:"nav",label:"Settings",icon:_h,action:()=>a("settings")}),w.push({id:"act-new",type:"action",label:"New Transaction",subLabel:"Record expense or income",icon:Jt,action:()=>i("new_tx"),color:"text-gold-500"},{id:"act-scan",type:"action",label:"Scan Receipt",subLabel:"AI extraction",icon:hi,action:()=>i("scan"),color:"text-blue-400"},{id:"act-trans",type:"action",label:"Transfer Funds",subLabel:"Move money between accounts",icon:ha,action:()=>i("transfer"),color:"text-green-400"}),o.forEach(N=>{w.push({id:`acc-${N.id}`,type:"account",label:N.name,subLabel:`${N.institution}  ${N.currency} ${N.balance.toLocaleString()}`,icon:N.type==="crypto"?DN:Ml,action:()=>{a("accounts")}})}),u.slice(0,5).forEach(N=>{w.push({id:`tx-${N.id}`,type:"transaction",label:N.name,subLabel:`${N.date}  ${N.amount}`,icon:Tl,action:()=>{a("transactions")}})}),w},[o,u,a,i]),_=T.useMemo(()=>{if(!d)return y;const w=d.toLowerCase();return y.filter(N=>N.label.toLowerCase().includes(w)||N.subLabel&&N.subLabel.toLowerCase().includes(w))},[d,y]);return T.useEffect(()=>{e&&(g(0),setTimeout(()=>{var w;return(w=x.current)==null?void 0:w.focus()},10))},[e,d]),T.useEffect(()=>{const w=N=>{if(e)if(N.key==="ArrowDown")N.preventDefault(),g(j=>(j+1)%_.length);else if(N.key==="ArrowUp")N.preventDefault(),g(j=>(j-1+_.length)%_.length);else if(N.key==="Enter"){N.preventDefault();const j=_[p];j&&(j.action(),n())}else N.key==="Escape"&&n()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[e,_,p,n]),e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-neutral-950/60 backdrop-blur-sm animate-fade-in",onClick:n}),s.jsxs("div",{className:"relative w-full max-w-xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl shadow-2xl overflow-hidden animate-fade-in flex flex-col max-h-[60vh]",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-platinum-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[s.jsx(fi,{size:20,className:"text-neutral-400"}),s.jsx("input",{ref:x,type:"text",value:d,onChange:w=>f(w.target.value),placeholder:"Type a command or search...",className:"flex-1 bg-transparent text-lg text-neutral-900 dark:text-white placeholder-neutral-400 dark:placeholder-neutral-600 outline-none",autoComplete:"off"}),s.jsx("button",{onClick:n,className:"p-1 bg-platinum-100 dark:bg-neutral-800 rounded text-[10px] text-neutral-500 dark:text-neutral-400 font-bold border border-platinum-200 dark:border-neutral-700",children:"ESC"})]}),s.jsx("div",{ref:b,className:"overflow-y-auto p-2 custom-scrollbar",children:_.length===0?s.jsx("div",{className:"p-8 text-center text-neutral-500",children:s.jsx("p",{className:"text-sm",children:"No results found."})}):s.jsx(s.Fragment,{children:_.map((w,N)=>{const j=N===p;return s.jsxs("button",{onClick:()=>{w.action(),n()},onMouseEnter:()=>g(N),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left group ${j?"bg-gold-500 text-neutral-950 shadow-lg":"text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white"}`,children:[s.jsx("div",{className:`p-2 rounded-lg flex items-center justify-center transition-colors ${j?"bg-neutral-950/20 text-neutral-900":"bg-platinum-100 dark:bg-neutral-800 border border-platinum-200 dark:border-neutral-700 "+(w.color||"text-neutral-400")}`,children:s.jsx(w.icon,{size:18})}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm font-bold ${j?"text-neutral-950":"text-neutral-900 dark:text-white"}`,children:w.label}),w.type==="nav"&&j&&s.jsx("span",{className:"text-[10px] font-mono opacity-60",children:"Go to"}),w.type==="action"&&j&&s.jsx("span",{className:"text-[10px] font-mono opacity-60",children:"Run"})]}),w.subLabel&&s.jsx("p",{className:`text-xs truncate ${j?"text-neutral-800":"text-neutral-500 dark:text-neutral-600"}`,children:w.subLabel})]}),j&&s.jsx(Fa,{size:16,className:"opacity-60"})]},w.id)})})}),s.jsxs("div",{className:"p-2 border-t border-platinum-200 dark:border-neutral-800 bg-platinum-50 dark:bg-neutral-950/50 flex justify-between items-center text-[10px] text-neutral-500 px-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"bg-white dark:bg-neutral-800 border border-platinum-200 dark:border-transparent px-1 rounded shadow-sm",children:""})," ",s.jsx("span",{className:"bg-white dark:bg-neutral-800 border border-platinum-200 dark:border-transparent px-1 rounded shadow-sm",children:""})," to navigate"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"bg-white dark:bg-neutral-800 border border-platinum-200 dark:border-transparent px-1 rounded shadow-sm",children:""})," to select"]})]}),s.jsx("span",{className:"font-mono text-neutral-400",children:"OMNI-COMMAND"})]})]})]}):null},p5=({children:e,searchQuery:n="",onSearch:a,activeTab:i,onTabChange:o,onNewTransaction:u,privacyMode:d,onTogglePrivacy:f,transactions:p,accounts:g,budgets:x,investments:b=[],notifications:y=[],onClearNotifications:_,onAddTransactionData:w,onAddBudget:N,userName:j="Guest",userEmail:A,t:S,onSignOut:O,language:I,isLoading:D})=>{const[z,C]=T.useState(!1),[$,H]=T.useState(!1),[Z,ae]=T.useState(!1),[pe,ce]=T.useState(!1);T.useEffect(()=>{const U=B=>{(B.metaKey||B.ctrlKey)&&B.key==="k"&&(B.preventDefault(),ae(ne=>!ne))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[]);const ue=U=>{U==="new_tx"&&u(),U==="scan"&&o("scan"),U==="transfer"&&o("accounts")},me=U=>{switch(U){case"home":return S("titles.dashboard");case"transactions":return S("titles.transactionHistory");case"scan":return S("titles.receiptScanner");case"business":return S("titles.businessHub");case"settings":return S("titles.preferences");case"accounts":return S("titles.accountsAssets");case"budget":return S("titles.financialPlan");case"investments":return S("titles.investmentPortfolio");case"reports":return S("titles.reports");default:return""}};return s.jsxs("div",{className:"min-h-screen bg-platinum-100 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-200 font-sans selection:bg-gold-500/30 selection:text-gold-100 transition-colors duration-300 pb-safe relative isolate",children:[s.jsx("header",{className:"md:hidden fixed top-0 left-0 right-0 h-[safe-area-inset-top+64px] pb-2 pt-safe glass border-b border-white/10 z-[60] flex items-end px-5 transition-all duration-300 shadow-sm dark:shadow-none",children:z?s.jsxs("div",{className:"flex items-center w-full gap-3 animate-fade-in pb-2",role:"search",children:[s.jsx("button",{type:"button",onClick:()=>{C(!1),a==null||a("")},className:"p-2 -ml-2 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors","aria-label":"Close search",children:s.jsx(si,{size:24,"aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:U=>a==null?void 0:a(U.target.value),placeholder:"Search...",className:"w-full bg-platinum-100 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-200 text-sm rounded-2xl focus:ring-1 focus:ring-gold-500 focus:border-gold-500 block pl-4 pr-10 py-3 outline-none placeholder:text-neutral-500 dark:placeholder:text-neutral-600 transition-shadow shadow-inner","aria-label":"Search transactions"}),n&&s.jsx("button",{type:"button",onClick:()=>a==null?void 0:a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 p-1 hover:text-neutral-900 dark:hover:text-white","aria-label":"Clear search query",children:s.jsx(Dt,{size:16,"aria-hidden":"true"})})]})]}):s.jsxs("div",{className:"flex items-center justify-between w-full h-14 pb-1",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>ce(!0),className:"p-2 -ml-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors active:scale-95",children:s.jsx(uj,{size:26,strokeWidth:1.5})}),s.jsx("div",{onClick:()=>o("home"),className:"active:opacity-80 transition-opacity pt-1",children:s.jsx(vi,{iconSize:"w-8 h-8",textSize:"text-lg"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>ae(!0),className:"p-2 text-neutral-500 dark:text-neutral-400 hover:text-gold-500 transition-colors","aria-label":"Open command palette",children:s.jsx(fi,{size:22,strokeWidth:2,"aria-hidden":"true"})}),s.jsxs("button",{type:"button",onClick:()=>H(!0),className:"p-2 text-neutral-500 dark:text-neutral-400 hover:text-gold-500 transition-colors relative flex-shrink-0","aria-label":"Notifications",children:[s.jsx(El,{size:22,strokeWidth:2,"aria-hidden":"true"}),y.length>0&&s.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border border-white dark:border-neutral-950 animate-pulse"})]})]})]})}),s.jsx(M2,{activeTab:i,onTabChange:o,onNewTransaction:u,isMobileMenuOpen:pe,onCloseMobileMenu:()=>ce(!1),onSignOut:O,isLoading:D,t:S,userName:j,userEmail:A,privacyMode:d,onTogglePrivacy:f}),s.jsxs("main",{className:`
        relative 
        min-h-screen 
        md:ml-72 
        transition-all 
        duration-300 
        ease-in-out
      `,children:[s.jsxs("header",{className:`
          hidden md:flex 
          sticky top-0 z-30 
          items-center justify-between 
          h-20
          px-8
          glass
          border-b border-white/10
          transition-colors duration-300
        `,children:[s.jsx("div",{className:"flex items-center text-sm font-medium text-neutral-500",children:s.jsx("span",{className:"uppercase tracking-widest text-xs font-semibold text-neutral-500 transition-colors",children:new Date().toLocaleDateString(I==="es"?"es-MX":"en-US",{weekday:"long",month:"long",day:"numeric"})})}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-platinum-100 dark:bg-neutral-900 border border-transparent hover:border-gold-500/50 transition-all group",title:d?"Show Balances":"Hide Balances",children:[d?s.jsx(Kh,{size:16,className:"text-gold-500"}):s.jsx(Yb,{size:16,className:"text-neutral-400 group-hover:text-white"}),s.jsx("span",{className:"text-xs font-bold text-neutral-500 group-hover:text-white",children:d?"Hidden":"Visible"})]}),s.jsxs("div",{className:"relative group w-80 lg:w-96 cursor-text",onClick:()=>ae(!0),role:"button",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(fi,{size:16,className:"text-neutral-500 group-hover:text-gold-500 transition-colors","aria-hidden":"true"})}),s.jsx("div",{className:"w-full bg-platinum-100/50 dark:bg-neutral-900/50 border border-transparent dark:border-white/10 text-neutral-500 dark:text-neutral-400 text-sm rounded-xl py-2.5 pl-10 pr-12 transition-all shadow-sm group-hover:border-gold-500/30 group-hover:bg-white dark:group-hover:bg-neutral-800 flex items-center",children:s.jsx("span",{className:"opacity-70",children:S("common.search")})}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none",children:s.jsxs("kbd",{className:"hidden lg:flex items-center gap-1 px-2 py-1 text-[10px] font-bold text-neutral-500 bg-white dark:bg-neutral-800 rounded-md border border-platinum-200 dark:border-neutral-700",children:[s.jsx(nN,{size:10})," K"]})})]}),s.jsxs("button",{type:"button",onClick:()=>H(!0),className:"relative p-2 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors group","aria-label":"Notifications",children:[s.jsx("div",{className:"absolute inset-0 bg-platinum-100 dark:bg-neutral-800 rounded-full opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 transition-all duration-300"}),s.jsx(El,{size:20,className:"relative z-10","aria-hidden":"true"}),y.length>0&&s.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-neutral-950 z-20 animate-pulse"})]})]})]}),s.jsxs("div",{className:"pt-20 md:pt-8 pb-32 md:pb-12 px-4 md:px-8 max-w-7xl mx-auto animate-fade-in",children:[s.jsxs("div",{className:"hidden md:block mb-10",children:[s.jsx("h1",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-white tracking-tight drop-shadow-sm",children:me(i)}),s.jsxs("p",{className:"text-neutral-500 mt-2 text-sm",children:[S("titles.welcome"),", ",j]})]}),e]})]}),s.jsx(h5,{transactions:p,accounts:g,budgets:x,investments:b,activeTab:i,onAddTransactionData:w,onAddBudget:N,t:S,language:I,privacyMode:d}),s.jsx(f5,{isOpen:$,onClose:()=>H(!1),notifications:y,onAction:(U,B)=>{o(U,B),H(!1)},onClearAll:()=>_==null?void 0:_()}),s.jsx(m5,{isOpen:Z,onClose:()=>ae(!1),onNavigate:o,onAction:ue,accounts:g,transactions:p})]})},g5=({isOpen:e,onClose:n,baseCurrency:a,t:i,language:o})=>{const u=o==="es"?"es-MX":"en-US",[d,f]=T.useState("100"),[p,g]=T.useState(a),[x,b]=T.useState(a==="USD"?"EUR":"USD"),[y,_]=T.useState(null),[w,N]=T.useState(null),[j,A]=T.useState(!1),[S,O]=T.useState(null),[I,D]=T.useState(!1),[z,C]=T.useState(null),$=async()=>{if(!(!d||isNaN(Number(d)))){A(!0),O(null),C(null);try{const ae=await $h(Number(d),p,x);if(ae)_(ae.convertedAmount),N(ae.rate);else throw new Error("Invalid response")}catch(ae){console.error("Conversion failed",ae),C(i("common.error")||"Conversion failed. Please try again.")}finally{A(!1)}}},H=xn.map(ae=>ae.code),Z=async()=>{if(w){D(!0);try{const{aiClient:ae}=await Ka(async()=>{const{aiClient:ue}=await Promise.resolve().then(()=>Ja);return{aiClient:ue}},void 0,import.meta.url),pe=`
                Current exchange rate: 1 ${p} = ${w.toFixed(4)} ${x}.
                User is converting ${d} ${p}.
                Is this a historically good rate? Provide a very brief (max 15 words) financial insight or tip.
                Respond in ${o==="es"?"Spanish":"English"}.
            `,ce=await ae.generateContent("gemini-2.5-flash",[{role:"user",parts:[{text:pe}]}]);O(ce.text())}catch(ae){console.error("AI Insight failed",ae),O(i("concierge.errorGeneric")||"AI unavailable.")}finally{D(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 w-full max-w-md rounded-3xl shadow-2xl border border-neutral-200 dark:border-neutral-800 overflow-hidden relative",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-100 dark:border-neutral-800",children:[s.jsxs("h3",{className:"text-xl font-display font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(Za,{className:"text-gold-500"}),o==="es"?"Conversor Divisas":"Currency Converter"]}),s.jsx("button",{onClick:n,className:"p-2 -mr-2 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-wider mb-2",children:o==="es"?"Cantidad":"Amount"}),s.jsx("input",{type:"number",value:d,onChange:ae=>f(ae.target.value),className:"w-full bg-platinum-100 dark:bg-neutral-800 border-none rounded-xl p-4 text-2xl font-bold font-mono text-neutral-900 dark:text-white focus:ring-2 focus:ring-gold-500 transition-all"})]}),s.jsxs("div",{className:"grid grid-cols-[1fr,auto,1fr] gap-4 items-center",children:[s.jsx("select",{value:p,onChange:ae=>g(ae.target.value),className:"w-full bg-platinum-100 dark:bg-neutral-800 border-none rounded-xl p-3 font-bold text-neutral-900 dark:text-white focus:ring-2 focus:ring-gold-500",children:H.map(ae=>s.jsx("option",{value:ae,children:ae},ae))}),s.jsx("div",{className:"text-neutral-400",children:s.jsx(Fa,{size:20})}),s.jsx("select",{value:x,onChange:ae=>b(ae.target.value),className:"w-full bg-platinum-100 dark:bg-neutral-800 border-none rounded-xl p-3 font-bold text-neutral-900 dark:text-white focus:ring-2 focus:ring-gold-500",children:H.map(ae=>s.jsx("option",{value:ae,children:ae},ae))})]}),s.jsxs("button",{onClick:$,disabled:j,className:"w-full py-4 rounded-xl bg-gold-500 text-neutral-950 font-bold text-lg hover:scale-[1.02] active:scale-95 transition-all shadow-lg shadow-gold-500/20 flex items-center justify-center gap-2",children:[j?s.jsx(Fn,{className:"animate-spin"}):s.jsx(Za,{}),o==="es"?"Convertir Ahora":"Convert Now"]}),z&&s.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 p-2 rounded-lg animate-pulse",children:z}),y!==null&&s.jsxs("div",{className:"bg-platinum-50 dark:bg-white/5 rounded-2xl p-6 border border-neutral-100 dark:border-neutral-800 animate-slide-up",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("p",{className:"text-sm text-neutral-500 mb-1",children:["1 ",p," = ",w==null?void 0:w.toFixed(4)," ",x]}),s.jsx("p",{className:"text-4xl font-display font-bold text-neutral-900 dark:text-white tracking-tight",children:be(y,x,{locale:u})})]}),S?s.jsxs("div",{className:"bg-gradient-to-br from-gold-500/10 to-transparent p-4 rounded-xl border border-gold-500/20 flex gap-3 animate-fade-in",children:[s.jsx("div",{className:"shrink-0 p-2 bg-gold-500/20 rounded-lg h-fit text-gold-700 dark:text-gold-500",children:s.jsx(Nl,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-gold-700 dark:text-gold-500 uppercase tracking-wide mb-1",children:o==="es"?"Dato del Lobo":"Wolf Insight"}),s.jsxs("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 leading-relaxed italic",children:['"',S,'"']})]})]}):s.jsxs("button",{onClick:Z,disabled:I,className:"w-full py-2.5 rounded-xl border border-neutral-200 dark:border-neutral-700 hover:bg-white dark:hover:bg-neutral-800 text-neutral-600 dark:text-neutral-300 text-sm font-bold flex items-center justify-center gap-2 transition-all hover:text-gold-600 dark:hover:text-gold-500",children:[I?s.jsx(Fn,{size:16,className:"animate-spin"}):s.jsx(Nl,{size:16}),o==="es"?"Opinin de la IA":"AI Rate Analysis"]})]})]})]})}):null},x5=e=>{const n=e.toLowerCase();return n.includes("food")||n.includes("dining")?Gb:n.includes("shopping")?ny:n.includes("transport")||n.includes("fuel")?Yh:n.includes("housing")||n.includes("rent")?di:n.includes("utilities")?gi:n.includes("entertainment")?Wb:n.includes("income")||n.includes("salary")?Ya:n.includes("transfer")?Za:Ya},b5=({transactions:e,baseCurrency:n,onViewAll:a,privacyMode:i=!1})=>{const o=[...e].sort((u,d)=>d.date.localeCompare(u.date)).slice(0,5);return s.jsxs("div",{className:"h-full p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:"Recent Activity"}),s.jsx("button",{onClick:a,className:"text-xs font-bold text-gold-600 dark:text-gold-500 hover:underline",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:o.length>0?o.map(u=>{const d=x5(u.category||""),f=u.type==="credit";return s.jsxs("div",{className:"flex items-center justify-between group p-3 rounded-2xl hover:bg-gold-500/5 dark:hover:bg-gold-500/5 hover:scale-[1.02] transition-all cursor-default border border-transparent hover:border-gold-500/10 active:scale-[0.98]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border ${f?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":"bg-neutral-100 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 text-neutral-500 dark:text-neutral-400"}`,children:s.jsx(d,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white truncate max-w-[140px] md:max-w-[200px]",children:u.name}),s.jsxs("p",{className:"text-[10px] text-neutral-500 font-medium",children:[new Date(u.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),"  ",u.category]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:`text-sm font-bold font-mono ${f?"text-emerald-500":"text-neutral-900 dark:text-white"}`,children:[f?"+":"",be(u.numericAmount,u.currency||n,{privacy:i})]})})]},u.id)}):s.jsx("div",{className:"text-center py-6 text-neutral-400 text-xs text-italic",children:"No recent activity."})})]})},y5=({transactions:e,baseCurrency:n,period:a=30,t:i})=>{const[o,u]=T.useState("expense"),d=T.useMemo(()=>{const x=new Date,b=new Date;b.setDate(x.getDate()-a);const y=b.toISOString().split("T")[0],_=e.filter($=>$.date>=y&&$.category!=="Transfer"&&$.category!=="Credit Card Payment"),w=_.filter($=>$.type==="credit"),N=_.filter($=>$.type==="debit"),j=w.reduce(($,H)=>$+Qe(H.numericAmount,H.currency||"USD",n),0),A=N.reduce(($,H)=>$+Qe(H.numericAmount,H.currency||"USD",n),0),S={};(o==="expense"?N:w).forEach($=>{const H=$.category||"Uncategorized",Z=Qe($.numericAmount,$.currency||"USD",n);S[H]=(S[H]||0)+Z});const I=Object.entries(S).map(([$,H])=>({name:$,value:H,percent:0,color:""})).sort(($,H)=>H.value-$.value).slice(0,6),D=o==="expense"?A:j,z=["#eab308","#ef4444","#3b82f6","#10b981","#8b5cf6","#f97316"];let C=0;if(I.forEach(($,H)=>{$.percent=D>0?$.value/D*100:0,$.color=z[H%z.length],C+=$.percent}),D>0&&C<99){const $=D-I.reduce((H,Z)=>H+Z.value,0);$>0&&I.push({name:"Others",value:$,percent:$/D*100,color:"#737373"})}return{totalIncome:j,totalExpense:A,categories:I}},[e,n,a,o]),f=50,p=2*Math.PI*f;let g=0;return s.jsxs("div",{className:"glass rounded-[2.5rem] p-8 shadow-xl flex flex-col h-full group transition-colors hover:border-gold-500/20 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(tr,{size:16,className:"text-gold-500"})," Breakdown"]}),s.jsxs("div",{className:"flex bg-white/50 dark:bg-neutral-800/50 backdrop-blur-md rounded-xl p-1 border border-white/20 dark:border-white/5",children:[s.jsx("button",{onClick:()=>u("expense"),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all ${o==="expense"?"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:"Exp"}),s.jsx("button",{onClick:()=>u("income"),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all ${o==="income"?"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:"Inc"})]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsxs("svg",{viewBox:"0 0 120 120",className:"w-48 h-48 transform -rotate-90 drop-shadow-xl",children:[d.categories.map((x,b)=>{const y=x.percent/100*p;return g-=y,s.jsx("circle",{cx:"60",cy:"60",r:f,fill:"transparent",stroke:x.color,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${y} ${p}`,strokeDashoffset:-Math.abs(g+y),className:"transition-all duration-1000 origin-center hover:stroke-width-[14px] hover:opacity-90 cursor-pointer"},b)}),d.categories.length===0&&s.jsx("circle",{cx:"60",cy:"60",r:f,fill:"transparent",stroke:"#e5e5e5",strokeWidth:"12",className:"dark:stroke-neutral-800"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("span",{className:"text-[10px] uppercase font-bold text-neutral-400 tracking-widest mb-1",children:"Total"}),s.jsx("span",{className:`text-xl font-bold font-mono tracking-tight ${o==="expense"?"text-neutral-900 dark:text-white":"text-emerald-500"}`,children:be(o==="expense"?d.totalExpense:d.totalIncome,n,{compact:!0})})]})]}),s.jsxs("div",{className:"space-y-4",children:[d.categories.length>0&&s.jsxs("div",{className:"mb-4 pb-4 border-b border-neutral-200/50 dark:border-white/5",children:[s.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-wider font-bold mb-1",children:"Highest Spend"}),s.jsxs("p",{className:"text-sm font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-full shadow-sm",style:{backgroundColor:d.categories[0].color}}),d.categories[0].name," ",s.jsxs("span",{className:"text-neutral-400 text-xs font-medium ml-auto",children:["(",Math.round(d.categories[0].percent),"%)"]})]})]}),d.categories.length>0?d.categories.slice(0,5).map((x,b)=>s.jsxs("div",{className:"flex items-center justify-between group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full ring-2 ring-white/10 dark:ring-black/10",style:{backgroundColor:x.color}}),s.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-300 truncate max-w-[100px] group-hover:text-neutral-900 dark:group-hover:text-white transition-colors",children:x.name})]}),s.jsxs("div",{className:"text-right flex items-center gap-3",children:[s.jsx("span",{className:"block text-xs font-bold text-neutral-900 dark:text-white font-mono",children:be(x.value,n,{compact:!0})}),s.jsxs("span",{className:"text-[10px] text-neutral-400 w-8 text-right",children:[Math.round(x.percent),"%"]})]})]},b)):s.jsx("div",{className:"text-center py-4 text-neutral-400 text-xs",children:"No data for this period"})]})]})]})},v5=({isOpen:e,onClose:n,breakdown:a,t:i})=>{if(!e)return null;const{score:o,details:u,isNew:d}=a;let f="poor",p="text-rose-500",g="from-rose-500 to-rose-600";return o>=80?(f="excellent",p="text-emerald-500",g="from-emerald-500 to-emerald-600"):o>=60?(f="good",p="text-gold-500",g="from-gold-500 to-gold-600"):o>=40&&(f="fair",p="text-amber-500",g="from-amber-500 to-amber-600"),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:n,children:s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl relative",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-neutral-800 flex justify-between items-center bg-neutral-950/50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold font-serif text-white",children:i("dashboard.scoreDetail.title")}),s.jsx("p",{className:"text-sm text-neutral-400 mt-1",children:i("dashboard.scoreDetail.description")})]}),s.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${g} flex items-center justify-center shadow-lg`,children:s.jsx(mi,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-6xl font-black font-serif text-white tracking-tighter mb-2",children:d?"":o}),s.jsx("div",{className:`text-lg font-medium tracking-wide uppercase ${p}`,children:i(d?"dashboard.scoreDetail.pending":`dashboard.scoreDetail.${f}`)}),d&&s.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:i("dashboard.scoreDetail.pendingDesc")})]}),d?s.jsxs("div",{className:"bg-neutral-800/50 rounded-xl p-4 text-center border border-neutral-700/50 border-dashed",children:[s.jsx(On,{className:"w-8 h-8 text-neutral-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-neutral-400",children:i("dashboard.scoreDetail.pendingDesc")})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(ur,{className:"w-4 h-4 text-blue-400"})}),s.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[u.liquidity,"/30"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-0.5",children:[u.monthsRunway,"mo"]}),s.jsx("div",{className:"text-xs text-neutral-400",children:i("dashboard.scoreDetail.liquidity")}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:i("dashboard.scoreDetail.liquidityDesc")})]}),s.jsxs("div",{className:"bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:s.jsx(Pt,{className:"w-4 h-4 text-emerald-400"})}),s.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[u.savings,"/40"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-0.5",children:[u.savingsRatePct,"%"]}),s.jsx("div",{className:"text-xs text-neutral-400",children:i("dashboard.scoreDetail.savings")}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:i("dashboard.scoreDetail.savingsDesc")})]}),s.jsxs("div",{className:"bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"p-2 bg-rose-500/10 rounded-lg",children:s.jsx(tr,{className:"w-4 h-4 text-rose-400"})}),s.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[u.debt,"/20"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-0.5",children:[u.debtRatioPct,"%"]}),s.jsx("div",{className:"text-xs text-neutral-400",children:i("dashboard.scoreDetail.debt")}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:i("dashboard.scoreDetail.debtDesc")})]}),s.jsxs("div",{className:"bg-neutral-800/50 p-4 rounded-xl border border-neutral-700/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(On,{className:"w-4 h-4 text-purple-400"})}),s.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[u.diversity,"/10"]})]}),s.jsx("div",{className:"text-2xl font-bold text-white mb-0.5",children:u.classCount}),s.jsx("div",{className:"text-xs text-neutral-400",children:i("dashboard.scoreDetail.diversity")}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:i("dashboard.scoreDetail.diversityDesc")})]})]})]}),s.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-950/50",children:s.jsx("button",{onClick:n,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-neutral-200 transition-colors",children:i("common.back")})})]})})},Zy=T.createContext(void 0);function w5({children:e}){const[n,a]=T.useState(null),[i,o]=T.useState(null),[u,d]=T.useState(null),[f,p]=T.useState(!0),[g,x]=T.useState(!1);T.useEffect(()=>{Oe.auth.getSession().then(({data:{session:N}})=>{o(N),a((N==null?void 0:N.user)??null),N!=null&&N.user?b(N.user.id):p(!1)});const{data:{subscription:w}}=Oe.auth.onAuthStateChange((N,j)=>{N==="PASSWORD_RECOVERY"&&x(!0),o(j),a((j==null?void 0:j.user)??null),j!=null&&j.user?b(j.user.id):(d(null),p(!1))});return()=>w.unsubscribe()},[]);const b=async w=>{try{const{data:N,error:j}=await Oe.from("profiles").select("*").eq("id",w).single();j&&console.warn("Error fetching profile:",j),N&&d(N)}catch(N){console.error("Error fetching profile:",N)}finally{p(!1)}},_={session:i,user:n,profile:u,loading:f,passwordRecoveryMode:g,signOut:async()=>{try{await Oe.auth.signOut()}catch(w){console.error("Error signing out:",w)}finally{o(null),a(null),d(null)}}};return s.jsx(Zy.Provider,{value:_,children:e})}const pa=()=>{const e=T.useContext(Zy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function da(e,n,a=[]){if(!n||!Array.isArray(n))return console.warn(`[SupabaseSafe] Expected array but got ${typeof n}`,n),a;const i=[],o=[];return n.forEach((u,d)=>{const f=e.safeParse(u);f.success?i.push(f.data):o.push({index:d,error:f.error.format()})}),o.length>0&&console.warn(`[SupabaseSafe] Skipped ${o.length} invalid items.`),i}function ie(e,n,a){function i(f,p){if(f._zod||Object.defineProperty(f,"_zod",{value:{def:p,constr:d,traits:new Set},enumerable:!1}),f._zod.traits.has(e))return;f._zod.traits.add(e),n(f,p);const g=d.prototype,x=Object.keys(g);for(let b=0;b<x.length;b++){const y=x[b];y in f||(f[y]=g[y].bind(f))}}const o=(a==null?void 0:a.Parent)??Object;class u extends o{}Object.defineProperty(u,"name",{value:e});function d(f){var p;const g=a!=null&&a.Parent?new u:this;i(g,f),(p=g._zod).deferred??(p.deferred=[]);for(const x of g._zod.deferred)x();return g}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:f=>{var p,g;return a!=null&&a.Parent&&f instanceof a.Parent?!0:(g=(p=f==null?void 0:f._zod)==null?void 0:p.traits)==null?void 0:g.has(e)}}),Object.defineProperty(d,"name",{value:e}),d}class ci extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ky extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Jy={};function fa(e){return Jy}function Xy(e){const n=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,o])=>n.indexOf(+i)===-1).map(([i,o])=>o)}function Bh(e,n){return typeof n=="bigint"?n.toString():n}function a0(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function s0(e){return e==null}function i0(e){const n=e.startsWith("^")?1:0,a=e.endsWith("$")?e.length-1:e.length;return e.slice(n,a)}function _5(e,n){const a=(e.toString().split(".")[1]||"").length,i=n.toString();let o=(i.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(i)){const p=i.match(/\d?e-(\d?)/);p!=null&&p[1]&&(o=Number.parseInt(p[1]))}const u=a>o?a:o,d=Number.parseInt(e.toFixed(u).replace(".","")),f=Number.parseInt(n.toFixed(u).replace(".",""));return d%f/10**u}const ob=Symbol("evaluating");function Ze(e,n,a){let i;Object.defineProperty(e,n,{get(){if(i!==ob)return i===void 0&&(i=ob,i=a()),i},set(o){Object.defineProperty(e,n,{value:o})},configurable:!0})}function Xa(e,n,a){Object.defineProperty(e,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function ga(...e){const n={};for(const a of e){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function cb(e){return JSON.stringify(e)}function N5(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Qy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function _c(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const j5=a0(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function xi(e){if(_c(e)===!1)return!1;const n=e.constructor;if(n===void 0||typeof n!="function")return!0;const a=n.prototype;return!(_c(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Wy(e){return xi(e)?{...e}:Array.isArray(e)?[...e]:e}const k5=new Set(["string","number","symbol"]);function Mc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xa(e,n,a){const i=new e._zod.constr(n??e._zod.def);return(!n||a!=null&&a.parent)&&(i._zod.parent=e),i}function je(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if((n==null?void 0:n.message)!==void 0){if((n==null?void 0:n.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function S5(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const E5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function T5(e,n){const a=e._zod.def,i=a.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const u=ga(e._zod.def,{get shape(){const d={};for(const f in n){if(!(f in a.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(d[f]=a.shape[f])}return Xa(this,"shape",d),d},checks:[]});return xa(e,u)}function A5(e,n){const a=e._zod.def,i=a.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const u=ga(e._zod.def,{get shape(){const d={...e._zod.def.shape};for(const f in n){if(!(f in a.shape))throw new Error(`Unrecognized key: "${f}"`);n[f]&&delete d[f]}return Xa(this,"shape",d),d},checks:[]});return xa(e,u)}function O5(e,n){if(!xi(n))throw new Error("Invalid input to extend: expected a plain object");const a=e._zod.def.checks;if(a&&a.length>0){const u=e._zod.def.shape;for(const d in n)if(Object.getOwnPropertyDescriptor(u,d)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ga(e._zod.def,{get shape(){const u={...e._zod.def.shape,...n};return Xa(this,"shape",u),u}});return xa(e,o)}function C5(e,n){if(!xi(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a=ga(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n};return Xa(this,"shape",i),i}});return xa(e,a)}function R5(e,n){const a=ga(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n._zod.def.shape};return Xa(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return xa(e,a)}function D5(e,n,a){const o=n._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const d=ga(n._zod.def,{get shape(){const f=n._zod.def.shape,p={...f};if(a)for(const g in a){if(!(g in f))throw new Error(`Unrecognized key: "${g}"`);a[g]&&(p[g]=e?new e({type:"optional",innerType:f[g]}):f[g])}else for(const g in f)p[g]=e?new e({type:"optional",innerType:f[g]}):f[g];return Xa(this,"shape",p),p},checks:[]});return xa(n,d)}function z5(e,n,a){const i=ga(n._zod.def,{get shape(){const o=n._zod.def.shape,u={...o};if(a)for(const d in a){if(!(d in u))throw new Error(`Unrecognized key: "${d}"`);a[d]&&(u[d]=new e({type:"nonoptional",innerType:o[d]}))}else for(const d in o)u[d]=new e({type:"nonoptional",innerType:o[d]});return Xa(this,"shape",u),u}});return xa(n,i)}function ri(e,n=0){var a;if(e.aborted===!0)return!0;for(let i=n;i<e.issues.length;i++)if(((a=e.issues[i])==null?void 0:a.continue)!==!0)return!0;return!1}function ai(e,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(e),a})}function uc(e){return typeof e=="string"?e:e==null?void 0:e.message}function ma(e,n,a){var o,u,d,f,p,g;const i={...e,path:e.path??[]};if(!e.message){const x=uc((d=(u=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:u.error)==null?void 0:d.call(u,e))??uc((f=n==null?void 0:n.error)==null?void 0:f.call(n,e))??uc((p=a.customError)==null?void 0:p.call(a,e))??uc((g=a.localeError)==null?void 0:g.call(a,e))??"Invalid input";i.message=x}return delete i.inst,delete i.continue,n!=null&&n.reportInput||delete i.input,i}function l0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Il(...e){const[n,a,i]=e;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const ev=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Bh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tv=ie("$ZodError",ev),nv=ie("$ZodError",ev,{Parent:Error});function I5(e,n=a=>a.message){const a={},i=[];for(const o of e.issues)o.path.length>0?(a[o.path[0]]=a[o.path[0]]||[],a[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:a}}function M5(e,n=a=>a.message){const a={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)a._errors.push(n(u));else{let d=a,f=0;for(;f<u.path.length;){const p=u.path[f];f===u.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(n(u))):d[p]=d[p]||{_errors:[]},d=d[p],f++}}};return i(e),a}const o0=e=>(n,a,i,o)=>{const u=i?Object.assign(i,{async:!1}):{async:!1},d=n._zod.run({value:a,issues:[]},u);if(d instanceof Promise)throw new ci;if(d.issues.length){const f=new((o==null?void 0:o.Err)??e)(d.issues.map(p=>ma(p,u,fa())));throw Qy(f,o==null?void 0:o.callee),f}return d.value},c0=e=>async(n,a,i,o)=>{const u=i?Object.assign(i,{async:!0}):{async:!0};let d=n._zod.run({value:a,issues:[]},u);if(d instanceof Promise&&(d=await d),d.issues.length){const f=new((o==null?void 0:o.Err)??e)(d.issues.map(p=>ma(p,u,fa())));throw Qy(f,o==null?void 0:o.callee),f}return d.value},Uc=e=>(n,a,i)=>{const o=i?{...i,async:!1}:{async:!1},u=n._zod.run({value:a,issues:[]},o);if(u instanceof Promise)throw new ci;return u.issues.length?{success:!1,error:new(e??tv)(u.issues.map(d=>ma(d,o,fa())))}:{success:!0,data:u.value}},U5=Uc(nv),Lc=e=>async(n,a,i)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let u=n._zod.run({value:a,issues:[]},o);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new e(u.issues.map(d=>ma(d,o,fa())))}:{success:!0,data:u.value}},L5=Lc(nv),$5=e=>(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return o0(e)(n,a,o)},B5=e=>(n,a,i)=>o0(e)(n,a,i),P5=e=>async(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return c0(e)(n,a,o)},H5=e=>async(n,a,i)=>c0(e)(n,a,i),q5=e=>(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Uc(e)(n,a,o)},G5=e=>(n,a,i)=>Uc(e)(n,a,i),V5=e=>async(n,a,i)=>{const o=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Lc(e)(n,a,o)},F5=e=>async(n,a,i)=>Lc(e)(n,a,i),Y5=/^[cC][^\s-]{8,}$/,Z5=/^[0-9a-z]+$/,K5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,J5=/^[0-9a-vA-V]{20}$/,X5=/^[A-Za-z0-9]{27}$/,Q5=/^[a-zA-Z0-9_-]{21}$/,W5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eT=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ub=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tT=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rT(){return new RegExp(nT,"u")}const aT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,iT=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,lT=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oT=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rv=/^[A-Za-z0-9_-]*$/,cT=/^\+[1-9]\d{6,14}$/,av="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",uT=new RegExp(`^${av}$`);function sv(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function dT(e){return new RegExp(`^${sv(e)}$`)}function hT(e){const n=sv({precision:e.precision}),a=["Z"];e.local&&a.push(""),e.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${av}T(?:${i})$`)}const fT=e=>{const n=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},mT=/^-?\d+$/,iv=/^-?\d+(?:\.\d+)?$/,pT=/^(?:true|false)$/i,gT=/^[^A-Z]*$/,xT=/^[^a-z]*$/,bn=ie("$ZodCheck",(e,n)=>{var a;e._zod??(e._zod={}),e._zod.def=n,(a=e._zod).onattach??(a.onattach=[])}),lv={number:"number",bigint:"bigint",object:"date"},ov=ie("$ZodCheckLessThan",(e,n)=>{bn.init(e,n);const a=lv[typeof n.value];e._zod.onattach.push(i=>{const o=i._zod.bag,u=(n.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<u&&(n.inclusive?o.maximum=n.value:o.exclusiveMaximum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),cv=ie("$ZodCheckGreaterThan",(e,n)=>{bn.init(e,n);const a=lv[typeof n.value];e._zod.onattach.push(i=>{const o=i._zod.bag,u=(n.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>u&&(n.inclusive?o.minimum=n.value:o.exclusiveMinimum=n.value)}),e._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),bT=ie("$ZodCheckMultipleOf",(e,n)=>{bn.init(e,n),e._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),e._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):_5(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:e,continue:!n.abort})}}),yT=ie("$ZodCheckNumberFormat",(e,n)=>{var d;bn.init(e,n),n.format=n.format||"float64";const a=(d=n.format)==null?void 0:d.includes("int"),i=a?"int":"number",[o,u]=E5[n.format];e._zod.onattach.push(f=>{const p=f._zod.bag;p.format=n.format,p.minimum=o,p.maximum=u,a&&(p.pattern=mT)}),e._zod.check=f=>{const p=f.value;if(a){if(!Number.isInteger(p)){f.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:p,inst:e});return}if(!Number.isSafeInteger(p)){p>0?f.issues.push({input:p,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!n.abort}):f.issues.push({input:p,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!n.abort});return}}p<o&&f.issues.push({origin:"number",input:p,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!n.abort}),p>u&&f.issues.push({origin:"number",input:p,code:"too_big",maximum:u,inclusive:!0,inst:e,continue:!n.abort})}}),vT=ie("$ZodCheckMaxLength",(e,n)=>{var a;bn.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!s0(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(i._zod.bag.maximum=n.maximum)}),e._zod.check=i=>{const o=i.value;if(o.length<=n.maximum)return;const d=l0(o);i.issues.push({origin:d,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),wT=ie("$ZodCheckMinLength",(e,n)=>{var a;bn.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!s0(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(i._zod.bag.minimum=n.minimum)}),e._zod.check=i=>{const o=i.value;if(o.length>=n.minimum)return;const d=l0(o);i.issues.push({origin:d,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),_T=ie("$ZodCheckLengthEquals",(e,n)=>{var a;bn.init(e,n),(a=e._zod.def).when??(a.when=i=>{const o=i.value;return!s0(o)&&o.length!==void 0}),e._zod.onattach.push(i=>{const o=i._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),e._zod.check=i=>{const o=i.value,u=o.length;if(u===n.length)return;const d=l0(o),f=u>n.length;i.issues.push({origin:d,...f?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!n.abort})}}),$c=ie("$ZodCheckStringFormat",(e,n)=>{var a,i;bn.init(e,n),e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(a=e._zod).check??(a.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(i=e._zod).check??(i.check=()=>{})}),NT=ie("$ZodCheckRegex",(e,n)=>{$c.init(e,n),e._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),jT=ie("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=gT),$c.init(e,n)}),kT=ie("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=xT),$c.init(e,n)}),ST=ie("$ZodCheckIncludes",(e,n)=>{bn.init(e,n);const a=Mc(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,e._zod.onattach.push(o=>{const u=o._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(i)}),e._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:e,continue:!n.abort})}}),ET=ie("$ZodCheckStartsWith",(e,n)=>{bn.init(e,n);const a=new RegExp(`^${Mc(n.prefix)}.*`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),e._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:e,continue:!n.abort})}}),TT=ie("$ZodCheckEndsWith",(e,n)=>{bn.init(e,n);const a=new RegExp(`.*${Mc(n.suffix)}$`);n.pattern??(n.pattern=a),e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),e._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:e,continue:!n.abort})}}),AT=ie("$ZodCheckOverwrite",(e,n)=>{bn.init(e,n),e._zod.check=a=>{a.value=n.tx(a.value)}});class OT{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(d=>d),o=Math.min(...i.map(d=>d.length-d.trimStart().length)),u=i.map(d=>d.slice(o)).map(d=>" ".repeat(this.indent*2)+d);for(const d of u)this.content.push(d)}compile(){const n=Function,a=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(u=>`  ${u}`)];return new n(...a,o.join(`
`))}}const CT={major:4,minor:3,patch:6},gt=ie("$ZodType",(e,n)=>{var o;var a;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=CT;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const u of i)for(const d of u._zod.onattach)d(e);if(i.length===0)(a=e._zod).deferred??(a.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const u=(f,p,g)=>{let x=ri(f),b;for(const y of p){if(y._zod.def.when){if(!y._zod.def.when(f))continue}else if(x)continue;const _=f.issues.length,w=y._zod.check(f);if(w instanceof Promise&&(g==null?void 0:g.async)===!1)throw new ci;if(b||w instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await w,f.issues.length!==_&&(x||(x=ri(f,_)))});else{if(f.issues.length===_)continue;x||(x=ri(f,_))}}return b?b.then(()=>f):f},d=(f,p,g)=>{if(ri(f))return f.aborted=!0,f;const x=u(p,i,g);if(x instanceof Promise){if(g.async===!1)throw new ci;return x.then(b=>e._zod.parse(b,g))}return e._zod.parse(x,g)};e._zod.run=(f,p)=>{if(p.skipChecks)return e._zod.parse(f,p);if(p.direction==="backward"){const x=e._zod.parse({value:f.value,issues:[]},{...p,skipChecks:!0});return x instanceof Promise?x.then(b=>d(b,f,p)):d(x,f,p)}const g=e._zod.parse(f,p);if(g instanceof Promise){if(p.async===!1)throw new ci;return g.then(x=>u(x,i,p))}return u(g,i,p)}}Ze(e,"~standard",()=>({validate:u=>{var d;try{const f=U5(e,u);return f.success?{value:f.data}:{issues:(d=f.error)==null?void 0:d.issues}}catch{return L5(e,u).then(p=>{var g;return p.success?{value:p.data}:{issues:(g=p.error)==null?void 0:g.issues}})}},vendor:"zod",version:1}))}),u0=ie("$ZodString",(e,n)=>{var a;gt.init(e,n),e._zod.pattern=[...((a=e==null?void 0:e._zod.bag)==null?void 0:a.patterns)??[]].pop()??fT(e._zod.bag),e._zod.parse=(i,o)=>{if(n.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),ot=ie("$ZodStringFormat",(e,n)=>{$c.init(e,n),u0.init(e,n)}),RT=ie("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=eT),ot.init(e,n)}),DT=ie("$ZodUUID",(e,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=ub(i))}else n.pattern??(n.pattern=ub());ot.init(e,n)}),zT=ie("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=tT),ot.init(e,n)}),IT=ie("$ZodURL",(e,n)=>{ot.init(e,n),e._zod.check=a=>{try{const i=a.value.trim(),o=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:a.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:e,continue:!n.abort})),n.normalize?a.value=o.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:e,continue:!n.abort})}}}),MT=ie("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=rT()),ot.init(e,n)}),UT=ie("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=Q5),ot.init(e,n)}),LT=ie("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=Y5),ot.init(e,n)}),$T=ie("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=Z5),ot.init(e,n)}),BT=ie("$ZodULID",(e,n)=>{n.pattern??(n.pattern=K5),ot.init(e,n)}),PT=ie("$ZodXID",(e,n)=>{n.pattern??(n.pattern=J5),ot.init(e,n)}),HT=ie("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=X5),ot.init(e,n)}),qT=ie("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=hT(n)),ot.init(e,n)}),GT=ie("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=uT),ot.init(e,n)}),VT=ie("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=dT(n)),ot.init(e,n)}),FT=ie("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=W5),ot.init(e,n)}),YT=ie("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=aT),ot.init(e,n),e._zod.bag.format="ipv4"}),ZT=ie("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=sT),ot.init(e,n),e._zod.bag.format="ipv6",e._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:e,continue:!n.abort})}}}),KT=ie("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=iT),ot.init(e,n)}),JT=ie("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=lT),ot.init(e,n),e._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[o,u]=i;if(!u)throw new Error;const d=Number(u);if(`${d}`!==u)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${o}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:e,continue:!n.abort})}}});function uv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const XT=ie("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=oT),ot.init(e,n),e._zod.bag.contentEncoding="base64",e._zod.check=a=>{uv(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:e,continue:!n.abort})}});function QT(e){if(!rv.test(e))return!1;const n=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return uv(a)}const WT=ie("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=rv),ot.init(e,n),e._zod.bag.contentEncoding="base64url",e._zod.check=a=>{QT(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:e,continue:!n.abort})}}),eA=ie("$ZodE164",(e,n)=>{n.pattern??(n.pattern=cT),ot.init(e,n)});function tA(e,n=null){try{const a=e.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const o=JSON.parse(atob(i));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const nA=ie("$ZodJWT",(e,n)=>{ot.init(e,n),e._zod.check=a=>{tA(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:e,continue:!n.abort})}}),dv=ie("$ZodNumber",(e,n)=>{gt.init(e,n),e._zod.pattern=e._zod.bag.pattern??iv,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const o=a.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return a;const u=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...u?{received:u}:{}}),a}}),rA=ie("$ZodNumberFormat",(e,n)=>{yT.init(e,n),dv.init(e,n)}),aA=ie("$ZodBoolean",(e,n)=>{gt.init(e,n),e._zod.pattern=pT,e._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const o=a.value;return typeof o=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),a}}),sA=ie("$ZodAny",(e,n)=>{gt.init(e,n),e._zod.parse=a=>a}),iA=ie("$ZodUnknown",(e,n)=>{gt.init(e,n),e._zod.parse=a=>a}),lA=ie("$ZodNever",(e,n)=>{gt.init(e,n),e._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:e}),a)});function db(e,n,a){e.issues.length&&n.issues.push(...ai(a,e.issues)),n.value[a]=e.value}const oA=ie("$ZodArray",(e,n)=>{gt.init(e,n),e._zod.parse=(a,i)=>{const o=a.value;if(!Array.isArray(o))return a.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),a;a.value=Array(o.length);const u=[];for(let d=0;d<o.length;d++){const f=o[d],p=n.element._zod.run({value:f,issues:[]},i);p instanceof Promise?u.push(p.then(g=>db(g,a,d))):db(p,a,d)}return u.length?Promise.all(u).then(()=>a):a}});function Nc(e,n,a,i,o){if(e.issues.length){if(o&&!(a in i))return;n.issues.push(...ai(a,e.issues))}e.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=e.value}function hv(e){var i,o,u,d;const n=Object.keys(e.shape);for(const f of n)if(!((d=(u=(o=(i=e.shape)==null?void 0:i[f])==null?void 0:o._zod)==null?void 0:u.traits)!=null&&d.has("$ZodType")))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);const a=S5(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function fv(e,n,a,i,o,u){const d=[],f=o.keySet,p=o.catchall._zod,g=p.def.type,x=p.optout==="optional";for(const b in n){if(f.has(b))continue;if(g==="never"){d.push(b);continue}const y=p.run({value:n[b],issues:[]},i);y instanceof Promise?e.push(y.then(_=>Nc(_,a,b,n,x))):Nc(y,a,b,n,x)}return d.length&&a.issues.push({code:"unrecognized_keys",keys:d,input:n,inst:u}),e.length?Promise.all(e).then(()=>a):a}const cA=ie("$ZodObject",(e,n)=>{gt.init(e,n);const a=Object.getOwnPropertyDescriptor(n,"shape");if(!(a!=null&&a.get)){const f=n.shape;Object.defineProperty(n,"shape",{get:()=>{const p={...f};return Object.defineProperty(n,"shape",{value:p}),p}})}const i=a0(()=>hv(n));Ze(e._zod,"propValues",()=>{const f=n.shape,p={};for(const g in f){const x=f[g]._zod;if(x.values){p[g]??(p[g]=new Set);for(const b of x.values)p[g].add(b)}}return p});const o=_c,u=n.catchall;let d;e._zod.parse=(f,p)=>{d??(d=i.value);const g=f.value;if(!o(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f;f.value={};const x=[],b=d.shape;for(const y of d.keys){const _=b[y],w=_._zod.optout==="optional",N=_._zod.run({value:g[y],issues:[]},p);N instanceof Promise?x.push(N.then(j=>Nc(j,f,y,g,w))):Nc(N,f,y,g,w)}return u?fv(x,g,f,p,i.value,e):x.length?Promise.all(x).then(()=>f):f}}),uA=ie("$ZodObjectJIT",(e,n)=>{cA.init(e,n);const a=e._zod.parse,i=a0(()=>hv(n)),o=y=>{var O;const _=new OT(["shape","payload","ctx"]),w=i.value,N=I=>{const D=cb(I);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};_.write("const input = payload.value;");const j=Object.create(null);let A=0;for(const I of w.keys)j[I]=`key_${A++}`;_.write("const newResult = {};");for(const I of w.keys){const D=j[I],z=cb(I),C=y[I],$=((O=C==null?void 0:C._zod)==null?void 0:O.optout)==="optional";_.write(`const ${D} = ${N(I)};`),$?_.write(`
        if (${D}.issues.length) {
          if (${z} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${z}, ...iss.path] : [${z}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${D}.value;
        }
        
      `):_.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${D}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const S=_.compile();return(I,D)=>S(y,I,D)};let u;const d=_c,f=!Jy.jitless,g=f&&j5.value,x=n.catchall;let b;e._zod.parse=(y,_)=>{b??(b=i.value);const w=y.value;return d(w)?f&&g&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(u||(u=o(n.shape)),y=u(y,_),x?fv([],w,y,_,b,e):y):a(y,_):(y.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),y)}});function hb(e,n,a,i){for(const u of e)if(u.issues.length===0)return n.value=u.value,n;const o=e.filter(u=>!ri(u));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:e.map(u=>u.issues.map(d=>ma(d,i,fa())))}),n)}const dA=ie("$ZodUnion",(e,n)=>{gt.init(e,n),Ze(e._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Ze(e._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Ze(e._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),Ze(e._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${o.map(u=>i0(u.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;e._zod.parse=(o,u)=>{if(a)return i(o,u);let d=!1;const f=[];for(const p of n.options){const g=p._zod.run({value:o.value,issues:[]},u);if(g instanceof Promise)f.push(g),d=!0;else{if(g.issues.length===0)return g;f.push(g)}}return d?Promise.all(f).then(p=>hb(p,o,e,u)):hb(f,o,e,u)}}),hA=ie("$ZodIntersection",(e,n)=>{gt.init(e,n),e._zod.parse=(a,i)=>{const o=a.value,u=n.left._zod.run({value:o,issues:[]},i),d=n.right._zod.run({value:o,issues:[]},i);return u instanceof Promise||d instanceof Promise?Promise.all([u,d]).then(([p,g])=>fb(a,p,g)):fb(a,u,d)}});function Ph(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(xi(e)&&xi(n)){const a=Object.keys(n),i=Object.keys(e).filter(u=>a.indexOf(u)!==-1),o={...e,...n};for(const u of i){const d=Ph(e[u],n[u]);if(!d.valid)return{valid:!1,mergeErrorPath:[u,...d.mergeErrorPath]};o[u]=d.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<e.length;i++){const o=e[i],u=n[i],d=Ph(o,u);if(!d.valid)return{valid:!1,mergeErrorPath:[i,...d.mergeErrorPath]};a.push(d.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function fb(e,n,a){const i=new Map;let o;for(const f of n.issues)if(f.code==="unrecognized_keys"){o??(o=f);for(const p of f.keys)i.has(p)||i.set(p,{}),i.get(p).l=!0}else e.issues.push(f);for(const f of a.issues)if(f.code==="unrecognized_keys")for(const p of f.keys)i.has(p)||i.set(p,{}),i.get(p).r=!0;else e.issues.push(f);const u=[...i].filter(([,f])=>f.l&&f.r).map(([f])=>f);if(u.length&&o&&e.issues.push({...o,keys:u}),ri(e))return e;const d=Ph(n.value,a.value);if(!d.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return e.value=d.data,e}const fA=ie("$ZodRecord",(e,n)=>{gt.init(e,n),e._zod.parse=(a,i)=>{const o=a.value;if(!xi(o))return a.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),a;const u=[],d=n.keyType._zod.values;if(d){a.value={};const f=new Set;for(const g of d)if(typeof g=="string"||typeof g=="number"||typeof g=="symbol"){f.add(typeof g=="number"?g.toString():g);const x=n.valueType._zod.run({value:o[g],issues:[]},i);x instanceof Promise?u.push(x.then(b=>{b.issues.length&&a.issues.push(...ai(g,b.issues)),a.value[g]=b.value})):(x.issues.length&&a.issues.push(...ai(g,x.issues)),a.value[g]=x.value)}let p;for(const g in o)f.has(g)||(p=p??[],p.push(g));p&&p.length>0&&a.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:p})}else{a.value={};for(const f of Reflect.ownKeys(o)){if(f==="__proto__")continue;let p=n.keyType._zod.run({value:f,issues:[]},i);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof f=="string"&&iv.test(f)&&p.issues.length){const b=n.keyType._zod.run({value:Number(f),issues:[]},i);if(b instanceof Promise)throw new Error("Async schemas not supported in object keys currently");b.issues.length===0&&(p=b)}if(p.issues.length){n.mode==="loose"?a.value[f]=o[f]:a.issues.push({code:"invalid_key",origin:"record",issues:p.issues.map(b=>ma(b,i,fa())),input:f,path:[f],inst:e});continue}const x=n.valueType._zod.run({value:o[f],issues:[]},i);x instanceof Promise?u.push(x.then(b=>{b.issues.length&&a.issues.push(...ai(f,b.issues)),a.value[p.value]=b.value})):(x.issues.length&&a.issues.push(...ai(f,x.issues)),a.value[p.value]=x.value)}}return u.length?Promise.all(u).then(()=>a):a}}),mA=ie("$ZodEnum",(e,n)=>{gt.init(e,n);const a=Xy(n.entries),i=new Set(a);e._zod.values=i,e._zod.pattern=new RegExp(`^(${a.filter(o=>k5.has(typeof o)).map(o=>typeof o=="string"?Mc(o):o.toString()).join("|")})$`),e._zod.parse=(o,u)=>{const d=o.value;return i.has(d)||o.issues.push({code:"invalid_value",values:a,input:d,inst:e}),o}}),pA=ie("$ZodTransform",(e,n)=>{gt.init(e,n),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Ky(e.constructor.name);const o=n.transform(a.value,a);if(i.async)return(o instanceof Promise?o:Promise.resolve(o)).then(d=>(a.value=d,a));if(o instanceof Promise)throw new ci;return a.value=o,a}});function mb(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const mv=ie("$ZodOptional",(e,n)=>{gt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Ze(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Ze(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${i0(a.source)})?$`):void 0}),e._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>mb(u,a.value)):mb(o,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),gA=ie("$ZodExactOptional",(e,n)=>{mv.init(e,n),Ze(e._zod,"values",()=>n.innerType._zod.values),Ze(e._zod,"pattern",()=>n.innerType._zod.pattern),e._zod.parse=(a,i)=>n.innerType._zod.run(a,i)}),xA=ie("$ZodNullable",(e,n)=>{gt.init(e,n),Ze(e._zod,"optin",()=>n.innerType._zod.optin),Ze(e._zod,"optout",()=>n.innerType._zod.optout),Ze(e._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${i0(a.source)}|null)$`):void 0}),Ze(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),bA=ie("$ZodDefault",(e,n)=>{gt.init(e,n),e._zod.optin="optional",Ze(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>pb(u,n)):pb(o,n)}});function pb(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const yA=ie("$ZodPrefault",(e,n)=>{gt.init(e,n),e._zod.optin="optional",Ze(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),vA=ie("$ZodNonOptional",(e,n)=>{gt.init(e,n),Ze(e._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),e._zod.parse=(a,i)=>{const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>gb(u,e)):gb(o,e)}});function gb(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const wA=ie("$ZodCatch",(e,n)=>{gt.init(e,n),Ze(e._zod,"optin",()=>n.innerType._zod.optin),Ze(e._zod,"optout",()=>n.innerType._zod.optout),Ze(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(u=>(a.value=u.value,u.issues.length&&(a.value=n.catchValue({...a,error:{issues:u.issues.map(d=>ma(d,i,fa()))},input:a.value}),a.issues=[]),a)):(a.value=o.value,o.issues.length&&(a.value=n.catchValue({...a,error:{issues:o.issues.map(u=>ma(u,i,fa()))},input:a.value}),a.issues=[]),a)}}),_A=ie("$ZodPipe",(e,n)=>{gt.init(e,n),Ze(e._zod,"values",()=>n.in._zod.values),Ze(e._zod,"optin",()=>n.in._zod.optin),Ze(e._zod,"optout",()=>n.out._zod.optout),Ze(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(a,i)=>{if(i.direction==="backward"){const u=n.out._zod.run(a,i);return u instanceof Promise?u.then(d=>dc(d,n.in,i)):dc(u,n.in,i)}const o=n.in._zod.run(a,i);return o instanceof Promise?o.then(u=>dc(u,n.out,i)):dc(o,n.out,i)}});function dc(e,n,a){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},a)}const NA=ie("$ZodReadonly",(e,n)=>{gt.init(e,n),Ze(e._zod,"propValues",()=>n.innerType._zod.propValues),Ze(e._zod,"values",()=>n.innerType._zod.values),Ze(e._zod,"optin",()=>{var a,i;return(i=(a=n.innerType)==null?void 0:a._zod)==null?void 0:i.optin}),Ze(e._zod,"optout",()=>{var a,i;return(i=(a=n.innerType)==null?void 0:a._zod)==null?void 0:i.optout}),e._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const o=n.innerType._zod.run(a,i);return o instanceof Promise?o.then(xb):xb(o)}});function xb(e){return e.value=Object.freeze(e.value),e}const jA=ie("$ZodCustom",(e,n)=>{bn.init(e,n),gt.init(e,n),e._zod.parse=(a,i)=>a,e._zod.check=a=>{const i=a.value,o=n.fn(i);if(o instanceof Promise)return o.then(u=>bb(u,a,i,e));bb(o,a,i,e)}});function bb(e,n,a,i){if(!e){const o={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(o.params=i._zod.def.params),n.issues.push(Il(o))}}var yb;class kA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];return this._map.set(n,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,n),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const o={...i,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function SA(){return new kA}(yb=globalThis).__zod_globalRegistry??(yb.__zod_globalRegistry=SA());const wl=globalThis.__zod_globalRegistry;function EA(e,n){return new e({type:"string",...je(n)})}function TA(e,n){return new e({type:"string",coerce:!0,...je(n)})}function AA(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...je(n)})}function vb(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...je(n)})}function OA(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...je(n)})}function CA(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...je(n)})}function RA(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...je(n)})}function DA(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...je(n)})}function zA(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...je(n)})}function IA(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...je(n)})}function MA(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...je(n)})}function UA(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...je(n)})}function LA(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...je(n)})}function $A(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...je(n)})}function BA(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...je(n)})}function PA(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...je(n)})}function HA(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...je(n)})}function qA(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...je(n)})}function GA(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...je(n)})}function VA(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...je(n)})}function FA(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...je(n)})}function YA(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...je(n)})}function ZA(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...je(n)})}function KA(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...je(n)})}function JA(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...je(n)})}function XA(e,n){return new e({type:"string",format:"date",check:"string_format",...je(n)})}function QA(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...je(n)})}function WA(e,n){return new e({type:"string",format:"duration",check:"string_format",...je(n)})}function e4(e,n){return new e({type:"number",checks:[],...je(n)})}function t4(e,n){return new e({type:"number",coerce:!0,checks:[],...je(n)})}function n4(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...je(n)})}function r4(e,n){return new e({type:"boolean",...je(n)})}function a4(e){return new e({type:"any"})}function s4(e){return new e({type:"unknown"})}function i4(e,n){return new e({type:"never",...je(n)})}function wb(e,n){return new ov({check:"less_than",...je(n),value:e,inclusive:!1})}function gh(e,n){return new ov({check:"less_than",...je(n),value:e,inclusive:!0})}function _b(e,n){return new cv({check:"greater_than",...je(n),value:e,inclusive:!1})}function xh(e,n){return new cv({check:"greater_than",...je(n),value:e,inclusive:!0})}function Nb(e,n){return new bT({check:"multiple_of",...je(n),value:e})}function pv(e,n){return new vT({check:"max_length",...je(n),maximum:e})}function jc(e,n){return new wT({check:"min_length",...je(n),minimum:e})}function gv(e,n){return new _T({check:"length_equals",...je(n),length:e})}function l4(e,n){return new NT({check:"string_format",format:"regex",...je(n),pattern:e})}function o4(e){return new jT({check:"string_format",format:"lowercase",...je(e)})}function c4(e){return new kT({check:"string_format",format:"uppercase",...je(e)})}function u4(e,n){return new ST({check:"string_format",format:"includes",...je(n),includes:e})}function d4(e,n){return new ET({check:"string_format",format:"starts_with",...je(n),prefix:e})}function h4(e,n){return new TT({check:"string_format",format:"ends_with",...je(n),suffix:e})}function wi(e){return new AT({check:"overwrite",tx:e})}function f4(e){return wi(n=>n.normalize(e))}function m4(){return wi(e=>e.trim())}function p4(){return wi(e=>e.toLowerCase())}function g4(){return wi(e=>e.toUpperCase())}function x4(){return wi(e=>N5(e))}function b4(e,n,a){return new e({type:"array",element:n,...je(a)})}function y4(e,n,a){return new e({type:"custom",check:"custom",fn:n,...je(a)})}function v4(e){const n=w4(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(Il(i,a.value,n._zod.def));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=a.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),a.issues.push(Il(o))}},e(a.value,a)));return n}function w4(e,n){const a=new bn({check:"custom",...je(n)});return a._zod.check=e,a}function xv(e){let n=(e==null?void 0:e.target)??"draft-2020-12";return n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??wl,target:n,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function zt(e,n,a={path:[],schemaPath:[]}){var x,b;var i;const o=e._zod.def,u=n.seen.get(e);if(u)return u.count++,a.schemaPath.includes(e)&&(u.cycle=a.path),u.schema;const d={schema:{},count:1,cycle:void 0,path:a.path};n.seen.set(e,d);const f=(b=(x=e._zod).toJSONSchema)==null?void 0:b.call(x);if(f)d.schema=f;else{const y={...a,schemaPath:[...a.schemaPath,e],path:a.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(n,d.schema,y);else{const w=d.schema,N=n.processors[o.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);N(e,n,w,y)}const _=e._zod.parent;_&&(d.ref||(d.ref=_),zt(_,n,y),n.seen.get(_).isParent=!0)}const p=n.metadataRegistry.get(e);return p&&Object.assign(d.schema,p),n.io==="input"&&an(e)&&(delete d.schema.examples,delete d.schema.default),n.io==="input"&&d.schema._prefault&&((i=d.schema).default??(i.default=d.schema._prefault)),delete d.schema._prefault,n.seen.get(e).schema}function bv(e,n){var d,f,p,g;const a=e.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const x of e.seen.entries()){const b=(d=e.metadataRegistry.get(x[0]))==null?void 0:d.id;if(b){const y=i.get(b);if(y&&y!==x[0])throw new Error(`Duplicate schema id "${b}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(b,x[0])}}const o=x=>{var N;const b=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const j=(N=e.external.registry.get(x[0]))==null?void 0:N.id,A=e.external.uri??(O=>O);if(j)return{ref:A(j)};const S=x[1].defId??x[1].schema.id??`schema${e.counter++}`;return x[1].defId=S,{defId:S,ref:`${A("__shared")}#/${b}/${S}`}}if(x[1]===a)return{ref:"#"};const _=`#/${b}/`,w=x[1].schema.id??`__schema${e.counter++}`;return{defId:w,ref:_+w}},u=x=>{if(x[1].schema.$ref)return;const b=x[1],{ref:y,defId:_}=o(x);b.def={...b.schema},_&&(b.defId=_);const w=b.schema;for(const N in w)delete w[N];w.$ref=y};if(e.cycles==="throw")for(const x of e.seen.entries()){const b=x[1];if(b.cycle)throw new Error(`Cycle detected: #/${(f=b.cycle)==null?void 0:f.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const x of e.seen.entries()){const b=x[1];if(n===x[0]){u(x);continue}if(e.external){const _=(p=e.external.registry.get(x[0]))==null?void 0:p.id;if(n!==x[0]&&_){u(x);continue}}if((g=e.metadataRegistry.get(x[0]))==null?void 0:g.id){u(x);continue}if(b.cycle){u(x);continue}if(b.count>1&&e.reused==="ref"){u(x);continue}}}function yv(e,n){var d,f,p;const a=e.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=g=>{const x=e.seen.get(g);if(x.ref===null)return;const b=x.def??x.schema,y={...b},_=x.ref;if(x.ref=null,_){i(_);const N=e.seen.get(_),j=N.schema;if(j.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(b.allOf=b.allOf??[],b.allOf.push(j)):Object.assign(b,j),Object.assign(b,y),g._zod.parent===_)for(const S in b)S==="$ref"||S==="allOf"||S in y||delete b[S];if(j.$ref&&N.def)for(const S in b)S==="$ref"||S==="allOf"||S in N.def&&JSON.stringify(b[S])===JSON.stringify(N.def[S])&&delete b[S]}const w=g._zod.parent;if(w&&w!==_){i(w);const N=e.seen.get(w);if(N!=null&&N.schema.$ref&&(b.$ref=N.schema.$ref,N.def))for(const j in b)j==="$ref"||j==="allOf"||j in N.def&&JSON.stringify(b[j])===JSON.stringify(N.def[j])&&delete b[j]}e.override({zodSchema:g,jsonSchema:b,path:x.path??[]})};for(const g of[...e.seen.entries()].reverse())i(g[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,(d=e.external)!=null&&d.uri){const g=(f=e.external.registry.get(n))==null?void 0:f.id;if(!g)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(g)}Object.assign(o,a.def??a.schema);const u=((p=e.external)==null?void 0:p.defs)??{};for(const g of e.seen.entries()){const x=g[1];x.def&&x.defId&&(u[x.defId]=x.def)}e.external||Object.keys(u).length>0&&(e.target==="draft-2020-12"?o.$defs=u:o.definitions=u);try{const g=JSON.parse(JSON.stringify(o));return Object.defineProperty(g,"~standard",{value:{...n["~standard"],jsonSchema:{input:kc(n,"input",e.processors),output:kc(n,"output",e.processors)}},enumerable:!1,writable:!1}),g}catch{throw new Error("Error converting schema to JSON.")}}function an(e,n){const a=n??{seen:new Set};if(a.seen.has(e))return!1;a.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return an(i.element,a);if(i.type==="set")return an(i.valueType,a);if(i.type==="lazy")return an(i.getter(),a);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return an(i.innerType,a);if(i.type==="intersection")return an(i.left,a)||an(i.right,a);if(i.type==="record"||i.type==="map")return an(i.keyType,a)||an(i.valueType,a);if(i.type==="pipe")return an(i.in,a)||an(i.out,a);if(i.type==="object"){for(const o in i.shape)if(an(i.shape[o],a))return!0;return!1}if(i.type==="union"){for(const o of i.options)if(an(o,a))return!0;return!1}if(i.type==="tuple"){for(const o of i.items)if(an(o,a))return!0;return!!(i.rest&&an(i.rest,a))}return!1}const _4=(e,n={})=>a=>{const i=xv({...a,processors:n});return zt(e,i),bv(i,e),yv(i,e)},kc=(e,n,a={})=>i=>{const{libraryOptions:o,target:u}=i??{},d=xv({...o??{},target:u,io:n,processors:a});return zt(e,d),bv(d,e),yv(d,e)},N4={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},j4=(e,n,a,i)=>{const o=a;o.type="string";const{minimum:u,maximum:d,format:f,patterns:p,contentEncoding:g}=e._zod.bag;if(typeof u=="number"&&(o.minLength=u),typeof d=="number"&&(o.maxLength=d),f&&(o.format=N4[f]??f,o.format===""&&delete o.format,f==="time"&&delete o.format),g&&(o.contentEncoding=g),p&&p.size>0){const x=[...p];x.length===1?o.pattern=x[0].source:x.length>1&&(o.allOf=[...x.map(b=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},k4=(e,n,a,i)=>{const o=a,{minimum:u,maximum:d,format:f,multipleOf:p,exclusiveMaximum:g,exclusiveMinimum:x}=e._zod.bag;typeof f=="string"&&f.includes("int")?o.type="integer":o.type="number",typeof x=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(o.minimum=x,o.exclusiveMinimum=!0):o.exclusiveMinimum=x),typeof u=="number"&&(o.minimum=u,typeof x=="number"&&n.target!=="draft-04"&&(x>=u?delete o.minimum:delete o.exclusiveMinimum)),typeof g=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(o.maximum=g,o.exclusiveMaximum=!0):o.exclusiveMaximum=g),typeof d=="number"&&(o.maximum=d,typeof g=="number"&&n.target!=="draft-04"&&(g<=d?delete o.maximum:delete o.exclusiveMaximum)),typeof p=="number"&&(o.multipleOf=p)},S4=(e,n,a,i)=>{a.type="boolean"},E4=(e,n,a,i)=>{a.not={}},T4=(e,n,a,i)=>{},A4=(e,n,a,i)=>{},O4=(e,n,a,i)=>{const o=e._zod.def,u=Xy(o.entries);u.every(d=>typeof d=="number")&&(a.type="number"),u.every(d=>typeof d=="string")&&(a.type="string"),a.enum=u},C4=(e,n,a,i)=>{if(n.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},R4=(e,n,a,i)=>{if(n.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},D4=(e,n,a,i)=>{const o=a,u=e._zod.def,{minimum:d,maximum:f}=e._zod.bag;typeof d=="number"&&(o.minItems=d),typeof f=="number"&&(o.maxItems=f),o.type="array",o.items=zt(u.element,n,{...i,path:[...i.path,"items"]})},z4=(e,n,a,i)=>{var g;const o=a,u=e._zod.def;o.type="object",o.properties={};const d=u.shape;for(const x in d)o.properties[x]=zt(d[x],n,{...i,path:[...i.path,"properties",x]});const f=new Set(Object.keys(d)),p=new Set([...f].filter(x=>{const b=u.shape[x]._zod;return n.io==="input"?b.optin===void 0:b.optout===void 0}));p.size>0&&(o.required=Array.from(p)),((g=u.catchall)==null?void 0:g._zod.def.type)==="never"?o.additionalProperties=!1:u.catchall?u.catchall&&(o.additionalProperties=zt(u.catchall,n,{...i,path:[...i.path,"additionalProperties"]})):n.io==="output"&&(o.additionalProperties=!1)},I4=(e,n,a,i)=>{const o=e._zod.def,u=o.inclusive===!1,d=o.options.map((f,p)=>zt(f,n,{...i,path:[...i.path,u?"oneOf":"anyOf",p]}));u?a.oneOf=d:a.anyOf=d},M4=(e,n,a,i)=>{const o=e._zod.def,u=zt(o.left,n,{...i,path:[...i.path,"allOf",0]}),d=zt(o.right,n,{...i,path:[...i.path,"allOf",1]}),f=g=>"allOf"in g&&Object.keys(g).length===1,p=[...f(u)?u.allOf:[u],...f(d)?d.allOf:[d]];a.allOf=p},U4=(e,n,a,i)=>{const o=a,u=e._zod.def;o.type="object";const d=u.keyType,f=d._zod.bag,p=f==null?void 0:f.patterns;if(u.mode==="loose"&&p&&p.size>0){const x=zt(u.valueType,n,{...i,path:[...i.path,"patternProperties","*"]});o.patternProperties={};for(const b of p)o.patternProperties[b.source]=x}else(n.target==="draft-07"||n.target==="draft-2020-12")&&(o.propertyNames=zt(u.keyType,n,{...i,path:[...i.path,"propertyNames"]})),o.additionalProperties=zt(u.valueType,n,{...i,path:[...i.path,"additionalProperties"]});const g=d._zod.values;if(g){const x=[...g].filter(b=>typeof b=="string"||typeof b=="number");x.length>0&&(o.required=x)}},L4=(e,n,a,i)=>{const o=e._zod.def,u=zt(o.innerType,n,i),d=n.seen.get(e);n.target==="openapi-3.0"?(d.ref=o.innerType,a.nullable=!0):a.anyOf=[u,{type:"null"}]},$4=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType},B4=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType,a.default=JSON.parse(JSON.stringify(o.defaultValue))},P4=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType,n.io==="input"&&(a._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},H4=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType;let d;try{d=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}a.default=d},q4=(e,n,a,i)=>{const o=e._zod.def,u=n.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;zt(u,n,i);const d=n.seen.get(e);d.ref=u},G4=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType,a.readOnly=!0},vv=(e,n,a,i)=>{const o=e._zod.def;zt(o.innerType,n,i);const u=n.seen.get(e);u.ref=o.innerType},V4=ie("ZodISODateTime",(e,n)=>{qT.init(e,n),bt.init(e,n)});function F4(e){return JA(V4,e)}const Y4=ie("ZodISODate",(e,n)=>{GT.init(e,n),bt.init(e,n)});function Z4(e){return XA(Y4,e)}const K4=ie("ZodISOTime",(e,n)=>{VT.init(e,n),bt.init(e,n)});function J4(e){return QA(K4,e)}const X4=ie("ZodISODuration",(e,n)=>{FT.init(e,n),bt.init(e,n)});function Q4(e){return WA(X4,e)}const W4=(e,n)=>{tv.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:a=>M5(e,a)},flatten:{value:a=>I5(e,a)},addIssue:{value:a=>{e.issues.push(a),e.message=JSON.stringify(e.issues,Bh,2)}},addIssues:{value:a=>{e.issues.push(...a),e.message=JSON.stringify(e.issues,Bh,2)}},isEmpty:{get(){return e.issues.length===0}}})},Zn=ie("ZodError",W4,{Parent:Error}),eO=o0(Zn),tO=c0(Zn),nO=Uc(Zn),rO=Lc(Zn),aO=$5(Zn),sO=B5(Zn),iO=P5(Zn),lO=H5(Zn),oO=q5(Zn),cO=G5(Zn),uO=V5(Zn),dO=F5(Zn),xt=ie("ZodType",(e,n)=>(gt.init(e,n),Object.assign(e["~standard"],{jsonSchema:{input:kc(e,"input"),output:kc(e,"output")}}),e.toJSONSchema=_4(e,{}),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...a)=>e.clone(ga(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(a,i)=>xa(e,a,i),e.brand=()=>e,e.register=((a,i)=>(a.add(e,i),e)),e.parse=(a,i)=>eO(e,a,i,{callee:e.parse}),e.safeParse=(a,i)=>nO(e,a,i),e.parseAsync=async(a,i)=>tO(e,a,i,{callee:e.parseAsync}),e.safeParseAsync=async(a,i)=>rO(e,a,i),e.spa=e.safeParseAsync,e.encode=(a,i)=>aO(e,a,i),e.decode=(a,i)=>sO(e,a,i),e.encodeAsync=async(a,i)=>iO(e,a,i),e.decodeAsync=async(a,i)=>lO(e,a,i),e.safeEncode=(a,i)=>oO(e,a,i),e.safeDecode=(a,i)=>cO(e,a,i),e.safeEncodeAsync=async(a,i)=>uO(e,a,i),e.safeDecodeAsync=async(a,i)=>dO(e,a,i),e.refine=(a,i)=>e.check(sC(a,i)),e.superRefine=a=>e.check(iC(a)),e.overwrite=a=>e.check(wi(a)),e.optional=()=>Eb(e),e.exactOptional=()=>FO(e),e.nullable=()=>Tb(e),e.nullish=()=>Eb(Tb(e)),e.nonoptional=a=>QO(e,a),e.array=()=>Dr(e),e.or=a=>h0([e,a]),e.and=a=>BO(e,a),e.transform=a=>Ab(e,GO(a)),e.default=a=>KO(e,a),e.prefault=a=>XO(e,a),e.catch=a=>eC(e,a),e.pipe=a=>Ab(e,a),e.readonly=()=>rC(e),e.describe=a=>{const i=e.clone();return wl.add(i,{description:a}),i},Object.defineProperty(e,"description",{get(){var a;return(a=wl.get(e))==null?void 0:a.description},configurable:!0}),e.meta=(...a)=>{if(a.length===0)return wl.get(e);const i=e.clone();return wl.add(i,a[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=a=>a(e),e)),wv=ie("_ZodString",(e,n)=>{u0.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(i,o,u)=>j4(e,i,o);const a=e._zod.bag;e.format=a.format??null,e.minLength=a.minimum??null,e.maxLength=a.maximum??null,e.regex=(...i)=>e.check(l4(...i)),e.includes=(...i)=>e.check(u4(...i)),e.startsWith=(...i)=>e.check(d4(...i)),e.endsWith=(...i)=>e.check(h4(...i)),e.min=(...i)=>e.check(jc(...i)),e.max=(...i)=>e.check(pv(...i)),e.length=(...i)=>e.check(gv(...i)),e.nonempty=(...i)=>e.check(jc(1,...i)),e.lowercase=i=>e.check(o4(i)),e.uppercase=i=>e.check(c4(i)),e.trim=()=>e.check(m4()),e.normalize=(...i)=>e.check(f4(...i)),e.toLowerCase=()=>e.check(p4()),e.toUpperCase=()=>e.check(g4()),e.slugify=()=>e.check(x4())}),_v=ie("ZodString",(e,n)=>{u0.init(e,n),wv.init(e,n),e.email=a=>e.check(AA(hO,a)),e.url=a=>e.check(zA(fO,a)),e.jwt=a=>e.check(KA(TO,a)),e.emoji=a=>e.check(IA(mO,a)),e.guid=a=>e.check(vb(jb,a)),e.uuid=a=>e.check(OA(hc,a)),e.uuidv4=a=>e.check(CA(hc,a)),e.uuidv6=a=>e.check(RA(hc,a)),e.uuidv7=a=>e.check(DA(hc,a)),e.nanoid=a=>e.check(MA(pO,a)),e.guid=a=>e.check(vb(jb,a)),e.cuid=a=>e.check(UA(gO,a)),e.cuid2=a=>e.check(LA(xO,a)),e.ulid=a=>e.check($A(bO,a)),e.base64=a=>e.check(FA(kO,a)),e.base64url=a=>e.check(YA(SO,a)),e.xid=a=>e.check(BA(yO,a)),e.ksuid=a=>e.check(PA(vO,a)),e.ipv4=a=>e.check(HA(wO,a)),e.ipv6=a=>e.check(qA(_O,a)),e.cidrv4=a=>e.check(GA(NO,a)),e.cidrv6=a=>e.check(VA(jO,a)),e.e164=a=>e.check(ZA(EO,a)),e.datetime=a=>e.check(F4(a)),e.date=a=>e.check(Z4(a)),e.time=a=>e.check(J4(a)),e.duration=a=>e.check(Q4(a))});function ve(e){return EA(_v,e)}const bt=ie("ZodStringFormat",(e,n)=>{ot.init(e,n),wv.init(e,n)}),hO=ie("ZodEmail",(e,n)=>{zT.init(e,n),bt.init(e,n)}),jb=ie("ZodGUID",(e,n)=>{RT.init(e,n),bt.init(e,n)}),hc=ie("ZodUUID",(e,n)=>{DT.init(e,n),bt.init(e,n)}),fO=ie("ZodURL",(e,n)=>{IT.init(e,n),bt.init(e,n)}),mO=ie("ZodEmoji",(e,n)=>{MT.init(e,n),bt.init(e,n)}),pO=ie("ZodNanoID",(e,n)=>{UT.init(e,n),bt.init(e,n)}),gO=ie("ZodCUID",(e,n)=>{LT.init(e,n),bt.init(e,n)}),xO=ie("ZodCUID2",(e,n)=>{$T.init(e,n),bt.init(e,n)}),bO=ie("ZodULID",(e,n)=>{BT.init(e,n),bt.init(e,n)}),yO=ie("ZodXID",(e,n)=>{PT.init(e,n),bt.init(e,n)}),vO=ie("ZodKSUID",(e,n)=>{HT.init(e,n),bt.init(e,n)}),wO=ie("ZodIPv4",(e,n)=>{YT.init(e,n),bt.init(e,n)}),_O=ie("ZodIPv6",(e,n)=>{ZT.init(e,n),bt.init(e,n)}),NO=ie("ZodCIDRv4",(e,n)=>{KT.init(e,n),bt.init(e,n)}),jO=ie("ZodCIDRv6",(e,n)=>{JT.init(e,n),bt.init(e,n)}),kO=ie("ZodBase64",(e,n)=>{XT.init(e,n),bt.init(e,n)}),SO=ie("ZodBase64URL",(e,n)=>{WT.init(e,n),bt.init(e,n)}),EO=ie("ZodE164",(e,n)=>{eA.init(e,n),bt.init(e,n)}),TO=ie("ZodJWT",(e,n)=>{nA.init(e,n),bt.init(e,n)}),d0=ie("ZodNumber",(e,n)=>{dv.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(i,o,u)=>k4(e,i,o),e.gt=(i,o)=>e.check(_b(i,o)),e.gte=(i,o)=>e.check(xh(i,o)),e.min=(i,o)=>e.check(xh(i,o)),e.lt=(i,o)=>e.check(wb(i,o)),e.lte=(i,o)=>e.check(gh(i,o)),e.max=(i,o)=>e.check(gh(i,o)),e.int=i=>e.check(kb(i)),e.safe=i=>e.check(kb(i)),e.positive=i=>e.check(_b(0,i)),e.nonnegative=i=>e.check(xh(0,i)),e.negative=i=>e.check(wb(0,i)),e.nonpositive=i=>e.check(gh(0,i)),e.multipleOf=(i,o)=>e.check(Nb(i,o)),e.step=(i,o)=>e.check(Nb(i,o)),e.finite=()=>e;const a=e._zod.bag;e.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),e.isFinite=!0,e.format=a.format??null});function Rt(e){return e4(d0,e)}const AO=ie("ZodNumberFormat",(e,n)=>{rA.init(e,n),d0.init(e,n)});function kb(e){return n4(AO,e)}const OO=ie("ZodBoolean",(e,n)=>{aA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>S4(e,a,i)});function Sc(e){return r4(OO,e)}const CO=ie("ZodAny",(e,n)=>{sA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>T4()});function RO(){return a4(CO)}const DO=ie("ZodUnknown",(e,n)=>{iA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>A4()});function Sb(){return s4(DO)}const zO=ie("ZodNever",(e,n)=>{lA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>E4(e,a,i)});function IO(e){return i4(zO,e)}const MO=ie("ZodArray",(e,n)=>{oA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>D4(e,a,i,o),e.element=n.element,e.min=(a,i)=>e.check(jc(a,i)),e.nonempty=a=>e.check(jc(1,a)),e.max=(a,i)=>e.check(pv(a,i)),e.length=(a,i)=>e.check(gv(a,i)),e.unwrap=()=>e.element});function Dr(e,n){return b4(MO,e,n)}const UO=ie("ZodObject",(e,n)=>{uA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>z4(e,a,i,o),Ze(e,"shape",()=>n.shape),e.keyof=()=>ln(Object.keys(e._zod.def.shape)),e.catchall=a=>e.clone({...e._zod.def,catchall:a}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Sb()}),e.loose=()=>e.clone({...e._zod.def,catchall:Sb()}),e.strict=()=>e.clone({...e._zod.def,catchall:IO()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=a=>O5(e,a),e.safeExtend=a=>C5(e,a),e.merge=a=>R5(e,a),e.pick=a=>T5(e,a),e.omit=a=>A5(e,a),e.partial=(...a)=>D5(Nv,e,a[0]),e.required=(...a)=>z5(jv,e,a[0])});function Ut(e,n){const a={type:"object",shape:e??{},...je(n)};return new UO(a)}const LO=ie("ZodUnion",(e,n)=>{dA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>I4(e,a,i,o),e.options=n.options});function h0(e,n){return new LO({type:"union",options:e,...je(n)})}const $O=ie("ZodIntersection",(e,n)=>{hA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>M4(e,a,i,o)});function BO(e,n){return new $O({type:"intersection",left:e,right:n})}const PO=ie("ZodRecord",(e,n)=>{fA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>U4(e,a,i,o),e.keyType=n.keyType,e.valueType=n.valueType});function HO(e,n,a){return new PO({type:"record",keyType:e,valueType:n,...je(a)})}const Hh=ie("ZodEnum",(e,n)=>{mA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(i,o,u)=>O4(e,i,o),e.enum=n.entries,e.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));e.extract=(i,o)=>{const u={};for(const d of i)if(a.has(d))u[d]=n.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Hh({...n,checks:[],...je(o),entries:u})},e.exclude=(i,o)=>{const u={...n.entries};for(const d of i)if(a.has(d))delete u[d];else throw new Error(`Key ${d} not found in enum`);return new Hh({...n,checks:[],...je(o),entries:u})}});function ln(e,n){const a=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Hh({type:"enum",entries:a,...je(n)})}const qO=ie("ZodTransform",(e,n)=>{pA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>R4(e,a),e._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Ky(e.constructor.name);a.addIssue=u=>{if(typeof u=="string")a.issues.push(Il(u,a.value,n));else{const d=u;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=a.value),d.inst??(d.inst=e),a.issues.push(Il(d))}};const o=n.transform(a.value,a);return o instanceof Promise?o.then(u=>(a.value=u,a)):(a.value=o,a)}});function GO(e){return new qO({type:"transform",transform:e})}const Nv=ie("ZodOptional",(e,n)=>{mv.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>vv(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function Eb(e){return new Nv({type:"optional",innerType:e})}const VO=ie("ZodExactOptional",(e,n)=>{gA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>vv(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function FO(e){return new VO({type:"optional",innerType:e})}const YO=ie("ZodNullable",(e,n)=>{xA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>L4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function Tb(e){return new YO({type:"nullable",innerType:e})}const ZO=ie("ZodDefault",(e,n)=>{bA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>B4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function KO(e,n){return new ZO({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Wy(n)}})}const JO=ie("ZodPrefault",(e,n)=>{yA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>P4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function XO(e,n){return new JO({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Wy(n)}})}const jv=ie("ZodNonOptional",(e,n)=>{vA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>$4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function QO(e,n){return new jv({type:"nonoptional",innerType:e,...je(n)})}const WO=ie("ZodCatch",(e,n)=>{wA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>H4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function eC(e,n){return new WO({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const tC=ie("ZodPipe",(e,n)=>{_A.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>q4(e,a,i,o),e.in=n.in,e.out=n.out});function Ab(e,n){return new tC({type:"pipe",in:e,out:n})}const nC=ie("ZodReadonly",(e,n)=>{NA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>G4(e,a,i,o),e.unwrap=()=>e._zod.def.innerType});function rC(e){return new nC({type:"readonly",innerType:e})}const aC=ie("ZodCustom",(e,n)=>{jA.init(e,n),xt.init(e,n),e._zod.processJSONSchema=(a,i,o)=>C4(e,a)});function sC(e,n={}){return y4(aC,e,n)}function iC(e){return v4(e)}function lC(e){return TA(_v,e)}function Ct(e){return t4(d0,e)}const Mr=ve(),ui=ve();Ut({id:Mr,full_name:ve().optional(),avatar_url:ve().optional(),email:ve().email().optional(),updated_at:ui.optional()});const oC=Ut({limit:Rt().min(0),statementDay:Rt().min(1).max(31),paymentDueDay:Rt().min(1).max(31),apr:Rt().optional()}),cC=Ut({taxId:ve().optional(),entityType:ln(["LLC","Corp","Sole Prop","Partnership","Other"]),monthlyFee:Rt().optional(),overdraftLimit:Rt().optional()}),uC=Ut({id:Mr,name:ve(),type:ln(["checking","savings","credit","investment","crypto","business"]),balance:Ct(),initialBalance:Ct().nullable().default(0).transform(e=>e||0),currency:ve().default("USD"),last4:ve().nullable().default(null),color:ve().nullable().default("from-gray-500 to-gray-700").transform(e=>e||"from-gray-500 to-gray-700"),institution:ve().nullable().default("Unknown").transform(e=>e||"Unknown"),isFrozen:Sc().nullable().default(!1),creditDetails:oC.nullable().default(null).optional(),businessDetails:cC.nullable().default(null).optional(),linked_business_id:ve().nullable().default(null).optional()}),dC=Ut({id:Mr,category:ve(),limit:Ct().min(0),spent:Ct().nullable().default(0).transform(e=>e||0),color:ve().nullable().default("bg-gray-500").transform(e=>e||"bg-gray-500"),type:ln(["income","expense"]).optional()}),hC=Ut({id:Mr,name:ve(),targetAmount:Rt(),savedAmount:Rt(),deadline:ui.optional(),color:ve()}),fC=Ut({id:h0([ve(),Rt()]).nullable().default(()=>crypto.randomUUID()).transform(e=>e??crypto.randomUUID()),category:ve(),amount:Rt()}),mC=Ut({id:Mr,accountId:Mr,name:ve(),amount:lC(),numericAmount:Ct(),currency:ve().default("USD"),accountCurrency:ve().nullable().optional(),foreignAmount:Ct().nullable().default(0).transform(e=>e||0),exchangeRate:Ct().nullable().default(1).transform(e=>e||1),date:ui,category:ve(),splits:Dr(fC).nullable().optional(),description:ve().nullable().optional(),type:ln(["credit","debit"]),status:ln(["pending","completed"]).nullable().default("completed").transform(e=>e||"completed"),business_id:ve().nullable().optional(),isRecurring:Sc().nullable().optional(),recurringFrequency:ln(["daily","weekly","monthly","yearly"]).nullable().optional(),nextRecurringDate:ui.nullable().optional(),recurringEndDate:ui.nullable().optional()}),pC=Ut({id:Mr,business_id:ve(),metric_id:ve(),is_active:Sc(),weight:Ct().default(1),target_value:Ct().optional(),warning_threshold:Ct().optional(),critical_threshold:Ct().optional(),is_higher_better:Sc().default(!0),frequency:ln(["daily","weekly","monthly"]),definition:RO().optional()}),gC=Ut({id:Mr,name:ve(),type:ln(["store","channel","subsidiary","real_estate","service"]),parent_id:ve().nullable().optional(),customMetricsConfig:Dr(ve()).nullable().optional(),customMetricsValues:HO(ve(),Rt()).nullable().optional()}),xC=Ut({id:ve(),business_id:ve(),metric_id:ve(),period_start:ve(),period_end:ve(),value:Ct(),formatted_value:ve().optional(),status:ln(["healthy","warning","critical","neutral"]),score_contribution:Ct().optional(),confidence:Ct().optional()}),bC=Ut({id:Mr,name:ve(),ticker:ve().optional(),type:ln(["stock","etf","crypto","real_estate","bond","startup","commodity"]),strategy:ln(["passive","active"]),quantity:Ct(),costBasis:Ct(),currentPrice:Ct(),currentValue:Ct(),unrealizedPnL:Ct(),roiPercent:Ct(),currency:ve().default("USD"),lastUpdated:ui,notes:ve().optional()}),kv=T.createContext(void 0),yC=({children:e})=>{const{user:n}=pa(),[a,i]=T.useState([]),[o,u]=T.useState(!0);T.useEffect(()=>{if(!n){i([]),u(!1);return}(async()=>{u(!0);const{data:b,error:y}=await Oe.from("accounts").select("*").order("created_at",{ascending:!0});if(y)console.error("Error fetching accounts:",y);else{const _=(b||[]).map(N=>({...N,isFrozen:N.is_frozen,creditDetails:N.credit_details,businessDetails:N.business_details,linked_business_id:N.linked_business_id,balance:Number(N.balance)})),w=da(uC,_,[]);i(w)}u(!1)})()},[n]);const d=async x=>{const b=[...a];if(i(y=>[...y,x]),!!n)try{const y={id:x.id,user_id:n.id,name:x.name,type:x.type,balance:x.balance,currency:x.currency,institution:x.institution,color:x.color,is_frozen:x.isFrozen||!1,credit_details:x.creditDetails||null,business_details:x.businessDetails||null,linked_business_id:x.linked_business_id||null,last4:x.last4||null},{error:_}=await Oe.from("accounts").insert(y);if(_)throw _}catch(y){console.error("Error adding account:",y),i(b),alert("Failed to save account. Please check your connection.")}},f=async x=>{const b=[...a];if(i(y=>y.map(_=>_.id===x.id?x:_)),!!n)try{const y={name:x.name,type:x.type,balance:x.balance,currency:x.currency,institution:x.institution,color:x.color,is_frozen:x.isFrozen,credit_details:x.creditDetails,business_details:x.businessDetails,linked_business_id:x.linked_business_id,last4:x.last4},{error:_}=await Oe.from("accounts").update(y).eq("id",x.id);if(_)throw _}catch(y){console.error("Error updating account:",y),i(b)}},p=async x=>{const b=[...a];if(i(y=>y.filter(_=>_.id!==x)),!!n)try{const{error:y}=await Oe.from("accounts").delete().eq("id",x);if(y)throw y}catch(y){console.error("Error deleting account:",y),i(b)}},g=x=>i(x);return s.jsx(kv.Provider,{value:{accounts:a,addAccount:d,updateAccount:f,deleteAccount:p,refreshAccounts:g,loading:o},children:e})},_i=()=>{const e=T.useContext(kv);if(!e)throw new Error("useAccounts must be used within an AccountsProvider");return e},Sv=T.createContext(void 0),vC=({children:e})=>{const{user:n}=pa(),[a,i]=T.useState([]),[o,u]=T.useState(!0);T.useEffect(()=>{if(!n){i([]),u(!1);return}(async()=>{u(!0);const{data:b,error:y}=await Oe.from("transactions").select("*").order("date",{ascending:!1});if(y)console.error("Error fetching transactions:",y);else{const _=(b||[]).map(N=>({...N,accountId:N.account_id,numericAmount:Number(N.amount),business_id:N.business_id,isRecurring:N.is_recurring,recurringFrequency:N.recurring_frequency,nextRecurringDate:N.next_recurring_date,recurringEndDate:N.recurring_end_date,...N.metadata})),w=da(mC,_,[]);i(w)}u(!1)})()},[n]);const d=async x=>{const b=[...a];if(i(y=>[x,...y]),!!n)try{const y={id:x.id,user_id:n.id,account_id:x.accountId,name:x.name,amount:x.numericAmount,currency:x.currency,date:x.date,category:x.category,type:x.type,status:x.status,is_recurring:x.isRecurring,recurring_frequency:x.recurringFrequency,next_recurring_date:x.nextRecurringDate,recurring_end_date:x.recurringEndDate,business_id:x.business_id,metadata:{splits:x.splits,description:x.description,accountCurrency:x.accountCurrency,foreignAmount:x.foreignAmount,exchangeRate:x.exchangeRate}},{error:_}=await Oe.from("transactions").insert(y);if(_)throw _}catch(y){console.error("Error adding transaction:",y),i(b)}},f=async x=>{const b=[...a];if(i(y=>y.map(_=>_.id===x.id?x:_)),!!n)try{const y={account_id:x.accountId,name:x.name,amount:x.numericAmount,currency:x.currency,date:x.date,category:x.category,type:x.type,status:x.status,is_recurring:x.isRecurring,recurring_frequency:x.recurringFrequency,next_recurring_date:x.nextRecurringDate,recurring_end_date:x.recurringEndDate,business_id:x.business_id,metadata:{splits:x.splits,description:x.description,accountCurrency:x.accountCurrency,foreignAmount:x.foreignAmount,exchangeRate:x.exchangeRate}},{error:_}=await Oe.from("transactions").update(y).eq("id",x.id);if(_)throw _}catch(y){console.error("Error updating transaction:",y),i(b)}},p=async x=>{const b=[...a];if(i(y=>y.filter(_=>_.id!==x)),!n)return!1;try{const{error:y}=await Oe.from("transactions").delete().eq("id",x);if(y)throw y;return!0}catch(y){return console.error("Error deleting transaction:",y),i(b),!1}},g=x=>i(x);return s.jsx(Sv.Provider,{value:{transactions:a,addTransaction:d,updateTransaction:f,deleteTransaction:p,refreshTransactions:g,loading:o},children:e})},Ni=()=>{const e=T.useContext(Sv);if(!e)throw new Error("useTransactions must be used within a TransactionsProvider");return e},Ev=T.createContext(void 0);function wC({children:e}){const{user:n}=pa(),[a,i]=T.useState([]),[o,u]=T.useState([]),[d,f]=T.useState(!0),[p,g]=T.useState(null),x=async()=>{if(!n){i([]),u([]),f(!1);return}try{f(!0);const{data:S,error:O}=await Oe.from("budgets").select("*").eq("user_id",n.id);if(O)throw O;const I=(S||[]).map(Z=>({id:Z.id,category:Z.category,limit:Z.limit_amount,spent:0,color:Z.color,icon:Z.icon,type:Z.type})),D=da(dC,I,[]);i(D);const{data:z,error:C}=await Oe.from("goals").select("*").eq("user_id",n.id);if(C)throw C;const $=(z||[]).map(Z=>({id:Z.id,name:Z.name,targetAmount:Z.target_amount,savedAmount:Z.saved_amount,deadline:Z.deadline,color:Z.color,icon:Z.icon})),H=da(hC,$,[]);u(H)}catch(S){console.error("Error fetching budgets/goals:",S),g(S.message)}finally{f(!1)}};T.useEffect(()=>{x()},[n]);const A={budgets:a,goals:o,loading:d,error:p,addBudget:async S=>{if([...a],!!n)try{const{data:O,error:I}=await Oe.from("budgets").insert([{user_id:n.id,category:S.category,limit_amount:S.limit,color:S.color,icon:S.icon,type:S.type}]).select().single();if(I)throw I;const D={id:O.id,category:O.category,limit:O.limit_amount,color:O.color,icon:O.icon,type:O.type,spent:0};i(z=>[...z,D])}catch(O){console.error("Error adding budget:",O),g(O.message)}},updateBudget:async S=>{const O=[...a];if(i(I=>I.map(D=>D.id===S.id?{...S,spent:D.spent}:D)),!!n)try{const{error:I}=await Oe.from("budgets").update({category:S.category,limit_amount:S.limit,color:S.color,icon:S.icon,type:S.type}).eq("id",S.id);if(I)throw I}catch(I){console.error("Error updating budget:",I),g(I.message),i(O)}},deleteBudget:async S=>{const O=[...a];if(i(I=>I.filter(D=>D.id!==S)),!!n)try{const{error:I}=await Oe.from("budgets").delete().eq("id",S);if(I)throw I}catch(I){console.error("Error deleting budget:",I),g(I.message),i(O)}},addGoal:async S=>{if(n)try{const{data:O,error:I}=await Oe.from("goals").insert([{user_id:n.id,name:S.name,target_amount:S.targetAmount,saved_amount:S.savedAmount,deadline:S.deadline,color:S.color,icon:S.icon}]).select().single();if(I)throw I;const D={id:O.id,name:O.name,targetAmount:O.target_amount,savedAmount:O.saved_amount,deadline:O.deadline,color:O.color,icon:O.icon};u(z=>[...z,D])}catch(O){console.error("Error adding goal:",O),g(O.message)}},updateGoal:async S=>{const O=[...o];if(u(I=>I.map(D=>D.id===S.id?S:D)),!!n)try{const{error:I}=await Oe.from("goals").update({name:S.name,target_amount:S.targetAmount,saved_amount:S.savedAmount,deadline:S.deadline,color:S.color,icon:S.icon}).eq("id",S.id);if(I)throw I}catch(I){console.error("Error updating goal:",I),g(I.message),u(O)}},deleteGoal:async S=>{const O=[...o];if(u(I=>I.filter(D=>D.id!==S)),!!n)try{const{error:I}=await Oe.from("goals").delete().eq("id",S);if(I)throw I}catch(I){console.error("Error deleting goal:",I),g(I.message),u(O)}},refreshBudgets:x};return s.jsx(Ev.Provider,{value:A,children:e})}const Tv=()=>{const e=T.useContext(Ev);if(e===void 0)throw new Error("useBudgets must be used within a BudgetsProvider");return e},Av=T.createContext(void 0);function _C({children:e}){const{user:n}=pa(),[a,i]=T.useState([]),[o,u]=T.useState(!0),[d,f]=T.useState(null),p=async()=>{if(!n){i([]),u(!1);return}try{u(!0);const{data:w,error:N}=await Oe.from("investments").select("*").eq("user_id",n.id);if(N)throw N;const j=(w||[]).map(S=>({id:S.id,name:S.name,ticker:S.ticker,type:S.type,strategy:S.strategy,quantity:S.quantity,costBasis:S.cost_basis,currentPrice:S.current_price,currency:S.currency,lastUpdated:S.last_updated,notes:S.notes||"",currentValue:S.quantity*S.current_price,unrealizedPnL:S.quantity*S.current_price-S.quantity*S.cost_basis,roiPercent:S.cost_basis>0?(S.quantity*S.current_price-S.quantity*S.cost_basis)/(S.quantity*S.cost_basis)*100:0})),A=da(bC,j,[]);i(A)}catch(w){console.error("Error fetching investments:",w),f(w.message)}finally{u(!1)}};T.useEffect(()=>{p()},[n]);const _={investments:a,loading:o,error:d,addInvestment:async w=>{const N=[...a];if(i(j=>[...j,w]),!!n)try{const{data:j,error:A}=await Oe.from("investments").insert([{id:w.id,user_id:n.id,name:w.name,ticker:w.ticker,type:w.type,strategy:w.strategy,quantity:w.quantity,cost_basis:w.costBasis,current_price:w.currentPrice,currency:w.currency,notes:w.notes}]).select().single();if(A)throw A}catch(j){console.error("Error adding investment:",j),f(j.message),i(N)}},updateInvestment:async w=>{const N=[...a],j={...w,currentValue:w.quantity*w.currentPrice,unrealizedPnL:w.quantity*w.currentPrice-w.quantity*w.costBasis,roiPercent:w.costBasis>0?(w.quantity*w.currentPrice-w.quantity*w.costBasis)/(w.quantity*w.costBasis)*100:0};if(i(A=>A.map(S=>S.id===w.id?j:S)),!!n)try{const{error:A}=await Oe.from("investments").update({name:w.name,ticker:w.ticker,type:w.type,strategy:w.strategy,quantity:w.quantity,cost_basis:w.costBasis,current_price:w.currentPrice,currency:w.currency,notes:w.notes,last_updated:new Date().toISOString()}).eq("id",w.id);if(A)throw A}catch(A){console.error("Error updating investment:",A),f(A.message),i(N)}},deleteInvestment:async w=>{const N=[...a];if(i(j=>j.filter(A=>A.id!==w)),!!n)try{const{error:j}=await Oe.from("investments").delete().eq("id",w);if(j)throw j}catch(j){console.error("Error deleting investment:",j),f(j.message),i(N)}},refreshInvestments:p,refreshRealTimeQuotes:async()=>{if(!n||a.length===0)return;u(!0),[...a];const w=a.map(N=>{const A=1+(Math.random()*.04-.02),S=N.currentPrice*A;return{...N,currentPrice:S,currentValue:N.quantity*S,unrealizedPnL:N.quantity*S-N.quantity*N.costBasis,roiPercent:N.costBasis>0?(N.quantity*S-N.quantity*N.costBasis)/(N.quantity*N.costBasis)*100:0,lastUpdated:new Date().toISOString()}});i(w);try{const N=w.map(j=>Oe.from("investments").update({current_price:j.currentPrice,last_updated:j.lastUpdated}).eq("id",j.id));await Promise.all(N)}catch(N){console.error("Market data sync failed",N)}finally{u(!1)}}};return s.jsx(Av.Provider,{value:_,children:e})}const f0=()=>{const e=T.useContext(Av);if(e===void 0)throw new Error("useInvestments must be used within an InvestmentsProvider");return e},Ov=T.createContext(void 0),Gn={PIN_HASH:"aurum_security_pin",BIOMETRICS_ENABLED:"aurum_security_bio",CREDENTIAL_ID:"aurum_security_cred_id",LOCK_TIMEOUT:"aurum_security_timeout"};function NC({children:e}){const[n,a]=T.useState(()=>{const D=!!localStorage.getItem(Gn.PIN_HASH),z=sessionStorage.getItem("aurum_unlocked")==="true";return D&&!z}),[i,o]=T.useState(!1),[u,d]=T.useState(()=>!!localStorage.getItem(Gn.PIN_HASH)),[f,p]=T.useState(!1),[g,x]=T.useState(null);T.useEffect(()=>{const D=localStorage.getItem(Gn.BIOMETRICS_ENABLED)==="true";p(D)},[]);const b=async D=>{const z=new TextEncoder().encode(D),C=await crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(C)).map(Z=>Z.toString(16).padStart(2,"0")).join("")},y=async D=>{const z=await b(D);localStorage.setItem(Gn.PIN_HASH,z),d(!0),o(!0),a(!1),sessionStorage.setItem("aurum_unlocked","true")},_=async D=>{const z=localStorage.getItem(Gn.PIN_HASH);return z&&await b(D)===z?(o(!0),a(!1),sessionStorage.setItem("aurum_unlocked","true"),!0):!1},w=()=>{u&&(a(!0),o(!1),sessionStorage.removeItem("aurum_unlocked"))},N=()=>{a(!1),o(!0),sessionStorage.setItem("aurum_unlocked","true")},j=D=>{const z=D.replace(/-/g,"+").replace(/_/g,"/"),C=(4-z.length%4)%4,$=z+"=".repeat(C),H=atob($),Z=new Uint8Array(H.length);for(let ae=0;ae<H.length;ae++)Z[ae]=H.charCodeAt(ae);return Z.buffer},A=()=>crypto.getRandomValues(new Uint8Array(32)),S=async()=>{if(!window.PublicKeyCredential)return!1;try{const D=localStorage.getItem(Gn.CREDENTIAL_ID),z=D?[{type:"public-key",id:j(D),transports:["internal","hybrid"]}]:[];if(await navigator.credentials.get({publicKey:{challenge:A(),allowCredentials:z.length>0?z:void 0,userVerification:"preferred",timeout:6e4}}))return o(!0),a(!1),sessionStorage.setItem("aurum_unlocked","true"),x(null),!0}catch(D){console.error("Biometric verification failed",D),D.name==="NotAllowedError"?x("Biometrics Canceled or Timed Out"):D.name==="NotSupportedError"?x("Biometrics Not Supported"):x(`${D.name}: ${D.message}`)}return!1},O=async D=>{if(D){if(!window.isSecureContext){const z=`Security Error: Biometrics REQUIRE a secure connection (HTTPS).
You are currently on: ${window.location.protocol}//${window.location.hostname}
Please use an HTTPS connection or localhost.`;alert(z),x("Insecure Context (HTTP)");return}if(!window.PublicKeyCredential){alert("Biometrics not supported on this device/browser.");return}try{const z=await navigator.credentials.create({publicKey:{challenge:A(),rp:{name:"AurumWolf"},user:{id:crypto.getRandomValues(new Uint8Array(16)),name:"user@aurumwolf.app",displayName:"AurumWolf User"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"preferred",requireResidentKey:!1},timeout:6e4,attestation:"none"}});z&&(localStorage.setItem(Gn.CREDENTIAL_ID,z.id),p(!0),localStorage.setItem(Gn.BIOMETRICS_ENABLED,"true"))}catch(z){console.error("Biometric enrollment failed",z),x(`Enrollment: ${z.name} - ${z.message}`),alert(`Biometric Setup Failed: ${z.name} - ${z.message}`);return}}else p(!1),x(null),localStorage.setItem(Gn.BIOMETRICS_ENABLED,"false"),localStorage.removeItem(Gn.CREDENTIAL_ID)},I=()=>{localStorage.removeItem(Gn.PIN_HASH),localStorage.removeItem(Gn.BIOMETRICS_ENABLED),d(!1),a(!1),a(!1),p(!1),x(null),o(!0)};return T.useEffect(()=>{let D;const z=()=>{document.visibilityState==="hidden"?u&&!n&&(D=setTimeout(()=>{w()},5e3)):D&&clearTimeout(D)};return document.addEventListener("visibilitychange",z),()=>{document.removeEventListener("visibilitychange",z),D&&clearTimeout(D)}},[u,n]),s.jsx(Ov.Provider,{value:{isLocked:n,isAuthenticated:i,hasPin:u,biometricsEnabled:f,setupPin:y,verifyPin:_,unlock:N,lock:w,toggleBiometrics:O,removePin:I,verifyBiometrics:S,lastBiometricError:g},children:e})}const $l=()=>{const e=T.useContext(Ov);if(!e)throw new Error("useSecurity must be used within SecurityProvider");return e},jC=({data:e})=>{const n=Math.max(...e.map(a=>Math.max(a.income,a.expense,100)));return s.jsx("div",{className:"h-40 sm:h-48 flex items-end justify-between gap-1 sm:gap-2 group px-1 sm:px-2",children:e.map((a,i)=>{const o=a.income/n*100,u=a.expense/n*100;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-1 h-full relative group/bar",children:[s.jsxs("div",{className:"absolute bottom-full mb-3 opacity-0 group-hover/bar:opacity-100 transition-all duration-300 translate-y-2 group-hover/bar:translate-y-0 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md border border-neutral-200/50 dark:border-white/10 text-neutral-900 dark:text-white text-[10px] p-2.5 rounded-xl shadow-xl pointer-events-none z-20 whitespace-nowrap",children:[s.jsx("div",{className:"font-bold mb-1 opacity-50 uppercase tracking-wider text-[8px]",children:a.displayDate}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-mono text-emerald-600 dark:text-emerald-400",children:a.displayIncome})}),s.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:s.jsx("span",{className:"font-mono text-rose-600 dark:text-rose-400",children:a.displayExpense})})]}),s.jsxs("div",{className:"w-full flex gap-1 items-end h-full px-1",children:[s.jsx("div",{className:"w-full bg-gradient-to-t from-emerald-500/20 to-emerald-400 rounded-t-md transition-all duration-500 hover:brightness-110 shadow-[0_0_10px_rgba(52,211,153,0.3)]",style:{height:`${Math.max(o,4)}%`}}),s.jsx("div",{className:"w-full bg-gradient-to-t from-rose-500/20 to-rose-400 rounded-t-md transition-all duration-500 hover:brightness-110 shadow-[0_0_10px_rgba(251,113,133,0.3)]",style:{height:`${Math.max(u,4)}%`}})]})]},i)})})},kC=[{id:"1",type:"alert",title:"Spending Spike",message:"Travel expenses are +45% higher than your monthly average.",action:"Review",icon:Ir},{id:"2",type:"opportunity",title:"Optimize Cash",message:"You have significant idle cash. Consider moving funds to a HYSA.",action:"Move",icon:gi}];function SC(e){const n=atob(e),a=n.length,i=new Uint8Array(a);for(let o=0;o<a;o++)i[o]=n.charCodeAt(o);return i}async function EC(e,n,a,i){const o=new Int16Array(e.buffer),u=o.length/i,d=n.createBuffer(i,u,a);for(let f=0;f<i;f++){const p=d.getChannelData(f);for(let g=0;g<u;g++)p[g]=o[g*i+f]/32768}return d}const TC=({netWorth:e,onNavigate:n,privacyMode:a=!1,baseCurrency:i="USD",t:o,language:u="en",assetsByType:d,monthlySurplus:f,budgetMetrics:p,healthScore:g,spendingTrend:x,chartData:b,upcomingBills:y,healthBreakdown:_})=>{const{accounts:w}=_i(),{transactions:N}=Ni(),{budgets:j}=Tv(),{investments:A}=f0(),{profile:S}=pa(),{hasPin:O}=$l(),I=(S==null?void 0:S.full_name)||"User",D=u==="es"?"es-MX":"en-US",[z,C]=T.useState(!1),[$,H]=T.useState(!1),[Z,ae]=T.useState(!1),[pe,ce]=T.useState(!1),[ue,me]=T.useState(kC);T.useEffect(()=>{O||me(E=>E.find(P=>P.id==="security-warning")?E:[{id:"security-warning",type:"alert",title:o("settings.security"),message:"App is unlocked. Set a PIN to enable Auto-Lock.",action:"Setup",icon:mi},...E])},[O,o]);const U=T.useRef(null),B=T.useRef(null),ne=e,de=async()=>{C(!0);try{const{aiClient:E}=await Ka(async()=>{const{aiClient:te}=await Promise.resolve().then(()=>Ja);return{aiClient:te}},void 0,import.meta.url),P={baseCurrency:i,netWorth:ne,assets:d,healthScore:g,recentSpending:b.map(te=>({day:te.fullLabel,amount:te.value})),upcomingBills:y.map(te=>({name:te.name,amount:te.numericAmount,due:te.nextRecurringDate}))},G=(await E.generateContent("gemini-2.0-flash",[{role:"user",parts:[{text:`As a top-tier financial advisor, analyze this snapshot (values in ${i}) and provide 2-3 brief, high-impact executable insights.
                        Focus on immediate optimization (cash flow, liquidity, savings).
                        Format as JSON array of objects with keys: id, type (alert|opportunity|info), title, message (max 12 words), action (short label).
                        Data: ${JSON.stringify(P)}`}]}],{responseMimeType:"application/json"})).text();if(G)try{const te=JSON.parse(G),X=Array.isArray(te)?te.map((L,Q)=>({id:L.id||`ai-${Q}`,type:["alert","opportunity","info"].includes(L.type)?L.type:"info",title:L.title||"Insight",message:L.message||"Review your recent financial activity.",action:L.action||"View",icon:L.type==="alert"?Ir:L.type==="opportunity"?gi:Nl})):[];X.length>0&&me(X)}catch(te){console.error("Failed to parse AI response",te),alert("AI Response invalid format")}}catch(E){console.error("AI Analysis Failed:",E),E.code==="QUOTA_EXCEEDED"?alert(" AI is busy (Quota Exceeded). Please wait 30s and try again."):E.code==="UNAUTHORIZED"?alert("Please log in again to use AI features."):alert(`AI Analysis Failed: ${E.message||"Unknown error"}. Check API Key or Connection.`)}finally{C(!1)}},oe=async()=>{var E,P,Y,G,te,X;if($){B.current&&(B.current.stop(),B.current=null),H(!1);return}H(!0);try{const L=ue.map(ge=>`${ge.title}: ${ge.message}`).join(". "),Q=`Here is your Aurum Wolf briefing. Current Net Worth is ${be(ne,i,{locale:D})}. ${L||"No urgent alerts at this time."} Have a prosperous day.`,{aiClient:fe}=await Ka(async()=>{const{aiClient:ge}=await Promise.resolve().then(()=>Ja);return{aiClient:ge}},void 0,import.meta.url),he=await fe.generateContent("gemini-2.0-flash",[{parts:[{text:`Generate spoken audio for this text: "${Q}"`}]}],{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Fenrir"}}}});let ye;if(typeof he.audioData=="function"?ye=he.audioData():ye=(X=(te=(G=(Y=(P=(E=he.candidates)==null?void 0:E[0])==null?void 0:P.content)==null?void 0:Y.parts)==null?void 0:G.find(ge=>ge.inlineData))==null?void 0:te.inlineData)==null?void 0:X.data,ye){const ge=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});U.current=ge;const _e=await EC(SC(ye),ge,24e3,1),Re=ge.createBufferSource();Re.buffer=_e,Re.connect(ge.destination),Re.start(),B.current=Re,Re.onended=()=>H(!1)}else console.warn("No audio data received"),H(!1)}catch(L){console.error("TTS Failed",L),H(!1)}};return T.useEffect(()=>()=>{B.current&&B.current.stop(),U.current&&U.current.close()},[]),s.jsxs(s.Fragment,{children:[s.jsx(v5,{isOpen:pe,onClose:()=>ce(!1),breakdown:_,t:o}),s.jsxs("div",{className:"relative min-h-screen pb-20 md:pb-0",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-gold-500/10 rounded-full blur-[120px] mix-blend-screen opacity-50 dark:opacity-20 animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px] mix-blend-screen opacity-50 dark:opacity-20"}),s.jsx("div",{className:"absolute top-[20%] left-[15%] w-[300px] h-[300px] bg-purple-500/10 rounded-full blur-[80px] mix-blend-screen opacity-30 dark:opacity-10"})]}),s.jsxs("div",{className:"relative z-10 animate-fade-in px-4 md:px-8 max-w-[1600px] mx-auto space-y-8 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-white tracking-tight",children:[o("dashboard.welcomeBack"),", ",I==null?void 0:I.split(" ")[0]]}),s.jsxs("p",{className:"text-sm text-neutral-500 font-medium mt-1 flex items-center gap-2",children:[s.jsx(qa,{size:14}),new Date().toLocaleDateString(D,{weekday:"long",month:"long",day:"numeric"})]})]}),s.jsx("button",{onClick:de,disabled:z,className:"p-3 rounded-full bg-white/50 dark:bg-neutral-800/50 backdrop-blur-md border border-white/20 dark:border-white/10 text-gold-500 shadow-lg shadow-gold-500/10 transition-all hover:scale-105 active:scale-95 group hover:border-gold-500/30",children:z?s.jsx(Fn,{size:24,className:"animate-spin"}):s.jsx(Nl,{size:24,className:"group-hover:text-gold-400 transition-colors"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-12 gap-4 md:gap-6 xl:gap-8",children:[s.jsxs("div",{className:"md:col-span-2 xl:col-span-8 relative overflow-hidden p-4 md:p-8 rounded-[1.5rem] md:rounded-[2.5rem] glass shadow-2xl flex flex-col justify-between min-h-[300px] md:min-h-[340px] group transition-transform hover:scale-[1.005]",children:[s.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.05] group-hover:opacity-[0.08] transition-opacity duration-700",children:s.jsx(mi,{size:400,className:"text-neutral-900 dark:text-white transform rotate-12 translate-x-20 -translate-y-20"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold-500/10 via-transparent to-transparent opacity-100 pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 opacity-20 dark:opacity-10 mix-blend-overlay pointer-events-none",style:{backgroundImage:"radial-gradient(at 20% 20%, rgba(255,215,0,0.1) 0px, transparent 50%), radial-gradient(at 80% 0%, rgba(52,211,153,0.1) 0px, transparent 50%), radial-gradient(at 0% 50%, rgba(251,113,133,0.1) 0px, transparent 50%)"}}),s.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row justify-between items-start gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-bold text-gold-600 dark:text-gold-500 uppercase tracking-[0.3em] mb-3 flex items-center gap-2",children:[s.jsx(ur,{size:12})," ",o("dashboard.netWorth")]}),s.jsx("span",{className:"text-4xl sm:text-6xl xl:text-8xl font-display font-bold text-neutral-900 dark:text-white tracking-tighter block leading-none break-all sm:break-normal",children:be(ne,i,{privacy:a,locale:D})})]}),s.jsxs("div",{className:"bg-white/50 dark:bg-white/5 backdrop-blur-xl pl-2 pr-5 py-2 rounded-2xl border border-neutral-200/50 dark:border-white/10 flex items-center gap-3 shadow-sm dark:shadow-2xl",children:[s.jsx("div",{className:`p-3 rounded-xl ${f>=0?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":"bg-rose-500/10 text-rose-600 dark:text-rose-400"}`,children:f>=0?s.jsx(ha,{size:24}):s.jsx(Va,{size:24})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:[f>=0?"+":"",be(f,i,{locale:D})]}),s.jsx("p",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 uppercase tracking-wider font-medium",children:o("dashboard.thisMonth")})]})]})]}),s.jsxs("div",{className:"relative z-10 w-full bg-gradient-to-br from-white/60 to-white/30 dark:from-white/10 dark:to-white/5 backdrop-blur-xl rounded-[1.5rem] p-6 border border-white/40 dark:border-white/10 mt-auto shadow-lg ring-1 ring-white/20 dark:ring-white/5",children:[s.jsxs("div",{className:"flex justify-between items-end mb-5",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-[10px] font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-widest mb-2 flex items-center gap-1.5",children:[s.jsx(On,{size:12,className:"text-gold-500"}),o("dashboard.safeToSpend")]}),s.jsx("p",{className:"text-4xl font-display font-bold text-neutral-900 dark:text-white tracking-tighter drop-shadow-sm",children:be(p.leftToSpend,i,{privacy:a,locale:D})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`px-3 py-1.5 rounded-full text-[10px] font-bold mb-2 shadow-lg backdrop-blur-md border border-white/10 ${p.progress>100?"bg-rose-500 text-white shadow-rose-500/20":"bg-emerald-500 text-white shadow-emerald-500/20"}`,children:p.progress>100?o("dashboard.overBudget"):o("dashboard.onTrack")}),s.jsxs("p",{className:"text-[10px] font-medium text-neutral-500 dark:text-neutral-400",children:[Math.round(p.progress),"% ",o("dashboard.consumed")]})]})]}),s.jsx("div",{className:"w-full bg-black/5 dark:bg-white/5 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-1000 relative shadow-sm ${p.progress>90?"bg-gradient-to-r from-rose-500 to-rose-400":p.progress>75?"bg-gradient-to-r from-orange-500 to-orange-400":"bg-gradient-to-r from-emerald-500 to-emerald-400"}`,style:{width:`${Math.min(100,p.progress)}%`},children:s.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse-slow"})})})]})]}),s.jsxs("div",{onClick:()=>ce(!0),className:"md:col-span-2 xl:col-span-4 glass rounded-[1.5rem] md:rounded-[2.5rem] p-4 md:p-8 relative overflow-hidden shadow-2xl flex flex-col justify-between group hover:border-gold-500/20 transition-all duration-500 cursor-pointer active:scale-[0.98]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-transparent dark:from-white/5 pointer-events-none"}),s.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-gold-500",children:s.jsx(Qb,{size:20})}),s.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider flex items-center gap-2 mb-2",children:[s.jsx(kN,{size:14,className:"text-gold-500"})," ",o("dashboard.aurumScore")]}),s.jsx("p",{className:"text-[10px] text-neutral-500 font-medium bg-neutral-100 dark:bg-neutral-800 px-2 py-1 rounded-lg inline-block",children:o("dashboard.finHealthIndex")})]}),s.jsx("span",{className:`text-7xl font-display font-bold tracking-tighter drop-shadow-sm ${_.isNew?"text-neutral-600 dark:text-neutral-500":g>=80?"text-emerald-500":g>=60?"text-gold-500":"text-rose-500"}`,children:_.isNew?"":g})]}),s.jsxs("div",{className:"relative z-10 mt-8",children:[s.jsx("div",{className:"w-full bg-neutral-100 dark:bg-neutral-800 h-6 rounded-full overflow-hidden mb-4 border border-neutral-200 dark:border-neutral-700 p-1",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-1000 shadow-sm ${_.isNew?"bg-neutral-500":g>=80?"bg-gradient-to-r from-emerald-500 to-emerald-400":g>=60?"bg-gradient-to-r from-gold-500 to-gold-400":"bg-gradient-to-r from-rose-500 to-rose-400"}`,style:{width:`${_.isNew?0:g}%`}})}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 leading-relaxed font-medium",children:_.isNew?o("dashboard.scoreDetail.pending"):g>=80?o("dashboard.healthExcellent"):g>=60?o("dashboard.healthGood"):o("dashboard.healthPoor")})]})]}),s.jsxs("div",{className:"md:col-span-1 xl:col-span-3 glass rounded-[1.5rem] md:rounded-[2.5rem] p-5 md:p-8 shadow-xl flex flex-col justify-center group hover:border-gold-500/20 transition-colors duration-500",children:[s.jsx("h3",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider mb-6 ml-1",children:o("dashboard.quickActions")}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 h-full",children:[s.jsxs("button",{onClick:()=>n("scan"),className:"col-span-2 flex flex-row items-center justify-between px-6 py-4 rounded-[2rem] bg-gradient-to-r from-gold-500 to-gold-400 text-white shadow-xl shadow-gold-500/20 transition-all hover:scale-[1.02] active:scale-95 group/btn relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover/btn:translate-y-0 transition-transform duration-500 ease-out"}),s.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-full backdrop-blur-sm",children:s.jsx(Tc,{size:24,strokeWidth:2})}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"block text-xs font-bold uppercase tracking-wider opacity-90",children:o("common.scan")}),s.jsx("span",{className:"block text-sm font-bold",children:"Receipt / Invoice"})]})]}),s.jsx(Fa,{size:20,className:"relative z-10 group-hover/btn:translate-x-1 transition-transform"})]}),s.jsxs("button",{onClick:()=>n("transactions",{action:"newTransaction"}),className:"flex flex-col items-center justify-center gap-2 p-4 rounded-[2rem] bg-white dark:bg-neutral-800 border border-neutral-100 dark:border-neutral-700 text-neutral-900 dark:text-white transition-all hover:border-gold-500/50 hover:shadow-lg active:scale-95 group/btn hover:bg-neutral-50 dark:hover:bg-neutral-750",children:[s.jsx(Jt,{size:24,strokeWidth:2,className:"group-hover/btn:text-gold-500 transition-colors"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:o("common.add")})]}),s.jsxs("button",{onClick:()=>n("accounts"),className:"flex flex-col items-center justify-center gap-2 p-4 rounded-[2rem] bg-white dark:bg-neutral-800 border border-neutral-100 dark:border-neutral-700 text-neutral-900 dark:text-white transition-all hover:border-gold-500/50 hover:shadow-lg active:scale-95 group/btn hover:bg-neutral-50 dark:hover:bg-neutral-750",children:[s.jsx(p_,{size:24,strokeWidth:2,className:"group-hover/btn:text-gold-500 transition-colors"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:o("common.transfer")})]}),s.jsxs("button",{onClick:()=>n("budget"),className:"flex flex-col items-center justify-center gap-2 p-4 rounded-[2rem] bg-white dark:bg-neutral-800 border border-neutral-100 dark:border-neutral-700 text-neutral-900 dark:text-white transition-all hover:border-gold-500/50 hover:shadow-lg active:scale-95 group/btn hover:bg-neutral-50 dark:hover:bg-neutral-750",children:[s.jsx(tr,{size:24,strokeWidth:2,className:"group-hover/btn:text-gold-500 transition-colors"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:o("nav.budget")})]}),s.jsxs("button",{onClick:()=>ae(!0),className:"flex flex-col items-center justify-center gap-2 p-4 rounded-[2rem] bg-white dark:bg-neutral-800 border border-neutral-100 dark:border-neutral-700 text-neutral-900 dark:text-white transition-all hover:border-gold-500/50 hover:shadow-lg active:scale-95 group/btn hover:bg-neutral-50 dark:hover:bg-neutral-750",children:[s.jsx(Za,{size:24,strokeWidth:2,className:"group-hover/btn:text-gold-500 transition-colors"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:o("dashboard.currency")||"Convert"})]})]})]}),s.jsxs("div",{className:"md:col-span-1 xl:col-span-5 glass rounded-[1.5rem] md:rounded-[2.5rem] p-5 md:p-8 relative overflow-hidden shadow-xl flex flex-col group hover:border-gold-500/20 transition-colors duration-500",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gold-500/10 rounded-full blur-3xl pointer-events-none"}),s.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-gold-500/10 text-gold-600 dark:text-gold-500",children:s.jsx(Nl,{size:20,className:`${z?"animate-pulse":""}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-wider",children:o("dashboard.wealthAi")}),s.jsx("p",{className:"text-[10px] text-neutral-500 font-medium",children:o("dashboard.savingsRadar")})]})]}),s.jsx("button",{onClick:oe,className:`p-2 rounded-full transition-all border ${$?"bg-gold-500 text-white border-gold-500 shadow-lg shadow-gold-500/20 animate-pulse":"bg-transparent border-neutral-200 dark:border-neutral-800 text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:border-neutral-400"}`,children:$?s.jsx(qb,{size:18}):s.jsx(O2,{size:18})})]}),s.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 custom-scrollbar relative z-10",children:ue.slice(0,2).map(E=>s.jsx("div",{className:"bg-white/50 dark:bg-neutral-800/50 backdrop-blur-sm border border-neutral-200/50 dark:border-neutral-700/50 p-4 rounded-2xl shadow-sm hover:bg-white/80 dark:hover:bg-neutral-800 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`mt-1 min-w-[24px] h-6 rounded-lg flex items-center justify-center ${E.type==="alert"?"bg-rose-500/10 text-rose-500":"bg-gold-500/10 text-gold-600 dark:text-gold-500"}`,children:s.jsx(E.icon,{size:14})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:E.title}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1 leading-relaxed",children:E.message}),E.action&&s.jsxs("button",{onClick:()=>{E.action==="Setup"&&n&&n("settings"),E.action==="Review"&&n&&n("transactions")},className:"mt-3 text-[10px] font-bold uppercase tracking-wider text-gold-600 dark:text-gold-500 hover:text-gold-700 dark:hover:text-gold-400 flex items-center gap-1 group/act",children:[E.action==="Setup"?o("settings.security"):o("common.view")," ",s.jsx(Fa,{size:12,className:"group-hover/act:translate-x-1 transition-transform"})]})]})]})},E.id))}),s.jsx("button",{onClick:de,disabled:z,className:"relative z-10 w-full mt-6 py-3 rounded-2xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 text-xs font-bold text-neutral-600 dark:text-neutral-400 hover:text-gold-600 dark:hover:text-white hover:border-gold-500/50 transition-all flex items-center justify-center gap-2 shadow-sm hover:shadow-md group/btn",children:z?s.jsxs(s.Fragment,{children:[s.jsx(Fn,{size:14,className:"animate-spin"}),s.jsx("span",{children:o("dashboard.analyzing")})]}):s.jsxs(s.Fragment,{children:[s.jsx(gi,{size:14,className:"group-hover/btn:text-gold-500 transition-colors"}),s.jsx("span",{children:o("dashboard.analyze")})]})})]}),s.jsxs("div",{className:"md:col-span-2 xl:col-span-4 glass rounded-[1.5rem] md:rounded-[2.5rem] p-5 md:p-8 shadow-xl flex flex-col group hover:border-gold-500/20 transition-colors duration-500",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(qa,{size:14,className:"text-gold-500"})," ",o("dashboard.upcoming")]}),s.jsx("button",{className:"text-[10px] font-bold text-gold-500 hover:underline",children:o("dashboard.viewAll")})]}),s.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:y.length>0?y.map(E=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/40 dark:bg-black/20 rounded-2xl border border-white/20 dark:border-white/5 hover:border-gold-500/30 transition-colors group/bill",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-12 h-12 rounded-2xl bg-white dark:bg-neutral-800 flex flex-col items-center justify-center border border-neutral-100 dark:border-neutral-700 shadow-sm group-hover/bill:scale-105 transition-transform",children:[s.jsx("span",{className:"text-lg font-bold text-neutral-900 dark:text-white leading-none",children:new Date(E.nextRecurringDate).getDate()}),s.jsx("span",{className:"text-[8px] font-bold text-gold-500 uppercase",children:new Date(E.nextRecurringDate).toLocaleString("default",{month:"short"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white truncate max-w-[120px]",children:E.name}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),s.jsx("p",{className:"text-[10px] text-neutral-500",children:o("dashboard.autoPay")})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white font-mono",children:be(E.numericAmount,E.currency||i,{privacy:a,locale:D})}),s.jsx("button",{onClick:()=>n("transactions",{action:"payRecurring",transactionId:E.id}),className:"text-[10px] font-bold text-gold-600 dark:text-gold-500 hover:underline mt-1",children:o("dashboard.payNow")})]})]},E.id)):s.jsxs("div",{className:"text-center py-10 text-neutral-400 text-xs text-italic flex flex-col items-center justify-center gap-2",children:[s.jsx("div",{className:"p-3 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-300",children:s.jsx(qa,{size:20})}),o("dashboard.noBills")]})})]}),s.jsxs("div",{className:"md:col-span-2 xl:col-span-8 glass rounded-[1.5rem] md:rounded-[2.5rem] p-5 md:p-8 shadow-xl hover:border-gold-500/20 transition-colors duration-500",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("div",{children:s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(On,{size:18,className:"text-gold-500"})," ",o("dashboard.flow")]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/30 backdrop-blur-md px-4 py-2 rounded-full border border-neutral-200/50 dark:border-white/5",children:[x.percent>0?s.jsx(Pt,{size:16,className:"text-rose-500"}):s.jsx(mc,{size:16,className:"text-emerald-500"}),s.jsxs("span",{className:`text-xs font-bold ${x.percent>0?"text-rose-500":"text-emerald-500"}`,children:[Math.abs(Math.round(x.percent)),"% ",x.percent>0?o("dashboard.more"):o("dashboard.less")]}),s.jsx("span",{className:"text-[10px] text-neutral-400 font-medium",children:o("dashboard.vsLastMonth")})]}),s.jsx("div",{className:"px-4 py-2 text-xs font-bold text-neutral-900 dark:text-white bg-white/80 dark:bg-neutral-800 rounded-xl shadow-sm border border-neutral-100 dark:border-neutral-700",children:o("common.last30Days")})]})]}),s.jsx("div",{className:"h-[280px]",children:s.jsx(jC,{data:b})})]}),s.jsx("div",{className:"md:col-span-2 xl:col-span-4 xl:row-span-2 h-full",children:s.jsx(y5,{transactions:N,baseCurrency:i,period:30,t:o})}),s.jsx("div",{className:"md:col-span-2 xl:col-span-8 glass rounded-[1.5rem] md:rounded-[2.5rem] p-2 shadow-xl hover:border-gold-500/20 transition-colors duration-500",children:s.jsx(b5,{transactions:N,baseCurrency:i,onViewAll:()=>n("transactions"),privacyMode:a})})]})]})]}),s.jsx(g5,{isOpen:Z,onClose:()=>ae(!1),baseCurrency:i,t:o,language:u})]})},xl=(e,n,a)=>e.filter(i=>i.type===n&&(!a||i.category===a)).reduce((i,o)=>i+o.numericAmount,0),Cv=(e,n)=>{const a=xl(n,"credit"),i=xl(n,"debit");switch(e){case"revenue":return a;case"expenses":return i;case"net_profit":return a-i;case"gross_profit":const o=xl(n,"debit","Inventory")+xl(n,"debit","COGS");return a-o;case"gross_margin":const u=Cv("gross_profit",n);return a>0?u/a*100:0;case"net_margin":const d=a-i;return a>0?d/a*100:0;case"aov":const f=n.filter(g=>g.type==="credit").length;return f>0?a/f:0;case"refund_rate":const p=xl(n,"debit","Refund");return a>0?p/a*100:0;default:return 0}},AC=(e,n)=>{const{target_value:a,warning_threshold:i,critical_threshold:o,is_higher_better:u}=n;if(a===void 0||i===void 0)return{status:"neutral",score:100};let d="healthy",f=100;if(u)if(e>=a)d="healthy",f=100;else if(e>=i){d="warning";const p=a-i;f=50+(e-i)/p*50}else{d="critical";const p=o||0;if(e<p)f=0;else{const g=i-p;f=(e-p)/g*50}}else if(e<=a)d="healthy",f=100;else if(e<=i){d="warning";const p=i-a;f=50+(i-e)/p*50}else{d="critical";const p=o||i*2;if(e>p)f=0;else{const g=p-i;f=(p-e)/g*50}}return{status:d,score:Math.round(f)}},OC=e=>{var d;let n=0,a=0;const i=[];e.forEach(f=>{if(!f.config.is_active)return;const p=AC(f.currentVal,f.config),g=f.config.weight||1;a+=p.score*g,n+=g,p.score<70&&i.push({id:f.config.metric_id,score:p.score})});const o=n>0?Math.round(a/n):100;let u="healthy";return o<50?u="critical":o<80&&(u="at_risk"),{id:crypto.randomUUID(),business_id:((d=e[0])==null?void 0:d.config.business_id)||"",period_start:new Date().toISOString(),period_end:new Date().toISOString(),overall_score:o,status:u,trend:0,diagnosis:{top_detractors:i.sort((f,p)=>f.score-p.score).slice(0,3).map(f=>f.id),summary:i.length>0?`${i.length} issues detected. Primary concerns: ${i.map(f=>f.id.replace(/_/g," ")).join(", ")}.`:"All systems operational. Performance targets met."}}},Rv=T.createContext(void 0);function CC({children:e}){const{user:n}=pa(),{transactions:a}=Ni(),[i,o]=T.useState([]),[u,d]=T.useState([]),[f,p]=T.useState([]),[g,x]=T.useState({}),[b,y]=T.useState({}),[_,w]=T.useState({}),[N,j]=T.useState(!0),[A,S]=T.useState(null),O=async()=>{const{data:Z}=await Oe.from("metric_definitions").select("*");Z&&d(Z);const{data:ae}=await Oe.from("metric_packs").select("*, items:metric_pack_items(*)");ae&&p(ae)},I=async()=>{if(n){j(!0);try{const{data:Z}=await Oe.from("business_entities").select("*").eq("user_id",n.id),ae=da(gC,Z,[]);if(o(ae),ae.length>0){const pe=ae.map(de=>de.id),{data:ce}=await Oe.from("business_metrics").select("*").in("business_id",pe),ue=da(pC,ce,[]),me={};ue.forEach(de=>{me[de.business_id]||(me[de.business_id]=[]),me[de.business_id].push(de)}),x(me);const{data:U}=await Oe.from("metric_snapshots").select("*").in("business_id",pe),B=da(xC,U,[]),ne={};B.forEach(de=>{ne[de.business_id]||(ne[de.business_id]=[]),ne[de.business_id].push(de)}),y(ne)}}catch(Z){console.error("Error loading business data:",Z),S(Z.message)}finally{j(!1)}}};T.useEffect(()=>{O()},[]),T.useEffect(()=>{I()},[n]);const D=async()=>{if(!n||i.length===0)return;const Z={};for(const ae of i){const pe=g[ae.id]||[],ce=a.filter(U=>U.business_id===ae.id),ue=[];for(const U of pe){const B=Cv(U.metric_id,ce);ue.push({config:U,currentVal:B})}const me=OC(ue);Z[ae.id]=me}w(Z)};T.useEffect(()=>{!N&&i.length>0&&D()},[a.length,i.length,N]);const H={entities:i,metricDefinitions:u,metricPacks:f,businessMetrics:g,latestSnapshots:b,healthScores:_,loading:N,error:A,addEntity:async(Z,ae)=>{const pe=[...i];if(o(ce=>[...ce,Z]),!!n)try{const{data:ce,error:ue}=await Oe.from("business_entities").insert([{id:Z.id,user_id:n.id,name:Z.name,type:Z.type,parent_id:Z.parent_id}]).select().single();if(ue)throw ue;const me=ce.id;if(ae){const U=f.find(B=>B.id===ae);if(U&&U.items){const B=U.items.map(ne=>({business_id:me,metric_id:ne.metric_id,weight:ne.default_weight,is_higher_better:ne.default_is_higher_better,is_active:!0,frequency:"monthly"}));await Oe.from("business_metrics").insert(B)}}ae&&await I()}catch(ce){console.error("Error adding business:",ce),S(ce.message),o(pe)}},updateEntity:async Z=>{const ae=[...i];if(o(pe=>pe.map(ce=>ce.id===Z.id?Z:ce)),!!n)try{const{error:pe}=await Oe.from("business_entities").update({name:Z.name,type:Z.type,parent_id:Z.parent_id}).eq("id",Z.id);if(pe)throw pe;if(Z.customMetricsConfig){const ce=g[Z.id]||[],ue=Z.customMetricsConfig,me=ue.filter(B=>!ce.find(ne=>ne.metric_id===B));if(me.length>0){const B=me.map(ne=>({business_id:Z.id,metric_id:ne,is_active:!0,weight:1,is_higher_better:!0,frequency:"monthly"}));await Oe.from("business_metrics").insert(B)}const U=ce.filter(B=>!ue.includes(B.metric_id));if(U.length>0){const B=U.map(ne=>ne.id);await Oe.from("business_metrics").delete().in("id",B)}await I()}if(Z.customMetricsValues)for(const[ce,ue]of Object.entries(Z.customMetricsValues))await Oe.from("business_metrics").update({target_value:ue}).eq("business_id",Z.id).eq("metric_id",ce)}catch(pe){console.error("Error updating business:",pe),S(pe.message),o(ae)}},deleteEntity:async Z=>{const ae=[...i];o(ne=>ne.filter(de=>de.id!==Z));const pe={...g},ce={...g};delete ce[Z],x(ce);const ue={...b},me={...b};delete me[Z],y(me);const U={..._},B={..._};if(delete B[Z],w(B),!!n)try{const{error:ne}=await Oe.from("business_entities").delete().eq("id",Z);if(ne)throw ne}catch(ne){console.error("Error deleting business:",ne),S(ne.message),o(ae),x(pe),y(ue),w(U)}},refreshEntities:I,runAnalysis:D};return s.jsx(Rv.Provider,{value:H,children:e})}const Bl=()=>{const e=T.useContext(Rv);if(e===void 0)throw new Error("useBusiness must be used within a BusinessProvider");return e},RC=[{id:"checking",label:"Checking",icon:ur},{id:"business",label:"Business",icon:Xt},{id:"savings",label:"Savings",icon:pc},{id:"credit",label:"Credit Card",icon:Ml},{id:"investment",label:"Investment",icon:Pt},{id:"crypto",label:"Crypto",icon:Fh}],Ob=[{id:"t1",label:"Obsidian",class:"bg-gradient-to-br from-neutral-800 to-neutral-900"},{id:"t2",label:"Midnight",class:"bg-gradient-to-br from-neutral-900 to-black"},{id:"t3",label:"Gold Standard",class:"bg-gradient-to-br from-gold-600 to-gold-700"},{id:"t4",label:"Royal Blue",class:"bg-gradient-to-br from-blue-900 to-neutral-900"},{id:"t5",label:"Crimson",class:"bg-gradient-to-br from-red-900 to-neutral-900"},{id:"t6",label:"Emerald",class:"bg-gradient-to-br from-emerald-800 to-neutral-900"},{id:"t7",label:"Bitcoin Orange",class:"bg-gradient-to-br from-orange-500 to-orange-700"},{id:"t8",label:"Platinum",class:"bg-gradient-to-br from-neutral-400 to-neutral-600"}],Cb=({initialData:e,onSave:n,onDelete:a,onCancel:i})=>{const[o,u]=T.useState(""),[d,f]=T.useState(""),[p,g]=T.useState("checking"),[x,b]=T.useState(""),[y,_]=T.useState("USD"),[w,N]=T.useState(Ob[0].class),[j,A]=T.useState(""),[S,O]=T.useState(""),[I,D]=T.useState(""),[z,C]=T.useState("1"),[$,H]=T.useState("25"),[Z,ae]=T.useState(""),[pe,ce]=T.useState("LLC"),[ue,me]=T.useState(""),[U,B]=T.useState(""),{entities:ne}=Bl(),[de,oe]=T.useState("");T.useEffect(()=>{e&&(u(e.name),f(e.institution),g(e.type),b(Math.abs(e.balance).toString()),_(e.currency),N(e.color),A(e.last4||""),e.creditDetails&&(O(e.creditDetails.limit.toString()),C(e.creditDetails.statementDay.toString()),H(e.creditDetails.paymentDueDay.toString()),D(e.creditDetails.apr?e.creditDetails.apr.toString():"")),e.businessDetails&&(ae(e.businessDetails.taxId||""),ce(e.businessDetails.entityType),me(e.businessDetails.monthlyFee?e.businessDetails.monthlyFee.toString():""),B(e.businessDetails.overdraftLimit?e.businessDetails.overdraftLimit.toString():""),oe(e.linked_business_id||"")))},[e]);const E=G=>{if(G.preventDefault(),!o||!x)return;const te=parseFloat(x);let X=te;p==="credit"&&te>0&&(X=-te);const L={id:e?e.id:crypto.randomUUID(),name:o,institution:d||"Unknown Bank",type:p,balance:X,initialBalance:e?e.initialBalance:X,currency:y,color:w,last4:j||void 0,creditDetails:p==="credit"?{limit:parseFloat(S)||0,statementDay:parseInt(z),paymentDueDay:parseInt($),apr:I?parseFloat(I):void 0}:void 0,businessDetails:p==="business"?{taxId:Z||void 0,entityType:pe,monthlyFee:parseFloat(ue)||0,overdraftLimit:parseFloat(U)||0}:void 0,linked_business_id:de||void 0};n(L)},P=()=>{e&&a&&window.confirm("Are you sure? This will delete the account.")&&a(e.id)},Y=Array.from({length:31},(G,te)=>te+1);return s.jsx("div",{className:"fixed inset-0 z-[70] bg-neutral-950/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-lg bg-neutral-900 border border-neutral-800 rounded-3xl p-6 shadow-2xl animate-fade-in relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-neutral-500 hover:text-white transition-colors",children:s.jsx(Dt,{size:20})}),s.jsx("h2",{className:"text-xl font-display font-bold text-white mb-6",children:e?"Edit Asset":"Add New Asset"}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Institution"}),s.jsx("input",{type:"text",value:d,onChange:G=>f(G.target.value),placeholder:"e.g. Chase",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors",autoFocus:!e})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Account Name"}),s.jsx("input",{type:"text",value:o,onChange:G=>u(G.target.value),placeholder:p==="business"?"e.g. Holdings LLC":"e.g. Personal Check",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider",children:"Asset Type"}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:RC.map(G=>s.jsxs("button",{type:"button",onClick:()=>g(G.id),className:`flex flex-col items-center justify-center gap-1 p-2 rounded-xl border transition-all ${p===G.id?"bg-neutral-800 border-gold-500/50 text-gold-500":"bg-neutral-950 border-neutral-800 text-neutral-500 hover:text-white hover:border-neutral-700"}`,children:[s.jsx(G.icon,{size:16}),s.jsx("span",{className:"text-[9px] font-bold text-center",children:G.label})]},G.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:p==="credit"?"Current Owed":"Current Balance"}),s.jsx("input",{type:"number",step:"0.01",value:x,onChange:G=>b(G.target.value),placeholder:"0.00",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Currency"}),s.jsx("select",{value:y,onChange:G=>_(G.target.value),className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors",children:xn.map(G=>s.jsxs("option",{value:G.code,children:[G.code," (",G.symbol,")"]},G.code))})]})]}),p==="business"&&s.jsxs("div",{className:"bg-neutral-950/50 rounded-2xl p-4 border border-gold-500/20 space-y-4 animate-fade-in",children:[s.jsxs("h3",{className:"text-xs font-bold text-gold-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Xt,{size:14})," Business Entity Config"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(ii,{size:10})," Tax ID / EIN"]}),s.jsx("input",{type:"text",value:Z,onChange:G=>ae(G.target.value),placeholder:"e.g. 12-3456789",className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase",children:"Entity Type"}),s.jsxs("select",{value:pe,onChange:G=>ce(G.target.value),className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500",children:[s.jsx("option",{value:"LLC",children:"LLC"}),s.jsx("option",{value:"Corp",children:"Corporation"}),s.jsx("option",{value:"Sole Prop",children:"Sole Proprietorship"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(Jb,{size:10})," Monthly Fee"]}),s.jsx("input",{type:"number",value:ue,onChange:G=>me(G.target.value),placeholder:"0.00",className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(_g,{size:10})," Overdraft Limit"]}),s.jsx("input",{type:"number",value:U,onChange:G=>B(G.target.value),placeholder:"e.g. 5000",className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]})]})]}),p==="credit"&&s.jsxs("div",{className:"bg-neutral-950/50 rounded-2xl p-4 border border-gold-500/20 space-y-4 animate-fade-in",children:[s.jsxs("h3",{className:"text-xs font-bold text-gold-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(_g,{size:14})," Credit Line Configuration"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase",children:"Credit Limit"}),s.jsx("input",{type:"number",value:S,onChange:G=>O(G.target.value),placeholder:"e.g. 15000",className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(Rj,{size:10})," APR"]}),s.jsx("input",{type:"number",step:"0.1",value:I,onChange:G=>D(G.target.value),placeholder:"e.g. 24.99",className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(vg,{size:10})," Closing Date"]}),s.jsx("select",{value:z,onChange:G=>C(G.target.value),className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500",children:Y.map(G=>s.jsxs("option",{value:G,children:["Day ",G]},G))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-[10px] font-bold text-neutral-500 mb-1.5 uppercase flex items-center gap-1",children:[s.jsx(vg,{size:10})," Payment Due"]}),s.jsx("select",{value:$,onChange:G=>H(G.target.value),className:"w-full bg-neutral-900 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500",children:Y.map(G=>s.jsxs("option",{value:G,children:["Day ",G]},G))})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Last 4 Digits (Optional)"}),s.jsx("input",{type:"text",maxLength:4,value:j,onChange:G=>A(G.target.value),placeholder:"e.g. 8821",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors font-mono"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ej,{size:12})," Card Theme"]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:Ob.map(G=>s.jsx("button",{type:"button",onClick:()=>N(G.class),className:`h-12 rounded-lg border-2 transition-all ${G.class} ${w===G.class?"border-white scale-105 shadow-lg":"border-transparent opacity-60 hover:opacity-100"}`,title:G.label},G.id))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Xt,{size:12})," Link to Business (Auto-Tagging)"]}),s.jsxs("select",{value:de,onChange:G=>oe(G.target.value),className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors",children:[s.jsx("option",{value:"",children:"-- Independent Asset --"}),ne.map(G=>s.jsxs("option",{value:G.id,children:[G.name," (",G.type,")"]},G.id))]}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:"Transactions on this account will automatically be assigned to the selected business."})]}),s.jsxs("div",{className:"flex gap-4 pt-4 border-t border-neutral-800",children:[e&&a&&s.jsx("button",{type:"button",onClick:P,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",children:s.jsx(or,{size:20})}),s.jsx("button",{type:"button",onClick:i,className:"flex-1 py-3 rounded-xl bg-neutral-950 border border-neutral-800 text-neutral-400 font-bold hover:text-white transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 py-3 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-colors flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Vn,{size:18})," ",e?"Update Asset":"Add Asset"]})]})]})]})})},DC=({currentBalance:e,transactions:n,currency:a,accountId:i,days:o=30})=>{var y,_;const u=T.useMemo(()=>{const w=[];let N=e;const j=new Date,A={};n.filter(S=>S.accountId===i).forEach(S=>{const O=S.date,I=S.type==="credit"?S.numericAmount:-S.numericAmount;A[O]=(A[O]||0)+I});for(let S=0;S<o;S++){const O=new Date(j);O.setDate(O.getDate()-S);const I=O.toISOString().split("T")[0];w.push({date:I,displayDate:O.toLocaleDateString("en-US",{day:"numeric",month:"short"}),value:N}),A[I]&&(N-=A[I])}return w.reverse()},[e,n,i,o]),d=Math.min(...u.map(w=>w.value)),p=Math.max(...u.map(w=>w.value))-d||1,g=((y=u[0])==null?void 0:y.value)||0,b=(((_=u[u.length-1])==null?void 0:_.value)||0)>=g;return s.jsxs("div",{className:"w-full h-48 flex items-end gap-1 pt-8 relative group",children:[s.jsx("div",{className:"absolute inset-x-0 border-t border-dashed border-neutral-700 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none top-1/2"}),u.map((w,N)=>{const j=(w.value-d)/p*80+10;return s.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center relative group/bar h-full",children:[s.jsx("div",{className:`w-full min-w-[4px] rounded-t-sm transition-all duration-500 opacity-60 hover:opacity-100 ${b?"bg-emerald-500":"bg-red-500"}`,style:{height:`${j}%`}}),s.jsxs("div",{className:"absolute bottom-full mb-2 bg-neutral-900 border border-neutral-800 text-white text-[10px] font-bold px-2 py-1 rounded shadow-xl opacity-0 group-hover/bar:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[w.displayDate,": ",be(w.value,a)]})]},w.date)})]})},Rb=({account:e,showBalances:n,onClick:a,variant:i="small",t:o,linkedBusinessName:u})=>{var y,_;const d=e.type==="crypto"?Fh:e.type==="business"?Xt:e.type==="credit"?Ml:ur,f=e.type==="credit",p=Math.abs(e.balance),g=((y=e.creditDetails)==null?void 0:y.limit)||0,x=g-p,b=g>0?p/g*100:0;return s.jsxs("div",{onClick:a,className:`relative w-full ${i==="large"?"aspect-[2/1] md:aspect-[2.5/1]":"aspect-[1.586]"} rounded-2xl p-6 flex flex-col justify-between overflow-hidden shadow-2xl transition-all hover:scale-[1.01] cursor-pointer group ${e.color} border border-white/5`,children:[s.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white to-transparent"}),e.isFrozen&&s.jsx("div",{className:"absolute inset-0 bg-neutral-950/60 backdrop-blur-[2px] z-20 flex items-center justify-center border-4 border-blue-500/30",children:s.jsx("div",{className:"bg-neutral-900/80 p-3 rounded-full text-blue-400 border border-blue-500/50 shadow-[0_0_30px_rgba(59,130,246,0.5)]",children:s.jsx(ay,{size:32})})}),s.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-md p-2 rounded-lg border border-white/10",children:s.jsx(d,{size:20,className:"text-white"})}),f&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-white/60 text-[10px] font-bold uppercase tracking-widest",children:o("common.available")}),s.jsx("span",{className:"text-white font-mono text-xs font-bold",children:n?be(x,e.currency):""})]}),e.type==="business"&&s.jsx("span",{className:"bg-gold-500/20 text-gold-200 text-[10px] font-bold px-2 py-1 rounded border border-gold-500/30 uppercase tracking-wider",children:o("nav.business")}),u&&s.jsx("span",{className:"bg-blue-500/20 text-blue-200 text-[10px] font-bold px-2 py-1 rounded border border-blue-500/30 uppercase tracking-wider flex items-center gap-1",children:u})]}),s.jsx("span",{className:"text-white/60 font-mono text-xs tracking-widest uppercase",children:e.institution})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-white/80 text-xs uppercase tracking-wider mb-1 font-semibold flex items-center gap-2",children:[e.name,f&&e.creditDetails&&s.jsxs("span",{className:"opacity-50",children:["  ",o("accounts.dueDay")," ",e.creditDetails.paymentDueDay]}),e.type==="business"&&((_=e.businessDetails)==null?void 0:_.entityType)&&s.jsxs("span",{className:"opacity-50",children:["  ",e.businessDetails.entityType]})]}),s.jsx("div",{className:`${i==="large"?"text-4xl":"text-2xl md:text-3xl"} font-mono font-bold text-white tracking-tight`,children:n?(f&&e.balance>0?"-":"")+be(Math.abs(e.balance),e.currency):""}),f&&g>0&&s.jsx("div",{className:"mt-3 w-full bg-black/20 h-1.5 rounded-full overflow-hidden backdrop-blur-sm border border-white/10",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${b>80?"bg-red-400":b>50?"bg-yellow-400":"bg-emerald-400"}`,style:{width:`${b}%`}})})]}),s.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-white/40 text-[10px]",children:[e.currency," ",o("common.account").toUpperCase()]}),f&&g>0&&s.jsxs("span",{className:`text-[10px] font-bold ${b>30?"text-yellow-200":"text-white/60"}`,children:[b.toFixed(0),"% ",o("accounts.util")]})]}),s.jsxs("div",{className:"font-mono text-white/80 text-sm tracking-widest",children:[" ",e.last4||"0000"]})]})]})},zC=({onEditTransaction:e,onTransfer:n,onAddAccount:a,onUpdateAccount:i,onDeleteAccount:o,onViewHistory:u,searchQuery:d="",privacyMode:f=!1,baseCurrency:p="USD",t:g})=>{var G;const{accounts:x}=_i(),{transactions:b,addTransaction:y,updateTransaction:_}=Ni(),{entities:w}=Bl(),N=!f,[j,A]=T.useState(null),[S,O]=T.useState(!1),[I,D]=T.useState(!1),[z,C]=T.useState(!1),[$,H]=T.useState(""),[Z,ae]=T.useState(""),[pe,ce]=T.useState(""),[ue,me]=T.useState(cr()),U=T.useMemo(()=>{if(!d)return x;const te=d.toLowerCase();return x.filter(X=>X.name.toLowerCase().includes(te)||X.institution.toLowerCase().includes(te)||X.type.toLowerCase().includes(te))},[x,d]),B=x.reduce((te,X)=>{const L=Qe(X.balance,X.currency,p);return X.type==="credit"?te-Math.abs(L):te+L},0),ne=te=>{te.preventDefault();const X=parseFloat(pe);$&&Z&&X>0&&n&&(n($,Z,X,ue),O(!1),ce(""),H(""),ae(""))},de=()=>{if(j&&i){const te={...j,isFrozen:!j.isFrozen};i(te),A(te)}},oe=te=>{if(te){const X=x.find(L=>L.id===te);if(X!=null&&X.isFrozen){alert(g("accounts.frozenAlert"));return}H(te)}O(!0)},E=async te=>{const X=x.find(ye=>ye.id===te.id);if(!(!X||Math.abs(X.balance-te.balance)>.01)){z&&i&&(i(te),A(te)),D(!1),C(!1);return}z&&i?(await i(te),A(te)):a&&await a(te);const Q=b.filter(ye=>ye.accountId===te.id),fe=Q.reduce((ye,ge)=>ge.type==="credit"?ye+ge.numericAmount:ge.type==="debit"?ye-ge.numericAmount:ye,0),he=te.balance-fe;if(Math.abs(he)>.01){const ye=Q.find(ge=>(ge.name===g("accounts.startingBalance")||ge.name===g("accounts.balanceAdjustment"))&&ge.date===cr());if(ye&&_){ye.numericAmount+(ye.type==="credit"?he:-he);let ge=0,_e=ye.type;const He=(ye.type==="credit"?ye.numericAmount:-ye.numericAmount)+he;He>=0?(ge=He,_e="credit"):(ge=Math.abs(He),_e="debit"),await _({...ye,numericAmount:ge,amount:be(ge,te.currency),type:_e})}else{const ge=he>0,_e={id:crypto.randomUUID(),accountId:te.id,name:g(z?"accounts.balanceAdjustment":"accounts.startingBalance"),amount:be(Math.abs(he),te.currency),numericAmount:Math.abs(he),currency:te.currency,date:cr(),category:"Adjustment",type:ge?"credit":"debit",status:"completed",description:z?"Manual balance correction":"Initial deposit"};await y(_e)}}D(!1),C(!1)},P=te=>{o&&(o(te),D(!1),A(null))};if(j){const te=b.filter(he=>he.accountId===j.id);te.sort((he,ye)=>new Date(ye.date).getTime()-new Date(he.date).getTime());const X=j.type==="credit",L=j.type==="business";let Q=j.balance;const fe=te.map(he=>{const ye=Q;return he.type==="credit"?Q-=he.numericAmount:Q+=he.numericAmount,{...he,balanceSnapshot:ye}});return s.jsxs("div",{className:"animate-fade-in space-y-6 pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>A(null),className:"p-2 rounded-full bg-white dark:bg-neutral-900 hover:bg-platinum-100 dark:hover:bg-neutral-800 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors border border-platinum-200 dark:border-neutral-800",children:s.jsx(si,{size:20})}),s.jsx("h2",{className:"text-xl font-display font-bold text-neutral-900 dark:text-white",children:j.name})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>{C(!0),D(!0)},className:"p-2 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(yi,{size:18})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Rb,{account:j,showBalances:N,onClick:()=>{},variant:"large",t:g,linkedBusinessName:j.linked_business_id?(G=w.find(he=>he.id===j.linked_business_id))==null?void 0:G.name:void 0})}),s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl p-6 flex flex-col justify-between shadow-sm dark:shadow-none",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider mb-4",children:g("accounts.quickActions")}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>oe(j.id),disabled:j.isFrozen,className:"p-3 rounded-xl bg-platinum-100 dark:bg-neutral-800 text-neutral-900 dark:text-white font-bold text-xs hover:bg-platinum-200 dark:hover:bg-neutral-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(wh,{size:14})," ",g("common.transfer")]}),s.jsxs("button",{onClick:de,className:`p-3 rounded-xl font-bold text-xs transition-colors flex items-center justify-center gap-2 ${j.isFrozen?"bg-blue-500 text-white hover:bg-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-platinum-100 dark:bg-neutral-800 text-neutral-900 dark:text-white hover:bg-platinum-200 dark:hover:bg-neutral-700"}`,children:[s.jsx(ay,{size:14})," ",j.isFrozen?g("accounts.unfreeze"):g("accounts.freeze")]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-platinum-200 dark:border-neutral-800",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-xs text-neutral-500",children:g("accounts.flow30")}),s.jsx(Pt,{size:14,className:"text-emerald-500"})]}),s.jsx("div",{className:"text-2xl font-mono font-bold text-neutral-900 dark:text-white",children:be(j.balance,j.currency,{privacy:!N})}),X&&j.creditDetails&&s.jsx("div",{className:"mt-2 space-y-1",children:s.jsxs("div",{className:"flex justify-between text-[10px] text-neutral-400",children:[s.jsxs("span",{children:[g("accounts.limit"),": ",be(j.creditDetails.limit,j.currency,{privacy:!N})]}),s.jsxs("span",{children:[g("accounts.apr"),": ",j.creditDetails.apr||0,"%"]})]})}),L&&j.businessDetails&&s.jsxs("div",{className:"mt-3 bg-platinum-50 dark:bg-neutral-950 rounded-lg p-2 border border-platinum-200 dark:border-neutral-800 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gold-500 text-[10px] font-bold uppercase tracking-wider mb-1",children:[s.jsx(Xt,{size:12})," ",g("business.entity")]}),s.jsxs("div",{className:"flex justify-between text-[10px] text-neutral-500 dark:text-neutral-400",children:[s.jsxs("span",{children:[g("business.taxId"),": ",j.businessDetails.taxId||"N/A"]}),s.jsx("span",{children:j.businessDetails.entityType})]})]})]})]})]}),s.jsxs("div",{className:"glass-card rounded-3xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-gold-500"})," ",g("accounts.balanceHistory")]}),s.jsx("span",{className:"text-[10px] text-neutral-500 bg-platinum-100 dark:bg-neutral-950 px-2 py-1 rounded",children:g("common.last30Days")})]}),s.jsx(DC,{currentBalance:j.balance,transactions:b,currency:j.currency,accountId:j.id})]}),s.jsxs("div",{className:"glass-card rounded-3xl overflow-hidden mt-6 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-platinum-50 dark:bg-neutral-950",children:[s.jsxs("h3",{className:"font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(Tl,{size:16,className:"text-gold-500"})," ",g("accounts.ledger")]}),u&&s.jsxs("button",{onClick:()=>u(j.id),className:"text-xs font-bold text-neutral-500 hover:text-gold-500 flex items-center gap-1 transition-colors group",children:[g("common.viewAll")," ",s.jsx(Fa,{size:12,className:"group-hover:translate-x-0.5 transition-transform"})]})]}),s.jsx("div",{className:"divide-y divide-platinum-200 dark:divide-neutral-800",children:fe.length>0?fe.slice(0,50).map(he=>s.jsxs("div",{onClick:()=>e==null?void 0:e(he),className:"p-5 flex items-center justify-between hover:bg-platinum-50 dark:hover:bg-neutral-800/30 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border transition-all ${he.type==="debit"?"bg-platinum-50 dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-400":"bg-green-500/10 border-green-500/20 text-green-500"}`,children:he.type==="debit"?s.jsx(ha,{size:18}):s.jsx(Va,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-neutral-900 dark:text-neutral-200 text-sm group-hover:text-gold-500 transition-colors",children:he.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:he.category})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`font-mono font-bold text-sm ${he.type==="credit"?"text-green-600 dark:text-green-400":"text-neutral-900 dark:text-white"}`,children:f?"":he.amount}),s.jsxs("p",{className:"font-mono text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:["Bal: ",f?"":be(he.balanceSnapshot,j.currency)]}),s.jsx("div",{className:"flex items-center justify-end gap-2 mt-0.5",children:s.jsx("p",{className:"text-[10px] text-neutral-600",children:he.date})})]})]},he.id)):s.jsx("div",{className:"p-12 text-center text-neutral-500",children:s.jsx("p",{className:"text-sm",children:g("transactions.noTransactions")})})})]}),S&&Y(),I&&s.jsx(Cb,{initialData:j,onSave:E,onDelete:P,onCancel:()=>{D(!1),C(!1)}})]})}return s.jsxs("div",{className:"animate-fade-in space-y-6 pb-20 md:pb-0",children:[s.jsxs("div",{className:"glass-card rounded-3xl p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 shadow-sm dark:shadow-none",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider mb-1 flex items-center gap-2",children:[s.jsx(Ul,{size:16,className:"text-gold-500"})," ",g("accounts.globalNetLiquid")]}),s.jsx("p",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-white",children:be(B,p,{privacy:!N})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>O(!0),className:"px-4 py-2 rounded-xl bg-platinum-100 dark:bg-neutral-800 border border-platinum-200 dark:border-neutral-700 text-neutral-900 dark:text-white font-bold hover:bg-platinum-200 dark:hover:bg-neutral-700 transition-all flex items-center gap-2",children:[s.jsx(IC,{})," ",g("common.transfer")]}),s.jsxs("button",{onClick:()=>{C(!1),D(!0)},className:"px-4 py-2 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-all shadow-lg flex items-center gap-2",children:[s.jsx(Jt,{size:16})," ",g("accounts.addAsset")]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[U.map(te=>{var X;return s.jsx(Rb,{account:te,showBalances:N,onClick:()=>A(te),t:g,linkedBusinessName:te.linked_business_id?(X=w.find(L=>L.id===te.linked_business_id))==null?void 0:X.name:void 0},te.id)}),s.jsxs("button",{onClick:()=>{C(!1),D(!0)},className:"aspect-[1.586] rounded-2xl border-2 border-dashed border-platinum-300 dark:border-neutral-800 flex flex-col items-center justify-center gap-3 text-neutral-600 dark:text-neutral-600 hover:text-gold-500 dark:hover:text-gold-500 hover:border-gold-500/50 hover:bg-platinum-50 dark:hover:bg-neutral-900/50 transition-all",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-platinum-100 dark:bg-neutral-900 border border-platinum-300 dark:border-neutral-800 flex items-center justify-center",children:s.jsx(Jt,{size:24})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:g("accounts.addAsset")})]})]}),S&&Y(),I&&s.jsx(Cb,{initialData:null,onSave:E,onCancel:()=>D(!1)})]});function Y(){var X,L;const te=((X=x.find(Q=>Q.id===$))==null?void 0:X.currency)||"USD";return s.jsx("div",{className:"fixed inset-0 z-[60] bg-neutral-950/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl p-6 shadow-2xl animate-fade-in relative",children:[s.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 text-neutral-500 hover:text-neutral-900 dark:hover:text-white",children:s.jsx(Dt,{size:20})}),s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx("div",{className:"p-2 bg-gold-500/10 rounded-lg text-gold-500",children:s.jsx(wh,{size:20})}),s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:g("accounts.transferFunds")})]}),s.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:g("common.from")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:$,onChange:Q=>H(Q.target.value),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 appearance-none",children:[s.jsx("option",{value:"",children:g("accounts.selectSource")}),x.map(Q=>s.jsxs("option",{value:Q.id,disabled:Q.isFrozen,children:[Q.name," (",Q.currency,") ",Q.isFrozen?`(${g("accounts.frozen")})`:""]},Q.id))]}),s.jsx(si,{size:16,className:"absolute right-3 top-3.5 -rotate-90 text-neutral-500 pointer-events-none"})]})]}),s.jsx("div",{className:"flex justify-center -my-2 relative z-10",children:s.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-full p-1.5 text-gold-500",children:s.jsx(f_,{size:16})})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:g("common.to")}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:Z,onChange:Q=>ae(Q.target.value),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 appearance-none",children:[s.jsx("option",{value:"",children:g("accounts.selectDest")}),x.filter(Q=>Q.id!==$).map(Q=>s.jsxs("option",{value:Q.id,disabled:Q.isFrozen,children:[Q.name," (",Q.currency,") ",Q.isFrozen?`(${g("accounts.frozen")})`:""]},Q.id))]}),s.jsx(si,{size:16,className:"absolute right-3 top-3.5 -rotate-90 text-neutral-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:g("common.amount")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:pe,onChange:Q=>ce(Q.target.value),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 pl-8 outline-none focus:border-gold-500",placeholder:"0.00"}),s.jsx("span",{className:"absolute left-3 top-3 text-neutral-500 text-xs font-bold",children:(L=xn.find(Q=>Q.code===te))==null?void 0:L.symbol})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:g("common.date")}),s.jsx("input",{type:"date",value:ue,onChange:Q=>me(Q.target.value),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 [&::-webkit-calendar-picker-indicator]:invert dark:[&::-webkit-calendar-picker-indicator]:invert-0"})]})]}),s.jsx("button",{type:"submit",disabled:!$||!Z||!pe,className:"w-full py-4 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-all shadow-lg mt-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g("common.transfer")})]})]})})}},IC=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M5 12h14"}),s.jsx("path",{d:"m12 5 7 7-7 7"})]}),MC=({onEditTransaction:e,onNewTransaction:n,onDeleteTransaction:a,onScan:i,onStopRecurring:o,initialAccountId:u,t:d})=>{const{transactions:f}=Ni(),{accounts:p}=_i(),[g,x]=T.useState("list"),[b,y]=T.useState(new Date),[_,w]=T.useState(null),[N,j]=T.useState(!1),[A,S]=T.useState(""),[O,I]=T.useState([]),[D,z]=T.useState([]),[C,$]=T.useState({start:"",end:""}),[H,Z]=T.useState({min:"",max:""}),[ae,pe]=T.useState("all");T.useEffect(()=>{u&&I([u])},[u]);const ce=T.useMemo(()=>p.length>0?p.map(Q=>({id:Q.id,name:Q.name})):Array.from(new Set(f.map(Q=>Q.accountId))).map(Q=>({id:Q,name:`Account ${Q}`})),[p,f]),ue=T.useMemo(()=>{const L=new Set(f.map(Q=>Q.category));return r0.forEach(Q=>L.add(Q.name)),Array.from(L).sort()},[f]),me=T.useMemo(()=>f.filter(L=>{if(A){const fe=A.toLowerCase();if(!(L.name.toLowerCase().includes(fe)||L.category.toLowerCase().includes(fe)||(L.description||"").toLowerCase().includes(fe)))return!1}if(ae==="income"&&L.type!=="credit"||ae==="expense"&&L.type!=="debit"||ae==="recurring"&&!L.isRecurring||O.length>0&&!O.includes(L.accountId)||D.length>0&&!D.includes(L.category)||C.start&&L.date<C.start||C.end&&L.date>C.end)return!1;const Q=Math.abs(L.numericAmount);return!(H.min&&Q<parseFloat(H.min)||H.max&&Q>parseFloat(H.max))}),[f,A,ae,O,D,C,H]),U=T.useMemo(()=>[...me].sort((Q,fe)=>new Date(fe.date).getTime()-new Date(Q.date).getTime()).reduce((Q,fe)=>{const he=cr(),ye=fe.date===he?"Today":new Date(fe.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return Q[ye]||(Q[ye]=[]),Q[ye].push(fe),Q},{}),[me]),B=T.useMemo(()=>{const L=b.getFullYear(),Q=b.getMonth(),fe=new Date(L,Q,1).getDay(),he=new Date(L,Q+1,0).getDate(),ye=[];for(let ge=0;ge<fe;ge++)ye.push(null);for(let ge=1;ge<=he;ge++){const _e=`${L}-${String(Q+1).padStart(2,"0")}-${String(ge).padStart(2,"0")}`,Re=me.filter(ct=>ct.date===_e),He=Re.filter(ct=>ct.type==="credit").reduce((ct,en)=>ct+en.numericAmount,0),et=Re.filter(ct=>ct.type==="debit").reduce((ct,en)=>ct+en.numericAmount,0),Wt=He-et;ye.push({day:ge,dateStr:_e,transactions:Re,income:He,expense:et,net:Wt})}return ye},[b,me]),ne=()=>{const L=["Date","Merchant","Category","Amount","Type","Account","Notes","Recurring"],Q=me.map(_e=>[_e.date,`"${_e.name.replace(/"/g,'""')}"`,_e.category,_e.amount,_e.type,_e.accountId,`"${(_e.description||"").replace(/"/g,'""')}"`,_e.isRecurring?"Yes":"No"]),fe=[L.join(","),...Q.map(_e=>_e.join(","))].join(`
`),he=new Blob([fe],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(he),ge=document.createElement("a");ge.href=ye,ge.setAttribute("download",`AurumWolf_Export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},de=()=>{I([]),z([]),$({start:"",end:""}),Z({min:"",max:""}),pe("all"),S("")},oe=(L,Q)=>{L.stopPropagation(),window.confirm(d("common.confirmDelete"))&&(a==null||a(Q))},E=(O.length>0?1:0)+(D.length>0?1:0)+(C.start?1:0)+(H.min?1:0)+(ae!=="all"?1:0),P=(L,Q)=>{if(!L||!Q)return null;const fe=xn.find(he=>he.code===Q)||xn[0];return new Intl.NumberFormat(fe.locale,{style:"currency",currency:Q}).format(L)},Y=L=>{if(!L)return null;const Q=i5.find(fe=>fe.id===L);return Q?Q.name:L},G=()=>y(new Date(b.getFullYear(),b.getMonth()+1,1)),te=()=>y(new Date(b.getFullYear(),b.getMonth()-1,1)),X=(L,Q)=>{L.stopPropagation(),window.confirm(d("transactions.stopConfirm"))&&(o==null||o(Q))};return s.jsxs("div",{className:"animate-fade-in space-y-6 pb-24 md:pb-0 relative",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 glass-card p-2 rounded-2xl shadow-sm dark:shadow-none sticky top-20 md:top-0 z-20",children:[s.jsx("div",{className:"flex p-1 bg-platinum-100 dark:bg-neutral-950 rounded-xl overflow-x-auto custom-scrollbar",children:["all","income","expense","recurring"].map(L=>s.jsx("button",{onClick:()=>pe(L),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all capitalize whitespace-nowrap ${ae===L?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:d(`transactions.${L}`)},L))}),s.jsxs("div",{className:"flex items-center gap-3 px-2 w-full md:w-auto",children:[s.jsxs("div",{className:"flex-1 md:flex-none flex items-center bg-platinum-100 dark:bg-neutral-950 px-3 py-2 rounded-lg border border-transparent focus-within:border-gold-500/50 transition-colors md:w-48",children:[s.jsx(fi,{size:14,className:"text-neutral-500 mr-2"}),s.jsx("input",{type:"text",placeholder:d("common.search"),value:A,onChange:L=>S(L.target.value),className:"bg-transparent border-none outline-none text-xs text-neutral-900 dark:text-white w-full placeholder:text-neutral-500"})]}),s.jsxs("button",{onClick:()=>j(!0),className:`p-2 rounded-lg border transition-all flex items-center gap-2 ${E>0?"bg-gold-500/10 border-gold-500/50 text-gold-600 dark:text-gold-500":"bg-platinum-100 dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-500"}`,children:[s.jsx(Ng,{size:16}),E>0&&s.jsx("span",{className:"text-[10px] font-bold bg-gold-500 text-neutral-950 px-1.5 rounded-full",children:E})]}),s.jsx("button",{onClick:ne,className:"p-2 rounded-lg bg-platinum-100 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-500 hover:text-neutral-900 dark:hover:text-white transition-colors",title:d("transactions.export"),children:s.jsx(Vb,{size:16})}),s.jsx("div",{className:"h-6 w-px bg-platinum-200 dark:bg-neutral-800 hidden md:block"}),s.jsxs("div",{className:"hidden md:flex bg-platinum-100 dark:bg-neutral-950 rounded-lg p-1 border border-platinum-200 dark:border-neutral-800",children:[s.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-md transition-all ${g==="list"?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm":"text-neutral-400 hover:text-neutral-900 dark:hover:text-white"}`,children:s.jsx(QN,{size:16})}),s.jsx("button",{onClick:()=>x("calendar"),className:`p-2 rounded-md transition-all ${g==="calendar"?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-sm":"text-neutral-400 hover:text-neutral-900 dark:hover:text-white"}`,children:s.jsx(qa,{size:16})})]}),s.jsxs("div",{className:"hidden md:flex gap-2",children:[s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-platinum-100 dark:bg-neutral-800 hover:bg-platinum-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-white border border-platinum-200 dark:border-neutral-700 rounded-lg text-xs font-bold flex items-center gap-2 transition-all",children:[s.jsx(hi,{size:14})," ",d("common.scan")]}),s.jsxs("button",{onClick:n,className:"px-4 py-2 bg-gold-500 hover:bg-gold-400 text-neutral-950 rounded-lg text-xs font-bold flex items-center gap-2 transition-all shadow-lg",children:[s.jsx(Jt,{size:14})," ",d("common.add")]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:[me.length," ",d("transactions.found")]}),E>0&&s.jsxs("button",{onClick:de,className:"text-xs text-gold-500 hover:text-neutral-900 dark:hover:text-white flex items-center gap-1",children:[s.jsx(Dt,{size:12})," ",d("transactions.clearFilters")]})]}),ae==="recurring"&&g==="list"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:me.map(L=>s.jsxs("div",{className:"glass-card rounded-2xl p-5 relative group hover:border-gold-500/30 transition-all shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 text-blue-500 flex items-center justify-center border border-blue-500/20",children:s.jsx(vh,{size:18})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white text-sm",children:L.name}),s.jsxs("p",{className:"text-[10px] text-neutral-500 uppercase tracking-wider",children:[L.recurringFrequency||d("transactions.unknown")," ",d("transactions.cycle")]})]})]}),s.jsx("span",{className:"font-mono font-bold text-neutral-900 dark:text-white text-lg",children:L.amount})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-neutral-500",children:[d("transactions.nextDue"),":"]}),s.jsx("span",{className:"text-neutral-900 dark:text-white font-bold",children:L.nextRecurringDate})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-neutral-500",children:[d("common.category"),":"]}),s.jsx("span",{className:"text-neutral-700 dark:text-neutral-300",children:L.category})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>e==null?void 0:e(L),className:"flex-1 py-2 rounded-lg bg-platinum-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 text-xs font-bold hover:bg-platinum-200 dark:hover:bg-neutral-700 transition-colors",children:d("common.edit")}),s.jsxs("button",{onClick:Q=>X(Q,L.id),className:"flex-1 py-2 rounded-lg bg-red-500/10 text-red-500 border border-red-500/20 text-xs font-bold hover:bg-red-500/20 transition-colors flex items-center justify-center gap-1",children:[s.jsx(qb,{size:12})," ",d("transactions.stopSubscription")]}),s.jsx("button",{onClick:Q=>oe(Q,L.id),className:"p-2 rounded-lg bg-platinum-100 dark:bg-neutral-800 text-neutral-400 hover:text-red-500 hover:bg-red-500/10 transition-colors",children:s.jsx(or,{size:16})})]})]},L.id))}):g==="list"?s.jsxs("div",{className:"space-y-4",children:[Object.entries(U).map(([L,Q])=>s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("h3",{className:"sticky top-32 md:top-14 z-10 bg-platinum-100/95 dark:bg-neutral-950/95 backdrop-blur-md py-2 px-2 text-xs font-bold text-neutral-500 uppercase tracking-wider mb-2 flex items-center gap-2 border-b border-platinum-200 dark:border-neutral-800/50",children:[s.jsx(qa,{size:12})," ",L]}),s.jsx("div",{className:"space-y-2",children:Q.map(fe=>{const he=fe.accountCurrency&&fe.currency!==fe.accountCurrency,ye=fe.category==="Adjustment"||fe.category==="Starting Balance"||fe.name.includes("accounts.balanceAdjustment"),ge=Y(fe.business_id);return s.jsxs("div",{onClick:()=>e==null?void 0:e(fe),className:"glass-card p-4 rounded-2xl flex items-center justify-between hover:border-gold-500/30 cursor-pointer transition-all shadow-sm group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border transition-all relative ${ye?"bg-neutral-100 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 text-neutral-500":fe.type==="debit"?"bg-platinum-50 dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-400":"bg-green-500/10 border-green-500/20 text-green-500"}`,children:[ye?s.jsx(Ng,{size:18}):fe.type==="debit"?s.jsx(ha,{size:18}):s.jsx(Va,{size:18}),fe.isRecurring&&s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gold-500 text-neutral-950 w-4 h-4 rounded-full flex items-center justify-center border border-neutral-900",title:"Recurring",children:s.jsx(vh,{size:10})})]}),s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white leading-tight mb-0.5 truncate group-hover:text-gold-500 transition-colors",children:fe.name}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-wide px-1.5 py-0.5 bg-platinum-100 dark:bg-neutral-800 rounded",children:fe.category}),ge&&s.jsxs("span",{className:"text-[10px] font-bold text-gold-600 dark:text-gold-500 uppercase tracking-wide px-1.5 py-0.5 bg-gold-500/10 border border-gold-500/20 rounded flex items-center gap-1",children:[s.jsx(Xt,{size:8})," ",ge]}),he&&s.jsx(Ul,{size:10,className:"text-blue-500"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`text-base font-mono font-bold ${ye?"text-neutral-500 dark:text-neutral-500":fe.type==="credit"?"text-green-600 dark:text-green-400":"text-neutral-900 dark:text-white"}`,children:fe.amount}),he&&fe.foreignAmount&&s.jsx("p",{className:"text-[10px] text-neutral-400 font-mono",children:P(fe.foreignAmount,fe.currency)})]}),s.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:_e=>{_e.stopPropagation(),e==null||e(fe)},className:"p-2 text-neutral-400 hover:text-white hover:bg-neutral-800 rounded-lg transition-colors",children:s.jsx(yi,{size:14})}),s.jsx("button",{onClick:_e=>oe(_e,fe.id),className:"p-2 text-neutral-400 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(or,{size:14})})]})]})]},fe.id)})})]},L)),me.length===0&&s.jsxs("div",{className:"p-12 text-center text-neutral-500",children:[s.jsx(wg,{size:32,className:"mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"text-sm",children:d("transactions.noMatches")}),s.jsx("button",{onClick:de,className:"mt-4 text-gold-500 font-bold text-xs underline",children:d("transactions.clearFilters")})]})]}):s.jsxs("div",{className:"animate-fade-in space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-4 shadow-sm",children:[s.jsx("button",{onClick:te,className:"p-2 rounded-lg hover:bg-platinum-100 dark:hover:bg-neutral-800 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(si,{size:20})}),s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white font-display uppercase tracking-widest",children:b.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx("button",{onClick:G,className:"p-2 rounded-lg hover:bg-platinum-100 dark:hover:bg-neutral-800 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Js,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-px bg-platinum-200 dark:bg-neutral-800/50 rounded-2xl overflow-hidden border border-platinum-200 dark:border-neutral-800",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(L=>s.jsx("div",{className:"bg-platinum-100 dark:bg-neutral-950 p-2 text-center text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:L},L)),B.map((L,Q)=>{if(!L)return s.jsx("div",{className:"bg-white dark:bg-neutral-900 h-24 sm:h-32"},`empty-${Q}`);const fe=new Date().toDateString()===new Date(L.dateStr).toDateString(),he=L.transactions.length>0,ye=_===L.dateStr;return s.jsxs("div",{onClick:()=>he&&w(ye?null:L.dateStr),className:`bg-white dark:bg-neutral-900 p-2 h-24 sm:h-32 flex flex-col justify-between transition-colors relative cursor-pointer group ${ye?"bg-platinum-50 dark:bg-neutral-800 ring-inset ring-2 ring-gold-500":"hover:bg-platinum-50 dark:hover:bg-neutral-800"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:`text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full ${fe?"bg-gold-500 text-neutral-950":"text-neutral-400"}`,children:L.day}),he&&s.jsxs("div",{className:"flex gap-1",children:[L.transactions.some(ge=>ge.type==="credit")&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),L.transactions.some(ge=>ge.type==="debit")&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),L.transactions.some(ge=>ge.isRecurring)&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]})]}),he&&s.jsxs("div",{className:"text-right",children:[L.net>0?s.jsxs("p",{className:"text-[10px] font-mono font-bold text-green-500",children:["+",Math.round(L.net).toLocaleString()]}):L.net<0?s.jsx("p",{className:"text-[10px] font-mono font-bold text-neutral-800 dark:text-white/80 group-hover:text-red-500 dark:group-hover:text-red-400 transition-colors",children:Math.round(L.net).toLocaleString()}):null,s.jsxs("p",{className:"text-[9px] text-neutral-600 mt-0.5",children:[L.transactions.length," ",d("transactions.txns")]})]})]},L.dateStr)})]}),_&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-neutral-950/60 backdrop-blur-sm",onClick:()=>w(null)}),s.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-neutral-900 h-full shadow-2xl border-l border-platinum-200 dark:border-neutral-800 flex flex-col animate-fade-in-right",children:[s.jsxs("div",{className:"p-5 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-platinum-50 dark:bg-neutral-950",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white font-display",children:new Date(_).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wider",children:d("transactions.dailySummary")})]}),s.jsx("button",{onClick:()=>w(null),className:"text-neutral-500 hover:text-neutral-900 dark:hover:text-white",children:s.jsx(Dt,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:me.filter(L=>L.date===_).map(L=>s.jsxs("div",{onClick:()=>{e==null||e(L),w(null)},className:"p-4 rounded-xl border border-platinum-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:border-gold-500/30 cursor-pointer transition-all flex items-center justify-between group shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border transition-all ${L.type==="debit"?"bg-platinum-50 dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-400":"bg-green-500/10 border-green-500/20 text-green-500"}`,children:L.type==="debit"?s.jsx(ha,{size:14}):s.jsx(Va,{size:14})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white group-hover:text-gold-500 transition-colors",children:L.name}),s.jsx("p",{className:"text-xs text-neutral-500",children:L.category})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`font-mono text-sm font-bold block ${L.type==="credit"?"text-green-600 dark:text-green-400":"text-neutral-900 dark:text-white"}`,children:L.amount}),s.jsx("div",{className:"flex justify-end gap-1 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("button",{onClick:Q=>oe(Q,L.id),className:"text-neutral-500 hover:text-red-500",children:s.jsx(or,{size:12})})})]})]},L.id))})]})]})]}),N&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[s.jsx("div",{className:"absolute inset-0 bg-neutral-950/60 backdrop-blur-sm",onClick:()=>j(!1)}),s.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-neutral-900 h-full shadow-2xl border-l border-platinum-200 dark:border-neutral-800 flex flex-col animate-fade-in",children:[s.jsxs("div",{className:"p-5 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-platinum-50 dark:bg-neutral-950",children:[s.jsxs("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(wg,{size:20,className:"text-gold-500"})," ",d("transactions.filters")]}),s.jsx("button",{onClick:()=>j(!1),className:"text-neutral-500 hover:text-neutral-900 dark:hover:text-white",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-8 custom-scrollbar",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:d("common.date")}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-600 block mb-1",children:d("common.from")}),s.jsx("input",{type:"date",value:C.start,onChange:L=>$({...C,start:L.target.value}),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-lg p-2 text-xs text-neutral-900 dark:text-white outline-none focus:border-gold-500 [&::-webkit-calendar-picker-indicator]:invert dark:[&::-webkit-calendar-picker-indicator]:invert-0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-600 block mb-1",children:d("common.to")}),s.jsx("input",{type:"date",value:C.end,onChange:L=>$({...C,end:L.target.value}),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-lg p-2 text-xs text-neutral-900 dark:text-white outline-none focus:border-gold-500 [&::-webkit-calendar-picker-indicator]:invert dark:[&::-webkit-calendar-picker-indicator]:invert-0"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:d("common.accounts")}),s.jsx("div",{className:"space-y-2",children:ce.map(L=>{const Q=O.includes(L.id);return s.jsxs("button",{onClick:()=>{I(Q?fe=>fe.filter(he=>he!==L.id):fe=>[...fe,L.id])},className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${Q?"bg-gold-500/10 border-gold-500/50 text-neutral-900 dark:text-white":"bg-white dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-500 hover:bg-platinum-50 dark:hover:bg-neutral-900"}`,children:[s.jsx("span",{className:"text-xs font-bold",children:L.name}),Q?s.jsx(s2,{size:16,className:"text-gold-500"}):s.jsx(l2,{size:16})]},L.id)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:d("common.category")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(L=>{const Q=D.includes(L);return s.jsx("button",{onClick:()=>{z(Q?fe=>fe.filter(he=>he!==L):fe=>[...fe,L])},className:`px-3 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${Q?"bg-gold-500 text-neutral-950 border-gold-500":"bg-white dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-500 hover:border-neutral-400 dark:hover:border-neutral-600"}`,children:L},L)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:d("common.amount")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"number",placeholder:"Min",value:H.min,onChange:L=>Z({...H,min:L.target.value}),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-lg p-2 text-xs text-neutral-900 dark:text-white outline-none focus:border-gold-500"}),s.jsx("span",{className:"text-neutral-600",children:"-"}),s.jsx("input",{type:"number",placeholder:"Max",value:H.max,onChange:L=>Z({...H,max:L.target.value}),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-lg p-2 text-xs text-neutral-900 dark:text-white outline-none focus:border-gold-500"})]})]})]}),s.jsxs("div",{className:"p-5 border-t border-platinum-200 dark:border-neutral-800 bg-platinum-50 dark:bg-neutral-950 flex gap-3",children:[s.jsx("button",{onClick:de,className:"flex-1 py-3 rounded-xl border border-platinum-300 dark:border-neutral-800 text-neutral-500 font-bold hover:bg-white dark:hover:bg-neutral-900 transition-colors",children:d("common.reset")}),s.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-colors shadow-lg",children:d("common.apply")})]})]})]})]})},Db=[{id:"trophy",icon:iy,label:"General"},{id:"home",icon:di,label:"Property"},{id:"car",icon:Yh,label:"Vehicle"},{id:"plane",icon:ty,label:"Travel"},{id:"shield",icon:mi,label:"Emergency"},{id:"briefcase",icon:Xt,label:"Business"},{id:"grad",icon:Kb,label:"Education"},{id:"tech",icon:ry,label:"Tech"}],zb=["bg-emerald-500","bg-blue-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-red-500","bg-gold-500","bg-neutral-500"],UC=({initialData:e,onSave:n,onDelete:a,onCancel:i})=>{const[o,u]=T.useState(""),[d,f]=T.useState(""),[p,g]=T.useState(""),[x,b]=T.useState(""),[y,_]=T.useState(zb[0]),[w,N]=T.useState(0);T.useEffect(()=>{e&&(u(e.name),f(e.targetAmount.toString()),g(e.savedAmount.toString()),b(e.deadline||""),_(e.color))},[e]);const j=S=>{if(S.preventDefault(),!o||!d)return;const O={id:e?e.id:crypto.randomUUID(),name:o,targetAmount:parseFloat(d),savedAmount:parseFloat(p)||0,deadline:x||void 0,color:y,icon:Db[w].icon};n(O)},A=()=>{e&&a&&window.confirm("Are you sure you want to delete this savings goal?")&&a(e.id)};return s.jsx("div",{className:"fixed inset-0 z-[70] bg-neutral-950/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-neutral-900 border border-neutral-800 rounded-3xl p-6 shadow-2xl animate-fade-in relative",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-neutral-500 hover:text-white transition-colors",children:s.jsx(Dt,{size:20})}),s.jsxs("h2",{className:"text-xl font-display font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ac,{size:24,className:"text-gold-500"}),e?"Edit Goal":"New Goal"]}),s.jsxs("form",{onSubmit:j,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Goal Name"}),s.jsx("input",{type:"text",value:o,onChange:S=>u(S.target.value),placeholder:"e.g. Dream Home",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-colors",autoFocus:!e})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Target Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{size:14,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"number",value:d,onChange:S=>f(S.target.value),placeholder:"0.00",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 pl-8 outline-none focus:border-gold-500 transition-colors"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Current Saved"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{size:14,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"number",value:p,onChange:S=>g(S.target.value),placeholder:"0.00",className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 pl-8 outline-none focus:border-gold-500 transition-colors"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Target Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(qa,{size:14,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"date",value:x,onChange:S=>b(S.target.value),className:"w-full bg-neutral-950 border border-neutral-800 text-white text-sm rounded-xl p-3 pl-8 outline-none focus:border-gold-500 [&::-webkit-calendar-picker-indicator]:invert"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider",children:"Icon"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Db.map((S,O)=>s.jsx("button",{type:"button",onClick:()=>N(O),className:`p-2 rounded-lg flex items-center justify-center border transition-all ${w===O?"bg-gold-500 text-neutral-950 border-gold-500":"bg-neutral-950 border-neutral-800 text-neutral-500 hover:text-white"}`,children:s.jsx(S.icon,{size:16})},S.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider",children:"Color Tag"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:zb.map(S=>s.jsx("button",{type:"button",onClick:()=>_(S),className:`w-8 h-8 rounded-full border-2 transition-all ${S.replace("bg-","bg-")} ${y===S?"border-white scale-110":"border-transparent opacity-50 hover:opacity-100"}`},S))})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4 border-t border-neutral-800",children:[e&&a&&s.jsx("button",{type:"button",onClick:A,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:"Delete Goal",children:s.jsx(or,{size:20})}),s.jsx("button",{type:"button",onClick:i,className:"flex-1 py-3 rounded-xl bg-neutral-950 border border-neutral-800 text-neutral-400 font-bold hover:text-white transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 py-3 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-colors flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Vn,{size:18})," Save Goal"]})]})]})]})})},Dv=T.createContext(void 0),LC=({children:e})=>{const{user:n}=pa(),[a,i]=T.useState([]),[o,u]=T.useState(!0),d=a.filter(b=>b.type==="income").reduce((b,y)=>b+y.limit,0),f=async()=>{if(n)try{u(!0);const{data:b,error:y}=await Oe.from("budget_categories").select("*").eq("user_id",n.id);if(y)throw y;if(b){const _=b.map(w=>({id:w.id,category:w.name,limit:Number(w.limit_amount),spent:0,color:w.color,icon_key:w.icon_key,type:w.type,is_system:w.is_system}));i(_)}}catch(b){console.error("Error fetching categories:",b)}finally{u(!1)}},p=async b=>{if(!n)throw alert("Error: User is not authenticated in CategoryContext"),new Error("User not authenticated");const y=b.category.trim().toLowerCase();if(a.find(N=>N.category.toLowerCase()===y&&N.type===b.type))return;const{error:w}=await Oe.from("budget_categories").insert({user_id:n.id,name:b.category,type:b.type,limit_amount:b.limit,color:b.color,icon_key:b.icon_key,is_system:!1});if(w)throw console.error("Failed to add category",w),alert(`DB Error: ${w.message}`),w;await f()},g=async b=>{const{error:y}=await Oe.from("budget_categories").delete().eq("id",b);if(y)throw alert(`DB Error Delete: ${y.message}`),y;await f()},x=async b=>{if(!n)throw alert("Error: User is not authenticated in CategoryContext (Update)"),new Error("User not authenticated");const{error:y}=await Oe.from("budget_categories").update({name:b.category,limit_amount:b.limit,color:b.color,icon_key:b.icon_key,type:b.type}).eq("id",b.id);if(y)throw console.error("Failed to update category",y),alert(`DB Error Update: ${y.message}`),y;await f()};return T.useEffect(()=>{f()},[n]),s.jsx(Dv.Provider,{value:{categories:a,loading:o,totalProjectedIncome:d,refreshCategories:f,addCategory:p,updateCategory:x,deleteCategory:g},children:e})},Pl=()=>{const e=T.useContext(Dv);if(!e)throw new Error("useCategories must be used within a CategoryProvider");return e},Ec={Home:di,Utensils:T2,Car:Yh,ShoppingBag:ny,Film:xN,Stethoscope:d2,Zap:gi,Plane:ty,GraduationCap:Kb,Scissors:Gj,PawPrint:Aj,Smartphone:ry,Wallet:ur,Laptop:ZN,TrendingUp:Pt,Gift:EN,Coffee:Gb,Dumbbell:cN,Music:wj,BookOpen:N_,Briefcase:Xt,DollarSign:Ya,PiggyBank:ey,CreditCard:Ml,LayoutGrid:JN,ShoppingBasket:Qj,Bus:A_,Fuel:vN,Package:kj,Landmark:Jb,Heart:UN,Gamepad2:NN,Baby:y_,Wifi:D2,Star:c2,Globe:Ul,Camera:Tc},bi=e=>Ec[e]||gc,$C=Object.keys(Ec),Ib=["bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-lg shadow-emerald-500/30","bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-500/30","bg-gradient-to-br from-lime-400 to-lime-600 shadow-lg shadow-lime-500/30","bg-gradient-to-br from-blue-400 to-blue-600 shadow-lg shadow-blue-500/30","bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-lg shadow-cyan-500/30","bg-gradient-to-br from-sky-400 to-sky-600 shadow-lg shadow-sky-500/30","bg-gradient-to-br from-indigo-400 to-indigo-600 shadow-lg shadow-indigo-500/30","bg-gradient-to-br from-violet-400 to-violet-600 shadow-lg shadow-violet-500/30","bg-gradient-to-br from-purple-400 to-purple-600 shadow-lg shadow-purple-500/30","bg-gradient-to-br from-fuchsia-400 to-fuchsia-600 shadow-lg shadow-fuchsia-500/30","bg-gradient-to-br from-pink-400 to-pink-600 shadow-lg shadow-pink-500/30","bg-gradient-to-br from-rose-400 to-rose-600 shadow-lg shadow-rose-500/30","bg-gradient-to-br from-red-400 to-red-600 shadow-lg shadow-red-500/30","bg-gradient-to-br from-orange-400 to-orange-600 shadow-lg shadow-orange-500/30","bg-gradient-to-br from-amber-400 to-amber-600 shadow-lg shadow-amber-500/30","bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-lg shadow-yellow-500/30","bg-gradient-to-br from-zinc-500 to-zinc-700 shadow-lg shadow-zinc-500/30","bg-gradient-to-br from-slate-500 to-slate-700 shadow-lg shadow-slate-500/30"],BC=({isOpen:e,onClose:n,onSuccess:a,initialType:i="expense"})=>{const{addCategory:o,totalProjectedIncome:u}=Pl(),[d,f]=T.useState(""),[p,g]=T.useState(i),[x,b]=T.useState(Ib[0]),[y,_]=T.useState("Home"),[w,N]=T.useState(!1);if(!e)return null;const j=async A=>{if(A.preventDefault(),!!d){N(!0);try{await o({category:d,type:p,limit:0,color:x,icon_key:y}),a==null||a(d),n(),f("")}catch(S){console.error(S),alert(`Failed to create category: ${S.message||S}`)}finally{N(!1)}}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-[#1A1A1A] border border-white/10 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:"New Category"}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-white/5 rounded-full text-gray-400",children:s.jsx(Dt,{size:20})})]}),s.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Category Name"}),s.jsx("input",{type:"text",value:d,onChange:A=>f(A.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-emerald-500/50 mt-1",placeholder:"e.g. Gaming",autoFocus:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-xl",children:[s.jsx("button",{type:"button",onClick:()=>g("expense"),className:`py-2 rounded-lg text-sm font-medium transition-all ${p==="expense"?"bg-red-500/20 text-red-400":"text-gray-500 hover:text-gray-300"}`,children:"Expense"}),s.jsx("button",{type:"button",onClick:()=>g("income"),className:`py-2 rounded-lg text-sm font-medium transition-all ${p==="income"?"bg-emerald-500/20 text-emerald-400":"text-gray-500 hover:text-gray-300"}`,children:"Income"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 block",children:"Color Tag"}),s.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ib.map(A=>s.jsx("button",{type:"button",onClick:()=>b(A),className:`w-8 h-8 rounded-full ${A} transition-transform hover:scale-110 flex items-center justify-center ${x===A?"ring-2 ring-white scale-110":"opacity-70"}`,children:x===A&&s.jsx(Vn,{size:12,className:"text-white drop-shadow-md"})},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 block",children:"Icon"}),s.jsx("div",{className:"h-48 overflow-y-auto grid grid-cols-5 gap-2 pr-2 custom-scrollbar",children:$C.map(A=>{const S=bi(A);return s.jsx("button",{type:"button",onClick:()=>_(A),className:`p-3 rounded-xl flex items-center justify-center transition-all ${y===A?"bg-white/10 text-white ring-1 ring-white/50":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,children:s.jsx(S,{size:20})},A)})})]}),s.jsxs("div",{className:"pt-4 border-t border-white/10 flex gap-3",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-3 rounded-xl hover:bg-white/5 text-gray-400 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!d||w,className:"flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-medium hover:from-emerald-500 hover:to-teal-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?"Creating...":"Create Category"})]})]})]})})},qh=({value:e,onChange:n,type:a,placeholder:i="Select Category...",compact:o=!1})=>{const{categories:u,loading:d}=Pl(),[f,p]=T.useState(!1),[g,x]=T.useState(!1),[b,y]=T.useState(""),_=T.useRef(null);T.useEffect(()=>{const A=S=>{_.current&&!_.current.contains(S.target)&&p(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const w=u.filter(A=>a?A.type===a:!0).filter(A=>A.category.toLowerCase().includes(b.toLowerCase())).slice(0,50),N=u.find(A=>A.category===e),j=N?bi(N.icon_key):gc;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative w-full",ref:_,children:[!o&&s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Category"}),s.jsxs("button",{type:"button",onClick:()=>p(!f),className:`w-full flex items-center justify-between bg-white/5 border ${f?"border-emerald-500/50":"border-white/10"} ${o?"py-2 px-3 text-xs":"py-3 px-4 text-sm"} rounded-xl text-white transition-all hover:bg-white/10`,children:[N?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{style:{backgroundColor:""},className:`${o?"w-5 h-5":"w-7 h-7"} rounded-full flex items-center justify-center text-white shadow-[0_0_10px_rgba(255,255,255,0.2)] ${N.color} shadow-lg`,children:s.jsx(j,{size:o?12:14})}),s.jsx("span",{className:"font-semibold",children:N.category})]}):s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(gc,{size:14}),s.jsx("span",{children:e||i})]}),s.jsx(Hb,{size:14,className:`text-gray-500 transition-transform ${f?"rotate-180":""}`})]}),f&&s.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-[#0F0F0F] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-in fade-in zoom-in-95 backdrop-blur-xl",children:[s.jsxs("div",{className:"p-2 border-b border-white/5 bg-white/5 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-black/40 rounded-lg px-3 py-2 border border-white/5",children:[s.jsx(fi,{size:14,className:"text-gray-500"}),s.jsx("input",{autoFocus:!0,className:"bg-transparent border-none outline-none text-xs text-white w-full placeholder:text-gray-600",placeholder:"Search...",value:b,onChange:A=>y(A.target.value)})]}),s.jsxs("button",{type:"button",onClick:()=>{p(!1),x(!0)},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 transition-colors text-xs font-medium border border-emerald-500/20",children:[s.jsx(Jt,{size:12}),"Create New Category"]})]}),s.jsxs("div",{className:"max-h-60 overflow-y-auto p-2 custom-scrollbar space-y-1",children:[d&&s.jsx("div",{className:"text-center text-gray-500 text-xs py-2",children:"Loading..."}),!d&&w.map(A=>{const S=bi(A.icon_key),O=A.category===e;return s.jsxs("button",{type:"button",onClick:()=>{n(A.category),p(!1),y("")},className:`w-full flex items-center gap-3 p-2 rounded-lg transition-all group ${O?"bg-white/10":"hover:bg-white/5"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white shrink-0 shadow-md group-hover:scale-110 transition-transform ${A.color}`,children:s.jsx(S,{size:14})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:`text-sm font-medium ${O?"text-white":"text-gray-300 group-hover:text-white"}`,children:A.category}),A.limit>0&&a==="expense"&&s.jsxs("div",{className:"text-[10px] text-gray-500",children:["Limit: $",A.limit.toLocaleString()]})]}),O&&s.jsx(Vn,{size:14,className:"text-emerald-500"})]},A.id)}),!d&&w.length===0&&s.jsx("div",{className:"p-4 text-center text-gray-500 text-xs",children:"No matches."})]})]})]}),s.jsx(BC,{isOpen:g,onClose:()=>x(!1),onSuccess:A=>{n(A),x(!1)},initialType:a})]})},PC=(e,n)=>{if(!n||n===0)return null;const a=e.toLowerCase(),o=`of $${n.toLocaleString()} Income`;return a.match(/housing|rent|mortgage|casa|hogar|alquiler|hipoteca/)?{amount:n*.3,reason:`30% ${o}`}:a.match(/food|dining|grocery|groceries|comida|supermercado/)?{amount:n*.15,reason:`15% ${o}`}:a.match(/transport|car|gas|fuel|uber|auto|transporte|gasolina/)?{amount:n*.15,reason:`15% ${o}`}:a.match(/util|electric|water|bill|luz|agua|servicios/)?{amount:n*.1,reason:`10% ${o}`}:a.match(/save|saving|invest|ahorro|inversion/)?{amount:n*.2,reason:`20% ${o}`}:a.match(/debt|loan|credit|deuda|prestamo|credito/)?{amount:n*.15,reason:`15% ${o}`}:a.match(/entertainment|fun|ocio|gaming|game|juegos|hobby|hobbies|subscription|netflix|spotify/)?{amount:n*.05,reason:`5% ${o}`}:a.match(/shopping|cloth|ropa|compras/)?{amount:n*.05,reason:`5% ${o}`}:null},Mb=Object.keys(Ec).map(e=>({id:e,icon:Ec[e]})),Ub=["bg-purple-500","bg-orange-500","bg-pink-500","bg-blue-500","bg-green-500","bg-red-500","bg-teal-500","bg-emerald-500","bg-indigo-500","bg-cyan-500","bg-rose-500","bg-amber-500","bg-violet-600","bg-sky-500","bg-lime-500","bg-fuchsia-500"],HC=({initialData:e,mode:n,onSave:a,onDelete:i,onCancel:o})=>{const{categories:u,totalProjectedIncome:d}=Pl(),[f,p]=T.useState(""),[g,x]=T.useState(""),[b,y]=T.useState("expense"),[_,w]=T.useState(Ub[0]),[N,j]=T.useState("Wallet");T.useEffect(()=>{e&&(p(e.category),x(e.limit.toString()),y(e.type||"expense"),w(e.color),e.icon_key&&j(e.icon_key))},[e]);const A=b==="expense"?PC(f,d):null,S=A?Math.round(A.amount):0,O=z=>{p(z);const C=u.find($=>$.category===z);C&&(y(C.type),w(C.color),C.icon_key&&Mb.some($=>$.id===C.icon_key)&&j(C.icon_key))},I=z=>{if(z.preventDefault(),!f||n==="budget"&&!g&&b!=="income")return;const C={id:e?e.id:crypto.randomUUID(),category:f,limit:g?parseFloat(g):0,spent:e?e.spent:0,type:b,color:_,icon_key:N};a(C)},D=()=>{e&&i&&window.confirm("Are you sure you want to delete this category?")&&i(e.id)};return s.jsx("div",{className:"fixed inset-0 z-[70] bg-neutral-950/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full ${n==="category"?"max-w-xl":"max-w-md"} bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl p-6 shadow-2xl animate-fade-in relative transition-all`,children:[s.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-neutral-500 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})}),s.jsx("h2",{className:"text-xl font-display font-bold text-neutral-900 dark:text-white mb-6 flex items-center gap-2",children:n==="category"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 text-purple-600 rounded-xl",children:s.jsx(gc,{size:20})}),e?"Edit Category Visuals":"Create Custom Category"]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-2 bg-gold-500/10 text-gold-500 rounded-xl",children:s.jsx(tr,{size:20})}),e?"Update Budget Limit":"Set Budget Limit"]})}),s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[(n==="category"||!e)&&s.jsxs("div",{className:"flex bg-platinum-100 dark:bg-neutral-950 rounded-xl p-1 border border-platinum-200 dark:border-neutral-800",children:[s.jsx("button",{type:"button",onClick:()=>y("expense"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${b==="expense"?"bg-neutral-800 text-white shadow-md":"text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300"}`,children:"Expense"}),s.jsx("button",{type:"button",onClick:()=>y("income"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${b==="income"?"bg-neutral-800 text-white shadow-md":"text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300"}`,children:"Income Source"})]}),n==="budget"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(qh,{value:f,onChange:O,placeholder:"Select Category..."})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:b==="income"?"Target Amount":"Monthly Limit"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{size:16,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"number",value:g,onChange:z=>x(z.target.value),placeholder:"0.00",autoFocus:!0,className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-lg font-bold rounded-xl p-3 pl-9 outline-none focus:border-gold-500 transition-colors"})]}),S>0&&(!g||Number(g)===0)?s.jsxs("button",{type:"button",onClick:()=>x(S.toString()),className:"mt-2 text-xs flex items-center gap-1.5 text-emerald-500 dark:text-emerald-400 hover:text-emerald-600 transition-colors animate-fade-in font-bold bg-emerald-50 dark:bg-emerald-900/10 px-3 py-2 rounded-lg border border-emerald-100 dark:border-emerald-900/30 w-full",children:[s.jsx(pi,{size:14}),s.jsxs("span",{children:["Smart Suggestion: $",S," (",A==null?void 0:A.reason,")"]})]}):b==="expense"&&d===0?s.jsxs("div",{className:"mt-2 text-[10px] text-neutral-400 flex items-center gap-1.5 px-2",children:[s.jsx(pi,{size:12,className:"text-neutral-500"}),"Add Income items to see smart budget suggestions."]}):null]})]}),n==="category"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:"Category Name"}),s.jsx("input",{type:"text",value:f,onChange:z=>p(z.target.value),placeholder:"e.g., Hobby Projects, Weekend Trips...",className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-base font-bold rounded-xl p-3 outline-none focus:border-purple-500 transition-colors"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-3 uppercase tracking-wider",children:"Color Theme"}),s.jsx("div",{className:"grid grid-cols-4 gap-3 bg-platinum-50 dark:bg-neutral-950 p-3 rounded-2xl border border-platinum-100 dark:border-neutral-800",children:Ub.map(z=>s.jsx("button",{type:"button",onClick:()=>w(z),className:`w-full aspect-square rounded-full transition-all duration-300 flex items-center justify-center ${z.replace("bg-","bg-")} ${_===z?"scale-110 shadow-lg ring-2 ring-offset-2 ring-neutral-900 dark:ring-white ring-offset-white dark:ring-offset-black":"opacity-70 hover:opacity-100 hover:scale-105"}`,children:_===z&&s.jsx(Vn,{size:12,className:"text-white drop-shadow-md",strokeWidth:3})},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-3 uppercase tracking-wider",children:"Icon"}),s.jsx("div",{className:"grid grid-cols-5 gap-2 h-48 overflow-y-auto p-2 bg-platinum-50 dark:bg-neutral-950 rounded-2xl border border-platinum-100 dark:border-neutral-800 custom-scrollbar content-start",children:Mb.map((z,C)=>{const $=N===z.id;return s.jsxs("button",{type:"button",onClick:()=>j(z.id),className:`aspect-square rounded-xl flex items-center justify-center transition-all duration-300 relative group
                            ${$?"scale-110 z-10 shadow-lg ring-2 ring-offset-1 ring-neutral-200 dark:ring-neutral-700":"hover:bg-white dark:hover:bg-neutral-800 hover:shadow-sm"}`,children:[s.jsx("div",{className:`absolute inset-0 rounded-xl transition-all ${$?_:"bg-transparent"}`}),s.jsx(z.icon,{size:18,className:`relative z-10 transition-colors ${$?"text-white":"text-neutral-400 group-hover:text-neutral-900 dark:group-hover:text-white"}`}),$&&s.jsx("div",{className:"absolute inset-0 rounded-xl ring-2 ring-white/20"})]},z.id)})})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-platinum-200 dark:border-neutral-800",children:[e&&i&&s.jsx("button",{type:"button",onClick:D,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:"Delete Category",children:s.jsx(or,{size:20})}),s.jsx("button",{type:"button",onClick:o,className:"px-6 py-3 rounded-xl bg-platinum-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 font-bold hover:bg-platinum-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:`flex-1 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg hover:brightness-110 hover:translate-y-[-1px] active:translate-y-[0px] text-white ${n==="category"?"bg-purple-600":"bg-gold-500 text-neutral-950"}`,children:[s.jsx(Vn,{size:18}),e?"Save Changes":n==="category"?"Create Category":"Set Budget"]})]})]})]})})},qC=({item:e,transactions:n,accounts:a,currencyCode:i,onClose:o,privacyMode:u,t:d})=>{const f=Fy(e.category),p=n.filter(O=>f.includes(O.category)&&new Date(O.date).getMonth()===new Date().getMonth()&&new Date(O.date).getFullYear()===new Date().getFullYear()).sort((O,I)=>new Date(I.date).getTime()-new Date(O.date).getTime()),g=new Date,x=new Date(g.getFullYear(),g.getMonth()+1,0).getDate(),b=Math.max(1,x-g.getDate()),y=e.limit-e.spent,_=e.type==="income",w=Math.max(0,y/b),N=!_&&y<0;let j="",A="neutral";_&&e.limit>0&&(e.spent>e.limit?(j=`${Math.round((e.spent-e.limit)/e.limit*100)}% ${d("budget.incomeHigher")}`,A="positive"):g.getDate()>20&&e.spent/e.limit<.5&&(j=`${Math.round((e.limit-e.spent)/e.limit*100)}% ${d("budget.incomeLower")}`,A="negative"));const S=p.length>0?p.reduce((O,I)=>O.numericAmount>I.numericAmount?O:I):null;return!_&&S&&e.spent/e.limit>.5&&(j=`${d("budget.majorContributor")}: ${S.description} (${be(S.numericAmount,i,{privacy:u})})`,A=N?"negative":"neutral"),s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-neutral-950/80 backdrop-blur-sm animate-fade-in",onClick:o,children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 w-full max-w-lg rounded-3xl shadow-2xl flex flex-col max-h-[90vh]",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-platinum-200 dark:border-neutral-800 flex items-center justify-between shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl shadow-lg text-white ${N?"bg-red-500 shadow-red-900/20":e.color||"bg-emerald-500"}`,children:Vh.createElement(bi(e.icon_key),{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:e.category}),s.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wider",children:d(_?"transactions.income":"transactions.expense")})]})]}),s.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-platinum-100 dark:hover:bg-neutral-800 text-neutral-500 transition-colors",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[j&&s.jsx("div",{className:`rounded-2xl p-5 border ${A==="positive"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-900/30":A==="negative"?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/30":"bg-blue-50 dark:bg-blue-900/10 border-blue-200 dark:border-blue-900/30"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-full ${A==="positive"?"bg-emerald-100 text-emerald-600":A==="negative"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:A==="positive"?s.jsx(Pt,{size:20}):s.jsx(Ir,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold text-sm mb-1 ${A==="positive"?"text-emerald-700 dark:text-emerald-400":A==="negative"?"text-red-700 dark:text-red-400":"text-blue-700 dark:text-blue-400"}`,children:d(_?A==="positive"?"budget.targetMet":"budget.status":"budget.attention")}),s.jsx("p",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200 leading-relaxed",children:j})]})]})}),!_&&s.jsx("div",{className:`rounded-2xl p-5 ${N?"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30":"bg-neutral-50 dark:bg-neutral-900/30 border border-neutral-200 dark:border-neutral-800"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-full ${N?"bg-red-100 text-red-600":"bg-neutral-200 text-neutral-600"}`,children:N?s.jsx(Ir,{size:20}):s.jsx(Ac,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-sm mb-1 text-neutral-900 dark:text-white",children:d(N?"budget.overBudget":"budget.dailySafeSpend")}),s.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2 leading-relaxed",children:d(N?"budget.adviceOver":"budget.adviceSafe")}),!N&&s.jsxs("div",{className:"text-2xl font-display font-bold text-neutral-900 dark:text-white",children:[be(w,i,{privacy:u})," ",s.jsxs("span",{className:"text-xs font-sans font-normal text-neutral-500",children:["/ ",d("common.day")]})]})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(On,{size:16,className:"text-gold-500"})," ",d("budget.recentTransactions")]}),p.length>0?s.jsx("div",{className:"space-y-3",children:p.slice(0,10).map(O=>{var I;return s.jsxs("div",{className:"flex justify-between items-center p-3 rounded-xl hover:bg-platinum-50 dark:hover:bg-neutral-800/50 transition-colors border border-transparent hover:border-platinum-200 dark:hover:border-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-xs font-bold text-neutral-400 w-8 text-center leading-tight",children:[new Date(O.date).getDate(),s.jsx("span",{className:"block text-[8px] font-normal uppercase",children:new Date(O.date).toLocaleString("default",{month:"short"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white line-clamp-1",children:O.description}),s.jsx("p",{className:"text-[10px] text-neutral-500",children:((I=a.find(D=>D.id===O.accountId))==null?void 0:I.name)||"Unknown"})]})]}),s.jsxs("span",{className:`font-mono font-bold text-sm ${O.type==="credit"?"text-emerald-500":"text-neutral-900 dark:text-white"}`,children:[O.type==="credit"?"+":"",be(O.numericAmount,i,{privacy:u})]})]},O.id)})}):s.jsx("div",{className:"text-center py-8 text-neutral-500 text-xs italic",children:d("transactions.noResults")})]})]})]})})},Lb=({item:e,spent:n,isEditing:a,onEditClick:i,onClick:o,privacyMode:u,currencyCode:d,t:f})=>{const p=e.type==="income",g=bi(e.icon_key),x=new Date,b=x.getDate(),y=new Date(x.getFullYear(),x.getMonth()+1,0).getDate(),_=b/y;e.limit*_;const w=!p&&n>e.limit,N=p&&n>=e.limit,j=Math.max(0,e.limit-n),A=e.limit>0?n/e.limit*100:0,S=Math.round(A),O=Math.max(e.limit,n,1),I=e.limit/O*100,D=Math.max(0,n/O*100),z=e.limit*_/O*100;let C="",$="",H="";return p?N?(C=f("budget.targetMet"),$="text-emerald-500",H="bg-emerald-500"):(C=f("budget.underBudget"),$="text-neutral-500",H="bg-neutral-300 dark:bg-neutral-700",H=e.color):w?(C=`${f("budget.overBudget")} (${S}%)`,$="text-red-500",H="bg-red-500"):(C=f("budget.withinBudget"),$="text-emerald-500",H=e.color),s.jsxs("div",{onClick:()=>{a?i(e):o&&o(e)},className:`bg-white dark:bg-neutral-900 border rounded-2xl p-5 transition-all group relative overflow-hidden flex flex-col justify-between min-h-[190px] shadow-sm dark:shadow-none ${a?"border-gold-500/50 bg-platinum-100 dark:bg-neutral-900/80 cursor-pointer hover:bg-white dark:hover:bg-neutral-800":"border-platinum-200 dark:border-neutral-800 hover:border-platinum-300 dark:hover:border-neutral-700 cursor-pointer hover:shadow-md"} ${w&&!a?"bg-red-50 dark:bg-neutral-900 border-red-200 dark:border-neutral-800":""}`,children:[w&&!a&&s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:s.jsx(Ir,{size:100,className:"text-red-500"})}),s.jsx("div",{className:"flex justify-between items-start mb-4 relative z-10",children:s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center transition-colors shadow-lg shrink-0 text-white ${w?"bg-red-500 shadow-red-900/20":N?"bg-emerald-500 shadow-emerald-900/20":e.color||"bg-neutral-800"}`,children:s.jsx(g,{size:24})}),s.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white text-base truncate",children:e.category}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[s.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${w?"bg-red-500":p&&!N?"bg-neutral-400":"bg-emerald-500"}`}),s.jsx("span",{className:`text-[11px] font-bold uppercase tracking-wider truncate ${$}`,children:C})]})]})]})}),s.jsx("div",{className:"relative z-10 mb-4",children:s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase text-neutral-500 font-bold",children:f(p?"budget.received":"budget.used")}),s.jsx("span",{className:`text-2xl font-display font-bold ${w?"text-red-500":"text-neutral-900 dark:text-white"}`,children:be(n,d,{privacy:u})})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-[10px] uppercase text-neutral-500 font-bold",children:f("accounts.limit")}),s.jsx("span",{className:"text-lg font-mono text-neutral-400 dark:text-neutral-600",children:be(e.limit,d,{privacy:u})})]})]})}),s.jsxs("div",{className:"space-y-2 relative z-10 mt-auto",children:[s.jsxs("div",{className:"h-4 w-full bg-platinum-200 dark:bg-neutral-950 rounded-full overflow-hidden relative border border-platinum-300 dark:border-neutral-800/50",children:[!p&&s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-neutral-900/30 dark:bg-white/30 z-20",style:{left:`${z}%`},title:f("budget.pacingToday")}),s.jsx("div",{className:"absolute top-0 bottom-0 left-0 bg-platinum-300 dark:bg-neutral-800/50 z-0 border-r border-dashed border-neutral-400 dark:border-neutral-600",style:{width:`${I}%`}}),s.jsx("div",{className:`h-full rounded-full transition-all duration-700 relative z-10 ${H}`,style:{width:`${D}%`}})]}),s.jsxs("div",{className:"flex justify-between items-center text-[11px] font-medium",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-neutral-500",children:[f("budget.remaining"),":"]}),s.jsx("span",{className:`font-bold ${j<0?"text-red-500":"text-neutral-900 dark:text-white"}`,children:be(p?Math.max(0,e.limit-n):j,d,{privacy:u})})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-neutral-500",children:[f("budget.percentage"),":"]}),s.jsxs("span",{className:`font-bold ${w?"text-red-500":"text-neutral-900 dark:text-white"}`,children:[S,"%"]})]})]})]}),a&&s.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-neutral-950/60 backdrop-blur-[1px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-full p-2 text-gold-500",children:s.jsx(yi,{size:24})})})]})},GC=({goal:e,isEditing:n,onEditClick:a,onDepositClick:i,privacyMode:o,currencyCode:u,t:d})=>{let f=iy;typeof e.icon=="string"?f=bi(e.icon):(typeof e.icon=="function"||typeof e.icon=="object")&&(f=e.icon);const p=Math.min(e.savedAmount/e.targetAmount*100,100),g=30,x=2*Math.PI*g,b=x-p/100*x;return s.jsxs("div",{onClick:()=>n&&a(e),className:`bg-white dark:bg-neutral-900 border rounded-2xl p-6 flex items-center gap-6 relative overflow-hidden group transition-all shadow-sm dark:shadow-none ${n?"border-gold-500/50 cursor-pointer bg-platinum-50 dark:bg-neutral-900/80 hover:bg-white dark:hover:bg-neutral-800":"border-platinum-200 dark:border-neutral-800 hover:border-gold-500/30"}`,children:[s.jsxs("div",{className:"relative w-20 h-20 shrink-0 flex items-center justify-center",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:g,className:"stroke-platinum-200 dark:stroke-neutral-800",strokeWidth:"6",fill:"none"}),s.jsx("circle",{cx:"40",cy:"40",r:g,stroke:e.color.replace("bg-","text-").replace("500","400"),strokeWidth:"6",fill:"none",strokeDasharray:x,strokeDashoffset:b,className:"transition-all duration-1000 ease-out",strokeLinecap:"round"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-bold text-neutral-900 dark:text-white",children:[Math.round(p),"%"]})})]}),s.jsxs("div",{className:"flex-1 z-10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white text-sm",children:e.name}),s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-wider",children:e.deadline?`${d("budget.due")} ${e.deadline}`:d("budget.noDeadline")})]}),n?s.jsx("div",{className:`p-2 rounded-lg bg-platinum-100 dark:bg-neutral-950 ${e.color.replace("bg-","text-")} bg-opacity-10`,children:s.jsx(f,{size:16})}):s.jsx("button",{onClick:y=>{y.stopPropagation(),i(e)},className:"p-2 rounded-lg bg-gold-500 text-neutral-950 hover:bg-gold-400 transition-colors shadow-lg",title:d("budget.addFunds"),children:s.jsx(Jt,{size:16})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-mono font-bold text-neutral-900 dark:text-white",children:be(e.savedAmount,u,{privacy:o})}),s.jsxs("p",{className:"text-[10px] text-neutral-500",children:[d("budget.ofGoal")," ",be(e.targetAmount,u,{privacy:o})]})]})]}),n&&s.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-neutral-950/60 backdrop-blur-[1px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-full p-2 text-gold-500",children:s.jsx(yi,{size:20})})})]})},VC=({budgets:e,onUpdateBudget:n,onAddBudget:a,onDeleteBudget:i,goals:o=[],onUpdateGoal:u,onAddGoal:d,onDeleteGoal:f,onContributeToGoal:p,transactions:g=[],privacyMode:x=!1,baseCurrency:b="USD",t:y})=>{const{accounts:_}=_i(),[w,N]=T.useState(!1),[j,A]=T.useState(null),[S,O]=T.useState(null),[I,D]=T.useState(null),[z,C]=T.useState(null),[$,H]=T.useState(""),Z=e.filter(E=>E.type==="income"&&(E.limit>0||w)),ae=e.filter(E=>E.type!=="income"&&(E.limit>0||w)),pe=Z.reduce((E,P)=>E+P.spent,0),ce=ae.reduce((E,P)=>E+P.spent,0),ue=pe-ce,me=pe>0?ue/pe*100:0,U=E=>{if((j==null?void 0:j.data)==="new"){const P={...E,spent:0};a==null||a(P)}else n(E);A(null)},B=E=>{S==="new"?d==null||d(E):u==null||u(E),O(null)},ne=E=>{i==null||i(E),A(null)},de=E=>{f==null||f(E),O(null)},oe=E=>{E.preventDefault(),z&&$&&p&&(p(z,parseFloat($)),C(null),H(""))};return s.jsxs("div",{className:"animate-fade-in space-y-8 pb-20 md:pb-0",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-5 relative overflow-hidden group shadow-sm dark:shadow-none",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(On,{size:80,className:"text-neutral-900 dark:text-white"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 bg-platinum-100 dark:bg-neutral-950 rounded-lg text-gold-500 border border-platinum-200 dark:border-neutral-800",children:s.jsx(Pj,{})}),s.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-wider",children:y("budget.netCashFlow")})]}),s.jsxs("h3",{className:`text-3xl font-display font-bold ${ue>=0?"text-neutral-900 dark:text-white":"text-red-500"}`,children:[ue>0?"+":"",be(ue,b,{privacy:x})]}),s.jsxs("div",{className:"mt-2 text-xs text-neutral-500",children:[s.jsxs("span",{className:me>20?"text-green-500 font-bold":"text-neutral-400",children:[me.toFixed(0),"%"]})," ",y("budget.savingsRate")]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-5 relative overflow-hidden group shadow-sm dark:shadow-none",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(Pt,{size:80,className:"text-emerald-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 bg-platinum-100 dark:bg-neutral-950 rounded-lg text-emerald-500 border border-platinum-200 dark:border-neutral-800",children:s.jsx(Pt,{size:16})}),s.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-wider",children:y("budget.incomeMtd")})]}),s.jsx("h3",{className:"text-3xl font-display font-bold text-emerald-500",children:be(pe,b,{privacy:x})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-5 relative overflow-hidden group shadow-sm dark:shadow-none",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:s.jsx(mc,{size:80,className:"text-red-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 bg-platinum-100 dark:bg-neutral-950 rounded-lg text-red-500 border border-platinum-200 dark:border-neutral-800",children:s.jsx(mc,{size:16})}),s.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-wider",children:y("budget.expensesMtd")})]}),s.jsx("h3",{className:"text-3xl font-display font-bold text-red-500",children:be(ce,b,{privacy:x})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(tr,{size:20,className:"text-gold-500"})," ",y("budget.allocations")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>A({mode:"budget",data:"new"}),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all bg-gold-500 text-neutral-950 hover:bg-gold-400 shadow-lg hover:shadow-gold-500/20",children:[s.jsx(Jt,{size:14})," ",y("common.add")]}),s.jsxs("button",{onClick:()=>N(!w),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-bold transition-all border ${w?"bg-neutral-900 text-white border-neutral-900 dark:bg-white dark:text-neutral-900":"bg-white dark:bg-neutral-900 text-neutral-400 border-platinum-200 dark:border-neutral-800 hover:text-neutral-900 dark:hover:text-white"}`,children:[w?s.jsx(Vn,{size:14}):s.jsx(yi,{size:14}),w?y("budget.doneEditing"):"Manage Categories"]})]})]}),w&&s.jsx("div",{className:"flex items-center justify-center -mt-2 mb-6 animate-pulse",children:s.jsxs("button",{onClick:()=>A({mode:"category",data:"new"}),className:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2 hover:scale-105 transition-transform border border-purple-200 dark:border-purple-800",children:[s.jsx(Jt,{size:14})," Create Custom Category"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Ac,{size:16,className:"text-blue-500"})," ",y("budget.wealthGoals")]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[o.map(E=>s.jsx(GC,{goal:E,isEditing:w,onEditClick:P=>O(P),onDepositClick:P=>C(P.id),privacyMode:x,currencyCode:b,t:y},E.id)),w&&s.jsxs("button",{onClick:()=>O("new"),className:"rounded-2xl border-2 border-dashed border-platinum-300 dark:border-neutral-800 flex flex-col items-center justify-center gap-3 text-neutral-400 dark:text-neutral-600 hover:text-gold-500 dark:hover:text-gold-500 hover:border-gold-500/50 hover:bg-platinum-50 dark:hover:bg-neutral-900/50 transition-all min-h-[150px]",children:[s.jsx(Jt,{size:24}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:y("budget.newGoal")})]})]}),o.length===0&&!w&&s.jsx("div",{className:"p-8 border border-dashed border-platinum-300 dark:border-neutral-800 rounded-2xl text-center text-neutral-500",children:s.jsx("p",{className:"text-sm",children:y("budget.noGoals")})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(mc,{size:16,className:"text-red-500"})," ",y("budget.expenseLimits")]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[ae.map(E=>s.jsx(Lb,{item:E,spent:E.spent,isEditing:w,onEditClick:P=>A({mode:"category",data:P}),onClick:P=>D(P),privacyMode:x,currencyCode:b,t:y},E.id)),w&&s.jsxs("button",{onClick:()=>A({mode:"category",data:"new"}),className:"rounded-2xl border-2 border-dashed border-platinum-300 dark:border-neutral-800 flex flex-col items-center justify-center gap-3 text-neutral-400 dark:text-neutral-600 hover:text-gold-500 dark:hover:text-gold-500 hover:border-gold-500/50 hover:bg-platinum-50 dark:hover:bg-neutral-900/50 transition-all min-h-[150px]",children:[s.jsx(Jt,{size:24}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:y("budget.newCategory")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-emerald-500"})," ",y("budget.incomeTargets")]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Z.map(E=>s.jsx(Lb,{item:E,spent:E.spent,isEditing:w,onEditClick:P=>A({mode:"category",data:P}),onClick:P=>D(P),privacyMode:x,currencyCode:b,t:y},E.id))})]}),j&&s.jsx(HC,{initialData:j.data==="new"?null:j.data,mode:j.mode,onSave:U,onDelete:ne,onCancel:()=>A(null)}),S&&s.jsx(UC,{initialData:S==="new"?null:S,onSave:B,onDelete:de,onCancel:()=>O(null)}),z&&s.jsx("div",{className:"fixed inset-0 z-[80] bg-neutral-950/80 backdrop-blur-sm flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl p-6 w-full max-w-sm shadow-2xl animate-fade-in relative",children:[s.jsx("button",{onClick:()=>C(null),className:"absolute top-4 right-4 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})}),s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white mb-4",children:y("budget.addFunds")}),s.jsxs("form",{onSubmit:oe,children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase",children:y("common.amount")}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Ya,{size:16,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"number",value:$,onChange:E=>H(E.target.value),className:"w-full bg-platinum-50 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-lg font-bold rounded-xl p-3 pl-9 outline-none focus:border-gold-500",placeholder:"0.00",autoFocus:!0}),s.jsx("span",{className:"absolute right-3 top-3.5 text-xs text-neutral-500 font-bold",children:b})]}),s.jsx("button",{type:"submit",disabled:!$,className:"w-full py-3 bg-gold-500 text-neutral-950 font-bold rounded-xl hover:bg-gold-400 disabled:opacity-50 transition-all",children:y("budget.confirmDeposit")})]})]})}),I&&s.jsx(qC,{item:I,transactions:g,accounts:_,currencyCode:b,onClose:()=>D(null),privacyMode:x,t:y})]})},FC=({isOpen:e,onClose:n,metrics:a,activeMetricIds:i,onToggle:o})=>{const[u,d]=T.useState("");if(!e)return null;const f=a.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())||p.description&&p.description.toLowerCase().includes(u.toLowerCase()));return s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl animate-zoom-in",children:[s.jsxs("div",{className:"p-6 border-b border-neutral-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Select KPI Metrics"}),s.jsx("p",{className:"text-neutral-500 text-sm",children:"Choose the metrics you want to track for this business."})]}),s.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-neutral-800 text-neutral-400 hover:text-white transition-colors",children:s.jsx(Dt,{size:24})})]}),s.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-950/50",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500"}),s.jsx("input",{type:"text",placeholder:"Search metrics...",value:u,onChange:p=>d(p.target.value),className:"w-full bg-neutral-900 border border-neutral-800 rounded-xl py-3 pl-11 pr-4 text-white text-sm focus:border-gold-500 outline-none transition-colors"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:f.length===0?s.jsx("div",{className:"text-center py-12 text-neutral-500",children:s.jsxs("p",{children:['No metrics found matching "',u,'"']})}):f.map(p=>{const g=i.includes(p.id);return s.jsxs("button",{onClick:()=>o(p.id),className:`w-full text-left p-4 rounded-xl border transition-all flex items-start gap-4 group ${g?"bg-gold-500/10 border-gold-500/50":"bg-neutral-950/50 border-neutral-800 hover:bg-neutral-900 hover:border-neutral-700"}`,children:[s.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors ${g?"bg-gold-500 border-gold-500 text-neutral-950":"border-neutral-600 group-hover:border-neutral-400"}`,children:g&&s.jsx(Vn,{size:14,strokeWidth:3})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`text-sm font-bold ${g?"text-gold-500":"text-neutral-200"}`,children:p.name}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1 line-clamp-2",children:p.description||"Track the performance of this specific metric."}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-[10px] bg-neutral-800 px-2 py-0.5 rounded text-neutral-400 uppercase tracking-wider",children:p.type}),p.is_calculated&&s.jsx("span",{className:"text-[10px] bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded uppercase tracking-wider border border-blue-500/20",children:"Auto-Calculated"})]})]})]},p.id)})}),s.jsx("div",{className:"p-4 border-t border-neutral-800 flex justify-end",children:s.jsx("button",{onClick:n,className:"bg-white text-neutral-950 px-6 py-2.5 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Done"})})]})})},YC=({searchQuery:e="",baseCurrency:n,t:a})=>{var U;const{entities:i,healthScores:o,addEntity:u,updateEntity:d,deleteEntity:f,metricPacks:p,metricDefinitions:g,businessMetrics:x}=Bl(),{transactions:b}=Ni(),{accounts:y}=_i(),[_,w]=T.useState(null),[N,j]=T.useState(!1),[A,S]=T.useState(""),[O,I]=T.useState("store"),[D,z]=T.useState(""),[C,$]=T.useState(!1),H=T.useMemo(()=>i.find(B=>B.id===_),[i,_]),Z=H?o[H.id]:null,ae=H?x[H.id]:[],pe=async()=>{if(!A)return;const B={id:crypto.randomUUID(),name:A,type:O};await u(B,D),j(!1),S("")},ce=(B,ne)=>{if(!H)return;const de=parseFloat(ne),oe=H.customMetricsValues||{},E={...H,customMetricsValues:{...oe,[B]:de}};d(E)},ue=B=>{if(!H)return;const ne=H.customMetricsConfig||ae.map(oe=>oe.metric_id);let de;ne.includes(B)?de=ne.filter(oe=>oe!==B):de=[...ne,B],d({...H,customMetricsConfig:de})},me=async()=>{H&&confirm(`Are you sure you want to delete ${H.name}? This cannot be undone and will delete specific metrics.`)&&(await f(H.id),w(null))};if(H){const B=b.filter(E=>E.business_id===H.id),ne=B.filter(E=>E.type==="credit").reduce((E,P)=>E+P.numericAmount,0),de=B.filter(E=>E.type==="debit").reduce((E,P)=>E+P.numericAmount,0),oe=ne-de;return s.jsxs("div",{className:"animate-fade-in space-y-6 pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>w(null),className:"p-2 rounded-full bg-platinum-100 dark:bg-neutral-800 text-neutral-500 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(si,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:H.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 uppercase tracking-wider",children:[s.jsx("span",{className:"bg-platinum-100 dark:bg-neutral-800 px-2 py-0.5 rounded text-neutral-600 dark:text-neutral-400",children:H.type}),s.jsx("span",{children:""}),s.jsxs("span",{className:(Z==null?void 0:Z.status)==="critical"?"text-red-500 font-bold":(Z==null?void 0:Z.status)==="at_risk"?"text-orange-500 font-bold":"text-green-500 font-bold",children:["Health Score: ",(Z==null?void 0:Z.overall_score)||0,"/100"]})]})]}),s.jsx("button",{onClick:me,className:"px-4 py-2 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white font-bold text-xs transition-colors",children:"Delete Entity"})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white flex items-center gap-2 mb-3",children:[s.jsx(On,{size:16,className:"text-gold-500"})," AI Diagnosis"]}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm leading-relaxed",children:((U=Z==null?void 0:Z.diagnosis)==null?void 0:U.summary)||"Insufficient data for detailed diagnosis."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-5 rounded-2xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-1",children:"Revenue"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-neutral-900 dark:text-white",children:be(ne,n)})]}),s.jsxs("div",{className:"p-5 rounded-2xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-1",children:"Expenses"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-neutral-900 dark:text-white",children:be(de,n)})]}),s.jsxs("div",{className:"p-5 rounded-2xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-1",children:"Net Profit"}),s.jsx("p",{className:`text-2xl font-mono font-bold ${oe>=0?"text-green-500":"text-red-500"}`,children:be(oe,n)})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(Ac,{size:16,className:"text-gold-500"})," KPI Goals & Targets"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ae==null?void 0:ae.map(E=>{var Y,G;const P=g.find(te=>te.id===E.metric_id);return s.jsxs("div",{className:"p-4 rounded-2xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 flex flex-col gap-3 group",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:(P==null?void 0:P.name)||E.metric_id.replace(/_/g," ")}),s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase",children:(P==null?void 0:P.format)==="currency"?"Currency Goal":"Percentage Goal"})]}),s.jsxs("div",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 rounded text-[10px] font-bold text-neutral-500",children:["Current: ",((Y=g.find(te=>te.id===E.metric_id))==null?void 0:Y.format)==="currency"?"$":"",Math.round(0),((G=g.find(te=>te.id===E.metric_id))==null?void 0:G.format)==="currency"?"":"%"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-platinum-50 dark:bg-neutral-950 p-2 rounded-xl border border-platinum-200 dark:border-neutral-800 focus-within:border-gold-500 transition-colors",children:[s.jsx("span",{className:"text-xs text-neutral-500 font-bold uppercase",children:"Target:"}),s.jsx("input",{type:"number",defaultValue:E.target_value,onBlur:te=>ce(E.metric_id,te.target.value),className:"bg-transparent w-full outline-none text-sm font-mono font-bold text-neutral-900 dark:text-white",placeholder:"Set Goal..."})]})]},E.id)}),s.jsx("div",{onClick:()=>$(!0),className:"p-4 rounded-2xl bg-platinum-50 dark:bg-neutral-900/50 border border-dashed border-platinum-300 dark:border-neutral-800 flex items-center justify-center text-neutral-400 hover:text-gold-500 hover:border-gold-500 transition-all cursor-pointer opacity-50 hover:opacity-100",title:"Manage Metrics",children:s.jsxs("span",{className:"text-xs font-bold flex items-center gap-2",children:[s.jsx(Jt,{size:14})," Add Metric Target"]})})]})]}),s.jsx(FC,{isOpen:C,onClose:()=>$(!1),metrics:g,activeMetricIds:H.customMetricsConfig||ae.map(E=>E.metric_id),onToggle:ue}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl overflow-hidden mt-6",children:[s.jsx("div",{className:"p-4 border-b border-platinum-200 dark:border-neutral-800 bg-platinum-50 dark:bg-neutral-950/30",children:s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase",children:"Recent Activity"})}),s.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:B.length===0?s.jsx("p",{className:"p-8 text-center text-sm text-neutral-500",children:"No linked transactions found."}):B.slice(0,10).map(E=>s.jsxs("div",{className:"p-3 border-b border-platinum-100 dark:border-neutral-800 flex justify-between items-center text-sm hover:bg-platinum-50 dark:hover:bg-neutral-800 transition-colors",children:[s.jsx("span",{className:"text-neutral-900 dark:text-white font-medium",children:E.name||E.description}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:`block font-mono font-bold ${E.type==="credit"?"text-green-500":"text-neutral-900 dark:text-white"}`,children:[E.type==="credit"?"+":"",be(E.numericAmount,n)]}),s.jsx("span",{className:"text-[10px] text-neutral-500",children:new Date(E.date).toLocaleDateString()})]})]},E.id))})]})]})}return s.jsxs("div",{className:"animate-fade-in space-y-8 pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(On,{size:20,className:"text-gold-500"})," ",a("business.executiveOverview")]}),s.jsx("p",{className:"text-neutral-500 text-sm",children:"Portfolio Health & Performance"})]}),s.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-gold-500 text-neutral-950 px-4 py-2 rounded-xl font-bold hover:bg-gold-400 transition-colors shadow-lg",children:[s.jsx(Jt,{size:18})," ",a("business.newEntity")]})]}),i.length>0&&(()=>{const B=b.filter(E=>E.business_id),ne=B.filter(E=>E.type==="credit").reduce((E,P)=>E+P.numericAmount,0),de=B.filter(E=>E.type==="debit").reduce((E,P)=>E+P.numericAmount,0),oe=ne-de;return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-6 rounded-3xl bg-neutral-900 text-white flex flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:s.jsx(Pt,{size:64})}),s.jsx("p",{className:"text-xs font-bold text-neutral-400 uppercase mb-2",children:"Portfolio Revenue"}),s.jsx("p",{className:"text-3xl font-display font-bold",children:be(ne,n)})]}),s.jsxs("div",{className:"p-6 rounded-3xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 flex flex-col justify-between",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-2",children:"Total Expenses"}),s.jsx("p",{className:"text-3xl font-mono font-bold text-neutral-900 dark:text-white",children:be(de,n)})]}),s.jsxs("div",{className:"p-6 rounded-3xl bg-gold-500 text-neutral-950 flex flex-col justify-between shadow-lg shadow-gold-500/20",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-800 uppercase mb-2",children:"Net Portfolio Profit"}),s.jsx("p",{className:"text-3xl font-mono font-bold",children:be(oe,n)})]})]})})(),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-6",children:[i.map(B=>{var E;const ne=o[B.id],de=(ne==null?void 0:ne.overall_score)||0,oe=(ne==null?void 0:ne.status)||"healthy";return s.jsxs("div",{onClick:()=>w(B.id),className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-6 hover:border-gold-500/30 transition-all shadow-sm group relative overflow-hidden cursor-pointer hover:shadow-lg",children:[s.jsx("div",{className:`absolute top-0 right-0 p-3 flex flex-col items-center justify-center w-12 rounded-bl-2xl border-b border-l 
                                ${oe==="healthy"?"bg-green-500/10 border-green-500/20 text-green-500":oe==="at_risk"?"bg-orange-500/10 border-orange-500/20 text-orange-500":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:s.jsx("span",{className:"text-xs font-bold",children:de})}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-lg ${B.type==="channel"?"bg-blue-600":"bg-neutral-700"}`,children:B.type==="channel"?s.jsx(Ul,{size:20}):s.jsx(pc,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-neutral-900 dark:text-white group-hover:text-gold-500 transition-colors",children:B.name}),s.jsx("p",{className:"text-xs text-neutral-500 capitalize",children:B.type})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[(E=ne==null?void 0:ne.diagnosis)==null?void 0:E.top_detractors.slice(0,2).map(P=>s.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400 bg-red-500/5 p-1.5 rounded",children:[s.jsx(Ir,{size:12}),s.jsx("span",{className:"capitalize",children:P.replace(/_/g," ")})]},P)),(!ne||ne.diagnosis.top_detractors.length===0)&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-500 bg-green-500/5 p-1.5 rounded",children:[s.jsx(Zh,{size:12}),s.jsx("span",{children:"Systems Nominal"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-platinum-200 dark:border-neutral-800 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-neutral-400 font-bold",children:"View Diagnosis"}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-platinum-100 dark:bg-neutral-950 flex items-center justify-center text-neutral-500 group-hover:text-neutral-900 dark:group-hover:text-white transition-colors",children:s.jsx(Fa,{size:14})})]})]},B.id)}),i.length===0&&s.jsxs("div",{className:"col-span-full py-12 text-center text-neutral-500 bg-neutral-900/50 rounded-3xl border border-dashed border-neutral-800",children:[s.jsx(pc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Empty Portfolio"}),s.jsx("p",{className:"text-sm",children:"Add your first business entity to initialize the KPI engine."})]})]}),N&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl w-full max-w-md p-6 animate-zoom-in",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"New Business Entity"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase mb-1",children:"Name"}),s.jsx("input",{className:"w-full bg-neutral-950 border border-neutral-800 rounded-lg p-3 text-white",value:A,onChange:B=>S(B.target.value),placeholder:"e.g. Flagship Store"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase mb-1",children:"Type"}),s.jsxs("select",{className:"w-full bg-neutral-950 border border-neutral-800 rounded-lg p-3 text-white",value:O,onChange:B=>I(B.target.value),children:[s.jsx("option",{value:"store",children:"Physical Store"}),s.jsx("option",{value:"channel",children:"E-Commerce Channel"}),s.jsx("option",{value:"real_estate",children:"Real Estate"}),s.jsx("option",{value:"subsidiary",children:"Subsidiary / Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase mb-1",children:"KPI Pack Mode"}),s.jsxs("select",{className:"w-full bg-neutral-950 border border-neutral-800 rounded-lg p-3 text-white",value:D,onChange:B=>z(B.target.value),children:[s.jsx("option",{value:"",children:"-- No Pack (Manual Config) --"}),p.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:"Applying a pack will auto-create relevant KPI targets."})]}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 text-neutral-400 hover:text-white",children:"Cancel"}),s.jsx("button",{onClick:pe,disabled:!A,className:"flex-1 bg-gold-500 text-neutral-950 font-bold rounded-lg hover:bg-gold-400",children:"Launch"})]})]})]})})]})},ZC=({assets:e,baseCurrency:n})=>{const[a,i]=T.useState([]),[o,u]=T.useState(!1),[d,f]=T.useState(null),[p,g]=T.useState(""),x=async()=>{var b,y,_;if(e.length!==0){u(!0),g("");try{const{aiClient:w}=await Ka(async()=>{const{aiClient:C}=await Promise.resolve().then(()=>Ja);return{aiClient:C}},void 0,import.meta.url),j=`Find the latest financial news and market sentiment for these assets: ${e.map(C=>C.ticker||C.name).slice(0,5).join(", ")}. 
      Return a summary of the top 3 most important stories affecting these assets right now. 
      Focus on facts and market movement.`,A=await w.generateContent("gemini-2.5-flash",[{role:"user",parts:[{text:j}]}],{tools:[{googleSearch:{}}],responseMimeType:"application/json",responseSchema:{type:it.ARRAY,items:{type:it.OBJECT,properties:{title:{type:it.STRING},source:{type:it.STRING},sentiment:{type:it.STRING,enum:["positive","negative","neutral"]},snippet:{type:it.STRING}}}}});let S=[];const O=A.text();if(O)try{S=JSON.parse(O)}catch(C){console.error("Failed to parse news JSON",C)}const I=A.raw,z=(((_=(y=(b=I==null?void 0:I.candidates)==null?void 0:b[0])==null?void 0:y.groundingMetadata)==null?void 0:_.groundingChunks)||[]).map(C=>C.web).filter(C=>C&&C.uri&&C.title);S=S.map((C,$)=>{const H=z[$]||z[0];return{...C,url:(H==null?void 0:H.uri)||"#",source:C.source||(H==null?void 0:H.title)||"Unknown Source"}}),i(S),f(new Date)}catch(w){console.warn("Market API unavailable.",w),g("Unable to fetch live market news at this time."),i([])}finally{u(!1)}}};return T.useEffect(()=>{x()},[e.length]),e.length===0?s.jsx("div",{className:"p-6 text-center text-neutral-500 bg-neutral-900/30 rounded-2xl border border-dashed border-neutral-800",children:s.jsx("p",{className:"text-xs",children:"Add assets to your portfolio to see tailored market news."})}):s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl overflow-hidden shadow-sm dark:shadow-none flex flex-col h-full",children:[s.jsxs("div",{className:"p-5 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-platinum-50 dark:bg-neutral-950/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nj,{size:16,className:"text-gold-500"}),s.jsx("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-wider",children:"Market Intelligence"})]}),s.jsx("button",{onClick:x,disabled:o,className:"p-2 rounded-lg hover:bg-white dark:hover:bg-neutral-800 text-neutral-400 hover:text-gold-500 transition-all disabled:animate-spin",children:o?s.jsx(Fn,{size:16}):s.jsx(Za,{size:16})})]}),s.jsxs("div",{className:"flex-1 p-5 space-y-4",children:[p&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-500 text-xs",children:[s.jsx(yh,{size:16}),p]}),o&&a.length===0?s.jsx("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(b=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-xl"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-3 bg-neutral-800 rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-neutral-800 rounded w-full"}),s.jsx("div",{className:"h-2 bg-neutral-800 rounded w-1/2"})]})]},b))}):a.map((b,y)=>s.jsxs("div",{className:"group flex flex-col gap-2 pb-4 border-b border-neutral-100 dark:border-neutral-800 last:border-0 last:pb-0",children:[s.jsxs("div",{className:"flex justify-between items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:b.url,target:"_blank",rel:"noreferrer",className:"text-sm font-bold text-neutral-900 dark:text-neutral-200 group-hover:text-gold-500 transition-colors line-clamp-2 leading-snug",children:b.title}),s.jsx("p",{className:"text-[10px] text-neutral-500 mt-1 line-clamp-2 leading-relaxed",children:b.snippet})]}),s.jsx("div",{className:`p-1.5 rounded-lg shrink-0 ${b.sentiment==="positive"?"bg-green-500/10 text-green-500":b.sentiment==="negative"?"bg-red-500/10 text-red-500":"bg-neutral-800 text-neutral-400"}`,children:s.jsx(Pt,{size:14,className:b.sentiment==="negative"?"rotate-180":""})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-[9px] font-bold uppercase tracking-wider text-neutral-400 flex items-center gap-1",children:[b.source," ",s.jsx(Fb,{size:8})]}),y===0&&s.jsx("span",{className:"text-[9px] bg-gold-500/20 text-gold-500 px-1.5 py-0.5 rounded font-bold",children:"Top Story"})]})]},y)),!o&&a.length===0&&!p&&s.jsx("p",{className:"text-xs text-neutral-500 text-center py-8",children:"Tap refresh to load the latest market data for your assets."})]}),d&&s.jsx("div",{className:"p-3 bg-platinum-50 dark:bg-neutral-950 border-t border-platinum-200 dark:border-neutral-800 text-center",children:s.jsxs("p",{className:"text-[9px] text-neutral-500 font-mono",children:["Last Updated: ",d.toLocaleTimeString()," via Google Search"]})})]})},KC=({investments:e,baseCurrency:n,t:a})=>{const i=T.useMemo(()=>{const f={};let p=0;e.forEach(b=>{const y=Qe(b.currentValue,b.currency||"USD",n),_=b.type||"other";f[_]=(f[_]||0)+y,p+=y});const g={stock:"#3b82f6",etf:"#8b5cf6",crypto:"#f97316",real_estate:"#10b981",bond:"#64748b",startup:"#ec4899",commodity:"#eab308",other:"#a3a3a3"},x=Object.entries(f).map(([b,y])=>({name:b,value:y,percent:p>0?y/p*100:0,color:g[b]||g.other})).sort((b,y)=>y.value-b.value);return{totalValue:p,categories:x}},[e,n]),o=50,u=2*Math.PI*o;let d=0;return s.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/60 backdrop-blur-xl border border-white/40 dark:border-white/5 rounded-[2.5rem] p-8 shadow-xl flex flex-col h-full group transition-colors hover:border-gold-500/20 duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(tr,{size:16,className:"text-gold-500"})," Allocation"]}),s.jsx("div",{className:"flex bg-white/50 dark:bg-neutral-800/50 backdrop-blur-md rounded-xl p-1 border border-white/20 dark:border-white/5",children:s.jsx("span",{className:"px-3 py-1 text-[10px] font-bold tracking-wider uppercase text-neutral-500",children:"By Type"})})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsxs("svg",{viewBox:"0 0 120 120",className:"w-48 h-48 transform -rotate-90 drop-shadow-xl",children:[i.categories.map((f,p)=>{const g=f.percent/100*u;return d-=g,s.jsx("circle",{cx:"60",cy:"60",r:o,fill:"transparent",stroke:f.color,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${g} ${u}`,strokeDashoffset:-Math.abs(d+g),className:"transition-all duration-1000 origin-center hover:stroke-width-[14px] hover:opacity-90 cursor-pointer"},p)}),i.categories.length===0&&s.jsx("circle",{cx:"60",cy:"60",r:o,fill:"transparent",stroke:"#e5e5e5",strokeWidth:"12",className:"dark:stroke-neutral-800"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("span",{className:"text-[10px] uppercase font-bold text-neutral-400 tracking-widest mb-1",children:"Total Value"}),s.jsx("span",{className:"text-xl font-bold font-mono tracking-tight text-neutral-900 dark:text-white",children:be(i.totalValue,n,{compact:!0})})]})]}),s.jsxs("div",{className:"space-y-4",children:[i.categories.length>0&&s.jsxs("div",{className:"mb-4 pb-4 border-b border-neutral-200/50 dark:border-white/5",children:[s.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-wider font-bold mb-1",children:"Top Holding"}),s.jsxs("p",{className:"text-sm font-bold text-neutral-900 dark:text-white flex items-center gap-2 capitalize",children:[s.jsx("span",{className:"w-2.5 h-2.5 rounded-full shadow-sm",style:{backgroundColor:i.categories[0].color}}),i.categories[0].name.replace("_"," ")," ",s.jsxs("span",{className:"text-neutral-400 text-xs font-medium ml-auto",children:["(",Math.round(i.categories[0].percent),"%)"]})]})]}),s.jsx("div",{className:"max-h-[160px] overflow-y-auto pr-2 custom-scrollbar space-y-3",children:i.categories.length>0?i.categories.map((f,p)=>s.jsxs("div",{className:"flex items-center justify-between group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full ring-2 ring-white/10 dark:ring-black/10",style:{backgroundColor:f.color}}),s.jsx("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-300 truncate max-w-[100px] group-hover:text-neutral-900 dark:group-hover:text-white transition-colors capitalize",children:f.name.replace("_"," ")})]}),s.jsxs("div",{className:"text-right flex items-center gap-3",children:[s.jsx("span",{className:"block text-xs font-bold text-neutral-900 dark:text-white font-mono",children:be(f.value,n,{compact:!0})}),s.jsxs("span",{className:"text-[10px] text-neutral-400 w-8 text-right",children:[Math.round(f.percent),"%"]})]})]},p)):s.jsx("div",{className:"text-center py-4 text-neutral-400 text-xs",children:"No assets found"})})]})]})]})},JC=({basePrice:e,currency:n,color:a})=>{const[i,o]=T.useState(30),u=T.useMemo(()=>{const A=[];let S=e;A.push({day:0,value:S});for(let O=1;O<i;O++){const I=(Math.random()-.5)*.05;S=S*(1-I),A.push({day:O,value:S})}return A.reverse()},[e,i]),d=u.map(A=>A.value),f=Math.min(...d),p=Math.max(...d),g=p-f||1,x=100,b=40,y=u.map((A,S)=>{const O=S/(u.length-1)*x,I=b-(A.value-f)/g*b;return`${O},${I}`}).join(" "),_=u[0].value,N=u[u.length-1].value>=_,j=a||(N?"#10B981":"#EF4444");return s.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/60 backdrop-blur-xl border border-white/40 dark:border-white/5 rounded-[2.5rem] p-8 shadow-xl flex flex-col h-full group transition-colors hover:border-gold-500/20 duration-500 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gold-400/5 rounded-full blur-3xl pointer-events-none -mt-20 -mr-20"}),s.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(On,{size:16,className:"text-gold-500"})," Performance"]}),s.jsx("div",{className:"flex bg-white/50 dark:bg-neutral-800/50 backdrop-blur-md rounded-xl p-1 border border-white/20 dark:border-white/5",children:[7,30,90].map(A=>s.jsxs("button",{onClick:()=>o(A),className:`px-3 py-1 text-[10px] font-bold rounded-lg transition-all ${i===A?"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:[A,"D"]},A))})]}),s.jsxs("div",{className:"relative w-full aspect-[3/1] z-10",children:[s.jsxs("svg",{viewBox:`0 0 ${x} ${b}`,className:"w-full h-full overflow-visible drop-shadow-lg",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:j,stopOpacity:"0.2"}),s.jsx("stop",{offset:"100%",stopColor:j,stopOpacity:"0"})]})}),s.jsx("path",{d:`M 0,${b} ${y} L ${x},${b} Z`,fill:`url(#gradient-${i})`,className:"transition-all duration-500 ease-out"}),s.jsx("polyline",{points:y,fill:"none",stroke:j,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-500 ease-out"})]}),s.jsxs("div",{className:"absolute top-0 right-0 text-[10px] font-mono font-bold text-neutral-500 bg-white/50 dark:bg-black/50 px-1.5 py-0.5 rounded backdrop-blur-sm border border-white/10",children:["High: ",be(p,n,{compact:!0})]})]}),s.jsx("div",{className:"absolute bottom-6 left-8 text-neutral-400 text-xs italic opacity-50",children:"Simulated historical data"})]})},XC=({baseCurrency:e,t:n})=>{const{investments:a,addInvestment:i,updateInvestment:o,deleteInvestment:u,refreshRealTimeQuotes:d,loading:f,error:p}=f0(),[g,x]=T.useState("all"),[b,y]=T.useState(!1),[_,w]=T.useState(null),[N,j]=T.useState(""),[A,S]=T.useState("stock"),[O,I]=T.useState("passive"),[D,z]=T.useState(""),[C,$]=T.useState(""),[H,Z]=T.useState(""),[ae,pe]=T.useState(""),[ce,ue]=T.useState("USD");T.useEffect(()=>{_?(j(_.name),S(_.type),I(_.strategy),z(_.quantity.toString()),$((_.costBasis/_.quantity).toFixed(2)),Z(_.currentPrice.toString()),pe(_.ticker||""),ue(_.currency||"USD")):(j(""),S("stock"),I("passive"),z(""),$(""),Z(""),pe(""),ue(e))},[_,b,e]);const me=a.reduce((Y,G)=>Y+Qe(G.currentValue,G.currency||"USD",e),0),U=a.reduce((Y,G)=>Y+Qe(G.costBasis,G.currency||"USD",e),0),B=me-U,ne=U>0?B/U*100:0,de=T.useMemo(()=>g==="all"?a:a.filter(Y=>Y.strategy===g),[a,g]),oe=()=>{if(!N||!D||!C||!H)return;const Y=parseFloat(D),G=parseFloat(C),te=parseFloat(H),X=Y*G,L=Y*te,Q=L-X,fe=X>0?Q/X*100:0,ye={id:_?_.id:crypto.randomUUID(),name:N,type:A,strategy:O,quantity:Y,costBasis:X,currentPrice:te,currentValue:L,unrealizedPnL:Q,roiPercent:fe,currency:ce,ticker:ae.toUpperCase(),lastUpdated:cr()};_?o(ye):i(ye),y(!1),w(null)},E=()=>{_&&window.confirm(n("investments.deleteConfirm"))&&(u(_.id),y(!1),w(null))},P=Y=>{switch(Y){case"stock":return s.jsx(Pt,{size:18});case"crypto":return s.jsx(gi,{size:18});case"real_estate":return s.jsx(pc,{size:18});case"etf":return s.jsx(tr,{size:18});default:return s.jsx(Xt,{size:18})}};return s.jsxs("div",{className:"animate-fade-in space-y-8 pb-24 md:pb-0 font-sans",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-xs font-bold text-gold-500 uppercase tracking-widest flex items-center gap-2 mb-2",children:[s.jsx(pi,{size:14})," Wealth Management"]}),s.jsx("h1",{className:"text-4xl font-display font-bold text-neutral-900 dark:text-white tracking-tight",children:"Portfolio Hub"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>d(),disabled:f,className:"p-2 rounded-xl bg-white/60 dark:bg-neutral-800/60 border border-white/20 dark:border-white/5 text-neutral-500 hover:text-gold-500 transition-colors disabled:opacity-50",title:"Simulate Real-Time Market Update",children:s.jsx(On,{size:20,className:f?"animate-spin":""})}),s.jsx("div",{className:"flex bg-white/60 dark:bg-neutral-800/60 backdrop-blur-md rounded-xl p-1 border border-white/20 dark:border-white/5",children:["all","passive","active"].map(Y=>s.jsx("button",{onClick:()=>x(Y),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${g===Y?"bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white shadow-sm":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:Y==="all"?"All Assets":n(Y==="passive"?"investments.passive":"investments.active")},Y))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"xl:col-span-8 bg-white/60 dark:bg-neutral-900/60 backdrop-blur-xl border border-white/40 dark:border-white/5 rounded-[2.5rem] p-8 relative overflow-hidden group shadow-xl transition-all hover:border-gold-500/20",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 group-hover:opacity-10 transition-opacity duration-700",children:s.jsx(Pt,{size:160,className:"text-neutral-900 dark:text-white"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("h2",{className:"text-sm font-bold text-neutral-500 uppercase tracking-widest flex items-center gap-2 mb-1",children:[n("investments.portfolioValue")," (",e,")"]}),s.jsx("div",{className:"flex items-baseline gap-4",children:s.jsx("h1",{className:"text-5xl md:text-6xl font-display font-bold text-neutral-900 dark:text-white tracking-tighter",children:be(me,e)})}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border backdrop-blur-md ${B>=0?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20"}`,children:[B>=0?s.jsx(ha,{size:18}):s.jsx(Va,{size:18}),s.jsx("span",{className:"font-bold font-mono text-sm",children:be(B,e)}),s.jsxs("span",{className:"text-xs opacity-80 border-l border-current pl-2 ml-1",children:[ne.toFixed(2),"% ROI"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full border bg-neutral-100/50 dark:bg-white/5 border-neutral-200 dark:border-white/10 text-neutral-500 backdrop-blur-md",children:[s.jsx(ur,{size:16}),s.jsxs("span",{className:"text-xs font-bold",children:[a.length," Assets"]})]})]})]})]}),s.jsx("div",{className:"xl:col-span-4 h-full min-h-[320px]",children:s.jsx(KC,{investments:de,baseCurrency:e,t:n})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[s.jsx("div",{className:"xl:col-span-8",children:s.jsx(JC,{basePrice:me,currency:e})}),s.jsx("div",{className:"xl:col-span-4",children:s.jsxs("div",{className:"h-full bg-white/60 dark:bg-neutral-900/60 backdrop-blur-xl border border-white/40 dark:border-white/5 rounded-[2.5rem] p-6 shadow-xl flex flex-col relative overflow-hidden",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-2 mb-4 z-10",children:[s.jsx(Ul,{size:16,className:"text-gold-500"})," Market Feed"]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar z-10",children:s.jsx(ZC,{assets:a,baseCurrency:e})})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-widest pl-2",children:"Your Assets"}),s.jsxs("button",{onClick:()=>{w(null),y(!0)},className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 font-bold hover:scale-105 transition-all shadow-lg active:scale-95",children:[s.jsx(Jt,{size:18})," ",n("investments.addInvestment")]})]}),s.jsxs("div",{className:"space-y-3",children:[de.map(Y=>s.jsxs("div",{onClick:()=>{w(Y),y(!0)},className:"group bg-white/40 dark:bg-neutral-900/40 backdrop-blur-md border border-white/40 dark:border-white/5 rounded-3xl p-4 hover:bg-white/60 dark:hover:bg-neutral-800/60 transition-all cursor-pointer flex flex-col md:flex-row items-center gap-6 shadow-sm hover:shadow-lg hover:border-gold-500/30",children:[s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-1/4",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-lg ${Y.type==="crypto"?"bg-orange-500":Y.type==="real_estate"?"bg-emerald-500":Y.type==="etf"?"bg-violet-500":"bg-blue-600"}`,children:P(Y.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white group-hover:text-gold-600 dark:group-hover:text-gold-400 transition-colors",children:Y.name}),s.jsx("span",{className:"text-xs font-mono text-neutral-400 bg-neutral-100 dark:bg-white/5 px-1.5 py-0.5 rounded",children:Y.ticker||Y.type.toUpperCase()})]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4 w-full text-center md:text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-400 mb-0.5",children:n("investments.holdings")}),s.jsxs("p",{className:"text-sm font-mono text-neutral-700 dark:text-neutral-300",children:[Y.quantity," ",s.jsx("span",{className:"text-[10px] opacity-70",children:"Units"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-400 mb-0.5",children:n("investments.currentPrice")}),s.jsx("p",{className:"text-sm font-mono text-neutral-700 dark:text-neutral-300",children:be(Y.currentPrice,Y.currency||"USD")})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-400 mb-0.5",children:"Basis"}),s.jsx("p",{className:"text-sm font-mono text-neutral-700 dark:text-neutral-300",children:be(Y.costBasis,Y.currency||"USD")})]})]}),s.jsxs("div",{className:"text-right w-full md:w-auto min-w-[140px]",children:[s.jsx("p",{className:"text-lg font-mono font-bold text-neutral-900 dark:text-white",children:be(Y.currentValue,Y.currency||"USD")}),s.jsxs("p",{className:`text-xs font-bold flex items-center justify-end gap-1 ${Y.unrealizedPnL>=0?"text-emerald-500":"text-red-500"}`,children:[Y.unrealizedPnL>=0?"+":"",be(Y.unrealizedPnL,Y.currency||"USD"),s.jsxs("span",{className:"opacity-70 font-normal ml-1",children:["(",Y.roiPercent.toFixed(1),"%)"]})]})]})]},Y.id)),de.length===0&&s.jsxs("div",{className:"text-center py-20 bg-white/20 dark:bg-white/5 rounded-[3rem] border border-dashed border-neutral-300 dark:border-neutral-800",children:[s.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-neutral-400",children:s.jsx(ur,{size:32})}),s.jsx("h3",{className:"text-lg font-bold text-neutral-500",children:"No assets found"}),s.jsx("p",{className:"text-sm text-neutral-400 mb-6",children:"Start building your portfolio today."}),s.jsx("button",{onClick:()=>{w(null),y(!0)},className:"px-6 py-2 bg-gold-500 text-neutral-900 font-bold rounded-lg hover:bg-gold-400",children:"Add First Asset"})]})]}),b&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-neutral-900/60 backdrop-blur-md transition-opacity",onClick:()=>y(!1)}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-white/20 dark:border-white/10 rounded-[2rem] p-8 max-w-lg w-full relative animate-scale-in shadow-2xl overflow-y-auto max-h-[90vh] z-10",children:[s.jsx("button",{onClick:()=>{y(!1),w(null)},className:"absolute top-6 right-6 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:24})}),s.jsxs("h2",{className:"text-2xl font-display font-bold text-neutral-900 dark:text-white mb-1 flex items-center gap-3",children:[_?s.jsx(yi,{className:"text-gold-500"}):s.jsx(pi,{className:"text-gold-500"}),n(_?"investments.updateAsset":"investments.addInvestment")]}),s.jsx("p",{className:"text-sm text-neutral-500 mb-8",children:_?"Update your position details.":"Track a new asset in your portfolio."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block pl-1",children:"Asset Name"}),s.jsx("input",{type:"text",value:N,onChange:Y=>j(Y.target.value),placeholder:"e.g. Apple Inc.",autoFocus:!0,className:"w-full bg-platinum-100 dark:bg-black/40 border border-transparent focus:border-gold-500 rounded-xl p-4 text-neutral-900 dark:text-white text-base outline-none transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block pl-1",children:"Ticker / Symbol"}),s.jsx("input",{type:"text",value:ae,onChange:Y=>pe(Y.target.value),placeholder:"AAPL",className:"w-full bg-platinum-100 dark:bg-black/40 border border-transparent focus:border-gold-500 rounded-xl p-4 text-neutral-900 dark:text-white text-base outline-none font-mono uppercase"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block pl-1",children:"Asset Type"}),s.jsxs("select",{value:A,onChange:Y=>S(Y.target.value),className:"w-full bg-platinum-100 dark:bg-black/40 border border-transparent focus:border-gold-500 rounded-xl p-4 text-neutral-900 dark:text-white text-base outline-none appearance-none",children:[s.jsx("option",{value:"stock",children:n("investments.types.stock")}),s.jsx("option",{value:"etf",children:n("investments.types.etf")}),s.jsx("option",{value:"crypto",children:n("investments.types.crypto")}),s.jsx("option",{value:"real_estate",children:n("investments.types.real_estate")}),s.jsx("option",{value:"bond",children:n("investments.types.bond")}),s.jsx("option",{value:"startup",children:n("investments.types.startup")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block pl-1",children:"Strategy"}),s.jsxs("select",{value:O,onChange:Y=>I(Y.target.value),className:"w-full bg-platinum-100 dark:bg-black/40 border border-transparent focus:border-gold-500 rounded-xl p-4 text-neutral-900 dark:text-white text-base outline-none appearance-none",children:[s.jsx("option",{value:"passive",children:n("investments.passive")}),s.jsx("option",{value:"active",children:n("investments.active")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block pl-1",children:"Currency"}),s.jsx("select",{value:ce,onChange:Y=>ue(Y.target.value),className:"w-full bg-platinum-100 dark:bg-black/40 border border-transparent focus:border-gold-500 rounded-xl p-4 text-neutral-900 dark:text-white text-base outline-none appearance-none",children:xn.map(Y=>s.jsx("option",{value:Y.code,children:Y.code},Y.code))})]}),s.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 bg-platinum-50 dark:bg-white/5 p-4 rounded-2xl border border-platinum-200 dark:border-white/5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block",children:"Quantity"}),s.jsx("input",{type:"number",value:D,onChange:Y=>z(Y.target.value),placeholder:"0",className:"w-full bg-transparent border-b border-neutral-300 dark:border-neutral-700 py-2 text-neutral-900 dark:text-white font-mono focus:border-gold-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block",children:"Avg Cost"}),s.jsx("input",{type:"number",value:C,onChange:Y=>$(Y.target.value),placeholder:"0.00",className:"w-full bg-transparent border-b border-neutral-300 dark:border-neutral-700 py-2 text-neutral-900 dark:text-white font-mono focus:border-gold-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block",children:"Total Value"}),s.jsx("div",{className:"py-2 text-neutral-400 font-mono",children:be((parseFloat(D)||0)*(parseFloat(H)||0),ce,{compact:!0})})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-bold mb-1 block",children:"Current Price (Market)"}),s.jsx("input",{type:"number",value:H,onChange:Y=>Z(Y.target.value),placeholder:"0.00",className:"w-full bg-transparent border-b border-neutral-300 dark:border-neutral-700 py-2 text-2xl font-bold text-neutral-900 dark:text-white font-mono focus:border-gold-500 outline-none"})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[_&&s.jsx("button",{onClick:E,className:"p-4 rounded-xl bg-red-500/10 text-red-500 border border-red-500/20 hover:bg-red-500/20 transition-colors",children:s.jsx(or,{size:24})}),s.jsx("button",{onClick:oe,disabled:!N||!D||!C||!H,className:"flex-1 py-4 bg-gold-500 text-neutral-950 font-bold rounded-xl hover:bg-gold-400 disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-gold-500/20 transform hover:scale-[1.02] transition-all",children:n(_?"investments.updateAsset":"investments.addToPortfolio")})]})]})]})]})]})},QC=({snapshot:e})=>s.jsxs("div",{className:"flex justify-between items-start border-b-2 border-gold-500 pb-6 mb-8 relative z-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 text-gold-600 mb-2",children:[s.jsx(vi,{iconSize:"w-8 h-8",showText:!1}),s.jsx("span",{className:"font-display font-bold text-2xl tracking-widest text-neutral-900",children:"AURUMWOLF"})]}),s.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-widest font-bold",children:"Wealth Management Unit"}),s.jsxs("div",{className:"mt-2 text-[10px] text-neutral-400",children:[s.jsxs("p",{children:["Generated: ",new Date(e.generatedAt).toLocaleString()]}),s.jsxs("p",{children:["Currency: ",e.currency]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h1",{className:"text-4xl font-display font-bold text-neutral-900 mb-1",children:e.spec.scope==="personal"?"Personal Financial Report":"Business Performance Audit"}),s.jsxs("p",{className:"text-sm text-neutral-500 font-medium uppercase tracking-wider",children:[e.spec.period==="custom"?"Custom Period":e.spec.period,"ly Statement"]}),s.jsxs("p",{className:"text-xs text-neutral-400 mt-1 font-mono",children:[e.dateRange.start,"  ",e.dateRange.end]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[s.jsxs("span",{className:"px-2 py-0.5 bg-neutral-100 text-[10px] text-neutral-500 rounded font-bold",children:[e.txCount," TXs"]}),e.uncategorizedPercent>0&&s.jsxs("span",{className:"px-2 py-0.5 bg-red-100 text-[10px] text-red-500 rounded font-bold",children:[e.uncategorizedPercent.toFixed(1),"% Uncategorized"]})]})]})]}),WC=({data:e,color:n="#D4AF37"})=>{if(!e||e.length<2)return null;const a=300,i=60,o=e.map(b=>b.value),u=Math.min(...o),f=Math.max(...o)-u||1,p=b=>b/(e.length-1)*a,g=b=>i-(b-u)/f*i,x=e.map((b,y)=>`${p(y)},${g(b.value)}`).join(" ");return s.jsxs("svg",{viewBox:`0 0 ${a} ${i}`,className:"w-full h-full overflow-visible",children:[s.jsx("polyline",{points:x,fill:"none",stroke:n,strokeWidth:"2"}),s.jsx("circle",{cx:p(e.length-1),cy:g(e[e.length-1].value),r:"3",fill:n})]})},bl=({label:e,metric:n,icon:a,accent:i="text-neutral-900"})=>s.jsxs("div",{className:"bg-neutral-50 p-4 rounded-xl border border-neutral-100 flex flex-col justify-between",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("p",{className:"text-[10px] text-neutral-500 font-bold uppercase",children:e}),s.jsx("div",{className:"p-1.5 bg-white rounded-full border border-neutral-200 text-neutral-400",children:s.jsx(a,{size:14})})]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-xl font-display font-bold ${i}`,children:n.formatted}),n.delta!==void 0&&s.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold ${n.delta>=0?"text-green-600":"text-red-500"}`,children:[n.delta>=0?s.jsx(ha,{size:10}):s.jsx(Va,{size:10}),Math.abs(n.delta).toFixed(1),"% vs prev"]})]})]}),eR=({snapshot:e})=>{var a;const n=e.summary;return s.jsxs("div",{className:"mb-10 relative z-10 page-break-inside-avoid",children:[s.jsx("div",{className:"flex justify-between items-center border-b border-neutral-200 pb-2 mb-6",children:s.jsxs("h2",{className:"text-sm font-bold text-neutral-900 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(On,{size:16,className:"text-gold-500"})," Executive Summary"]})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsx(bl,{label:"Net Worth",metric:n.netWorth,icon:Pt}),s.jsx(bl,{label:"Net Income",metric:n.net,icon:tr,accent:n.net.value>=0?"text-green-700":"text-red-600"}),s.jsx(bl,{label:"Liquid Assets",metric:n.liquidAssets,icon:Xt}),e.business?s.jsx(bl,{label:"Business Profit",metric:e.business.netProfit,icon:On,accent:"text-blue-600"}):s.jsx(bl,{label:"Savings Rate",metric:n.savingsRate,icon:tr,accent:"text-green-600"})]}),s.jsxs("div",{className:"bg-neutral-50 rounded-xl p-6 border border-neutral-100 flex gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-4",children:"Capital Trend"}),s.jsx("div",{className:"h-24 w-full",children:s.jsx(WC,{data:e.trends.netWorth})})]}),s.jsxs("div",{className:"w-1/3 border-l border-neutral-200 pl-6",children:[s.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase mb-2",children:"Key Insights"}),s.jsxs("ul",{className:"space-y-2",children:[e.dataQuality.warnings.length>0?e.dataQuality.warnings.slice(0,3).map((i,o)=>s.jsxs("li",{className:"text-[10px] text-red-500 flex gap-2",children:[s.jsx("span",{children:""})," ",i]},o)):s.jsxs("li",{className:"text-[10px] text-neutral-500 flex gap-2",children:[s.jsx("span",{children:""})," System Audit: Data integrity nominal."]}),s.jsxs("li",{className:"text-[10px] text-neutral-500 flex gap-2",children:[s.jsx("span",{children:""})," Savings Rate is ",(a=n.savingsRate)==null?void 0:a.value.toFixed(1),"%."]})]})]})]})]})},tR=({val:e})=>{if(e===void 0)return s.jsx("span",{className:"text-neutral-300",children:"-"});const n=e>=0;return s.jsxs("span",{className:`text-[10px] font-bold flex items-center justify-end gap-0.5 ${n?"text-green-600":"text-red-600"}`,children:[n?s.jsx(ha,{size:10}):s.jsx(Va,{size:10}),Math.abs(e).toFixed(1),"%"]})},Cr=({label:e,val:n,ident:a,bold:i})=>s.jsxs("tr",{className:`border-b border-neutral-50 last:border-0 hover:bg-neutral-50/50 ${i?"font-bold bg-neutral-50/30":""}`,children:[s.jsx("td",{className:`px-4 py-2 ${a?"pl-8 text-neutral-500":"text-neutral-700"}`,children:e}),s.jsx("td",{className:`px-4 py-2 text-right font-mono ${i?"text-neutral-900":"text-neutral-600"}`,children:n.formatted}),s.jsx("td",{className:"px-4 py-2 text-right font-mono text-neutral-400",children:n.deltaValue!==void 0?be(n.value-n.deltaValue,n.currency,{compact:!1}):"-"}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx(tR,{val:n.delta})})]}),nR=({snapshot:e})=>{const n=e.summary,a=e.business;return s.jsxs("div",{className:"mb-10 relative z-10 page-break-inside-avoid",children:[s.jsxs("h2",{className:"text-sm font-bold text-neutral-900 uppercase tracking-wider border-b border-neutral-200 pb-2 mb-6 flex items-center gap-2",children:[s.jsx(Z_,{size:16,className:"text-gold-500"})," Performance Matrix"]}),s.jsx("div",{className:"overflow-hidden rounded-xl border border-neutral-200",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-[10px] text-neutral-500 uppercase bg-neutral-50 border-b border-neutral-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-bold",children:"Metric"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Current"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Previous"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Delta"})]})}),s.jsxs("tbody",{children:[s.jsx("tr",{className:"bg-neutral-100/50",children:s.jsx("td",{colSpan:4,className:"px-4 py-1.5 text-[10px] font-bold text-neutral-500 uppercase",children:"Personal Flow"})}),s.jsx(Cr,{label:"Total Income",val:n.income}),s.jsx(Cr,{label:"Living Expenses",val:n.expense}),s.jsx(Cr,{label:"Net Savings",val:n.net,bold:!0}),a&&s.jsxs(s.Fragment,{children:[s.jsx("tr",{className:"bg-blue-50/50",children:s.jsx("td",{colSpan:4,className:"px-4 py-1.5 text-[10px] font-bold text-blue-600 uppercase mt-4",children:"Business Performance"})}),s.jsx(Cr,{label:"Gross Revenue",val:a.revenue}),s.jsx(Cr,{label:"Operating Expenses",val:a.expenses}),s.jsx(Cr,{label:"Net Profit",val:a.netProfit,bold:!0})]}),s.jsx("tr",{className:"bg-gold-50/30",children:s.jsx("td",{colSpan:4,className:"px-4 py-1.5 text-[10px] font-bold text-gold-600 uppercase mt-4",children:"Balance Sheet Snapshot"})}),s.jsx(Cr,{label:"Liquid Cash",val:n.liquidAssets}),s.jsx(Cr,{label:"Investments",val:n.investedAssets}),s.jsx(Cr,{label:"Total Net Worth",val:n.netWorth,bold:!0})]})]})})]})},rR=({snapshot:e})=>{if(!e.business)return null;const n=e.business.byEntity,a=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency}).format(i);return s.jsxs("div",{className:"mb-10 relative z-10 page-break-inside-avoid",children:[s.jsxs("h2",{className:"text-sm font-bold text-neutral-900 uppercase tracking-wider border-b border-neutral-200 pb-2 mb-6 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gold-500"})," Entity Ledger"]}),s.jsx("div",{className:"overflow-hidden rounded-xl border border-neutral-200",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-[10px] text-neutral-500 uppercase bg-neutral-50 border-b border-neutral-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-bold",children:"Entity"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Revenue"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Expenses"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Net Profit"}),s.jsx("th",{className:"px-4 py-3 font-bold text-right",children:"Margin"})]})}),s.jsx("tbody",{className:"divide-y divide-neutral-100",children:n.map(i=>s.jsxs("tr",{className:"hover:bg-neutral-50/50",children:[s.jsx("td",{className:"px-4 py-3 font-bold text-neutral-800",children:i.name}),s.jsx("td",{className:"px-4 py-3 text-right font-mono text-neutral-600",children:a(i.revenue)}),s.jsx("td",{className:"px-4 py-3 text-right font-mono text-neutral-600",children:a(i.expense)}),s.jsx("td",{className:`px-4 py-3 text-right font-mono font-bold ${i.profit>=0?"text-green-700":"text-red-700"}`,children:a(i.profit)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${i.profit>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i.margin.toFixed(1),"%"]})})]},i.id))})]})})]})};class aR{constructor(n){this.ctx=n}generate(n){const{start:a,end:i}=this.resolveDateRange(n),{start:o,end:u}=this.resolvePreviousRange(a,i),d=this.filterTransactions(this.ctx.transactions,n,a,i),f=this.filterTransactions(this.ctx.transactions,n,o,u),p=this.aggregate(d,n.baseCurrency),g=this.aggregate(f,n.baseCurrency),x=(w,N)=>N===0?w===0?0:100:(w-N)/Math.abs(N)*100,b=(w,N,j="currency")=>({value:w,formatted:j==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:n.baseCurrency}).format(w):w.toFixed(1)+"%",delta:x(w,N),deltaValue:w-N}),y=this.calculatePointInTimeAssets(i,n.baseCurrency),_={spec:n,generatedAt:new Date().toISOString(),txCount:d.length,excludedTxCount:this.ctx.transactions.length-d.length,uncategorizedPercent:this.calculateUncategorized(d),currency:n.baseCurrency,dateRange:{start:a,end:i},summary:{income:b(p.income,g.income),expense:b(p.expense,g.expense),net:b(p.net,g.net),savingsRate:b(p.savingsRate,g.savingsRate,"percent"),netWorth:{value:y.netWorth,formatted:this.formatRaw(y.netWorth,n.baseCurrency)},liquidAssets:{value:y.liquid,formatted:this.formatRaw(y.liquid,n.baseCurrency)},investedAssets:{value:y.invested,formatted:this.formatRaw(y.invested,n.baseCurrency)}},trends:{netWorth:this.generateNetWorthTrend(y.netWorth,6,n.baseCurrency),cashFlow:[]},topCategories:{income:p.topIncomeCats,expense:p.topExpenseCats},dataQuality:{score:100,warnings:[]}};return n.scope!=="personal"&&(_.business={revenue:b(p.businessRevenue,g.businessRevenue),cogs:b(0,0),grossProfit:b(p.businessRevenue,g.businessRevenue),expenses:b(p.businessExpense,g.businessExpense),netProfit:b(p.businessNet,g.businessNet),margins:{gross:p.businessRevenue?p.businessRevenue/p.businessRevenue*100:0,net:p.businessRevenue?p.businessNet/p.businessRevenue*100:0},byEntity:this.breakdownByEntity(d,n.baseCurrency)}),_}resolveDateRange(n){if(n.period==="custom"&&n.customRange)return n.customRange;const a=new Date;let i=new Date;const o=u=>{const d=u.getTimezoneOffset()*6e4;return new Date(u.getTime()-d).toISOString().split("T")[0]};switch(n.period){case"month":a.setDate(1),a.setDate(1);break;case"quarter":a.setMonth(Math.floor(a.getMonth()/3)*3),a.setDate(1);break;case"year":a.setMonth(0,1);break;case"ytd":a.setMonth(0,1);break}return{start:o(a),end:o(i)}}resolvePreviousRange(n,a){if(!n||!a||isNaN(new Date(n).getTime())||isNaN(new Date(a).getTime())){const g=new Date().toISOString().split("T")[0];return{start:g,end:g}}const i=new Date(n),u=new Date(a).getTime()-i.getTime(),d=new Date(i.getTime()-1440*60*1e3),f=new Date(d.getTime()-u),p=g=>{const x=g.getTimezoneOffset()*6e4;return new Date(g.getTime()-x).toISOString().split("T")[0]};return{start:p(f),end:p(d)}}filterTransactions(n,a,i,o){return n.filter(u=>!(u.date<i||u.date>o||a.scope==="personal"&&u.business_id||a.scope==="business"&&!u.business_id))}aggregate(n,a){let i=0,o=0,u=0,d=0;const f=new Map,p=new Map;n.forEach(N=>{const j=this.ctx.convertAmount(N.numericAmount,N.currency,a);N.business_id?N.type==="credit"?u+=j:d+=j:N.type==="credit"?(i+=j,f.set(N.category,(f.get(N.category)||0)+j)):(o+=j,p.set(N.category,(p.get(N.category)||0)+j))});const g=i-o,x=u-d,b=i>0?g/i*100:0,y=(N,j)=>N.sort((A,S)=>S[1]-A[1]).slice(0,10).map(([A,S],O)=>({id:A,name:A,value:S,percentage:j>0?S/j*100:0,transactionCount:0})),_=y(Array.from(p.entries()),o),w=y(Array.from(f.entries()),i);return{income:i,expense:o,net:g,savingsRate:b,businessRevenue:u,businessExpense:d,businessNet:x,topIncomeCats:w,topExpenseCats:_}}calculatePointInTimeAssets(n,a){const i=this.ctx.accounts.reduce((u,d)=>u+this.ctx.convertAmount(d.balance,d.currency,a),0),o=this.ctx.investments.reduce((u,d)=>u+this.ctx.convertAmount(d.currentValue,d.currency,a),0);return{liquid:i,invested:o,netWorth:i+o}}breakdownByEntity(n,a){const i=new Map;return n.forEach(o=>{if(!o.business_id)return;const u=this.ctx.convertAmount(o.numericAmount,o.currency,a),d=i.get(o.business_id)||{rev:0,exp:0};o.type==="credit"?d.rev+=u:d.exp+=u,i.set(o.business_id,d)}),Array.from(i.entries()).map(([o,u])=>{const d=this.ctx.businessEntities.find(f=>f.id===o);return{id:o,name:(d==null?void 0:d.name)||"Unknown Entity",revenue:u.rev,expense:u.exp,profit:u.rev-u.exp,margin:u.rev>0?(u.rev-u.exp)/u.rev*100:0}}).sort((o,u)=>u.revenue-o.revenue)}calculateUncategorized(n){const a=n.filter(i=>i.category==="Uncategorized"||!i.category).length;return n.length>0?a/n.length*100:0}formatRaw(n,a){return new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(n)}generateNetWorthTrend(n,a,i){const o=[];let u=n;const d=new Date;for(let N=0;N<a;N++){const j=new Date(d.getFullYear(),d.getMonth()-N+1,0),A=new Date(d.getFullYear(),d.getMonth()-N,1),S=this.ctx.transactions.filter(I=>{const D=new Date(I.date);return D>=A&&D<=j});let O=0;S.forEach(I=>{const D=this.ctx.convertAmount(I.numericAmount,I.currency,i);I.type==="credit"?O+=D:O-=D}),o.unshift({date:j.toISOString().split("T")[0],value:u}),u-=O}const f=o.length;if(f<2)return o;let p=0,g=0,x=0,b=0;for(let N=0;N<f;N++)p+=N,g+=o[N].value,x+=N*o[N].value,b+=N*N;const y=(f*x-p*g)/(f*b-p*p),_=(g-y*p)/f,w=[];for(let N=1;N<=6;N++){const j=f-1+N,A=y*j+_,S=new Date(d.getFullYear(),d.getMonth()+N+1,0);w.push({date:S.toISOString().split("T")[0],value:A,isProjected:!0})}return[...o,...w]}}const sR=({transactions:e,accounts:n,businessEntities:a,investments:i,baseCurrency:o,healthScores:u,convertAmount:d,t:f})=>{const[p,g]=T.useState("month"),[x,b]=T.useState(""),[y,_]=T.useState(""),[w,N]=T.useState("all"),[j,A]=T.useState(!1),[S,O]=T.useState(!1),I=T.useMemo(()=>new aR({transactions:e,accounts:n,businessEntities:a,investments:i,convertAmount:d}),[e,n,a,i,d]),D=T.useMemo(()=>p==="custom"&&(!x||!y)?I.generate({id:"default",scope:w,period:"month",baseCurrency:o}):I.generate({id:"temp-hash",scope:w,period:p,baseCurrency:o,customRange:p==="custom"?{start:x,end:y}:void 0}),[I,w,p,o,x,y]),z=()=>{O(!0),setTimeout(()=>{window.print(),O(!1)},500)},C=()=>j?s.jsxs("div",{className:"fixed inset-0 z-[200] bg-neutral-900/90 backdrop-blur-md flex items-center justify-center p-4 overflow-y-auto print:p-0 print:bg-white print:static print:block",children:[s.jsxs("div",{className:"fixed top-4 right-4 flex gap-2 print:hidden z-50",children:[s.jsxs("button",{onClick:z,className:"px-6 py-3 bg-gold-500 hover:bg-gold-400 text-neutral-950 font-bold rounded-full shadow-lg flex items-center gap-2 transition-all",children:[s.jsx(Uj,{size:18})," Download PDF"]}),s.jsx("button",{onClick:()=>A(!1),className:"p-3 bg-neutral-800 text-white rounded-full hover:bg-neutral-700 transition-all",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white text-neutral-900 shadow-2xl p-[15mm] print:shadow-none print:w-full print:h-auto animate-fade-in relative flex flex-col",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none print:opacity-[0.02] overflow-hidden",children:s.jsx(vi,{iconSize:"w-[500px] h-[500px]",showText:!1})}),s.jsx(QC,{snapshot:D}),s.jsx(eR,{snapshot:D}),s.jsx(nR,{snapshot:D}),D.business&&s.jsx(rR,{snapshot:D}),s.jsxs("div",{className:"mt-auto pt-8 border-t border-neutral-200 flex justify-between items-end text-[10px] text-neutral-400",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Generated by AurumWolf Wealth OS"}),s.jsx("p",{children:"CONFIDENTIAL - FOR PERSONAL USE ONLY"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{children:["REF: ",D.generatedAt.split("T")[1].replace(/[:.]/g,"").substring(0,8)]})})]})]})]}):null;return s.jsxs("div",{className:"animate-fade-in space-y-8 pb-24 md:pb-0",children:[C(),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-3xl p-8 relative overflow-hidden shadow-sm dark:shadow-none",children:[s.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:s.jsx(ii,{size:140,className:"text-neutral-900 dark:text-white"})}),s.jsxs("div",{className:"relative z-10 max-w-xl",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-neutral-900 dark:text-white mb-2",children:f("titles.reports")}),s.jsx("p",{className:"text-neutral-500 mb-6",children:"Generate comprehensive financial snapshots for audit, analysis, or banking requirements."}),s.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:["month","quarter","year","ytd","custom"].map($=>s.jsx("button",{onClick:()=>g($),className:`px-4 py-2 rounded-xl text-sm font-bold border transition-all ${p===$?"bg-neutral-900 dark:bg-white text-white dark:text-black border-neutral-900 dark:border-white shadow-lg":"bg-white dark:bg-neutral-900 text-neutral-500 border-platinum-200 dark:border-neutral-800 hover:border-gold-500/50"}`,children:$==="month"?"Monthly":$==="quarter"?"Quarterly":$==="year"?"Annual":$==="custom"?"Custom":"YTD"},$))}),p==="custom"&&s.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-1",children:f("common.from")}),s.jsx("input",{type:"date",value:x,onChange:$=>b($.target.value),className:"bg-platinum-100 dark:bg-neutral-800 border border-platinum-200 dark:border-neutral-700 rounded-lg p-2 text-xs text-neutral-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-1",children:f("common.to")}),s.jsx("input",{type:"date",value:y,onChange:$=>_($.target.value),className:"bg-platinum-100 dark:bg-neutral-800 border border-platinum-200 dark:border-neutral-700 rounded-lg p-2 text-xs text-neutral-900 dark:text-white"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"group bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-6 hover:border-gold-500/30 transition-all cursor-default relative overflow-hidden",children:[s.jsx(mi,{size:32,className:"text-gold-500 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white mb-1",children:"Personal Wealth Audit"}),s.jsx("p",{className:"text-sm text-neutral-500 mb-6",children:"Income, expenses, savings rate, and net worth analysis."}),s.jsxs("button",{onClick:()=>{N("personal"),A(!0)},disabled:p==="custom"&&(!x||!y),className:"w-full py-3 rounded-xl border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white font-bold text-sm hover:bg-platinum-50 dark:hover:bg-neutral-800 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[s.jsx(ii,{size:16})," Generate Report"]})]}),s.jsxs("div",{className:"group bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-6 hover:border-gold-500/30 transition-all cursor-default relative overflow-hidden",children:[s.jsx(Xt,{size:32,className:"text-blue-500 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white mb-1",children:"Business Performance"}),s.jsx("p",{className:"text-sm text-neutral-500 mb-6",children:"P&L statements, entity margins, and cash flow."}),s.jsxs("button",{onClick:()=>{N("business"),A(!0)},disabled:p==="custom"&&(!x||!y),className:"w-full py-3 rounded-xl border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white font-bold text-sm hover:bg-platinum-50 dark:hover:bg-neutral-800 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[s.jsx(ii,{size:16})," Generate Report"]})]})]})]})},pt={ACCOUNTS:"aurumwolf_accounts",TRANSACTIONS:"aurumwolf_transactions",BUDGETS:"aurumwolf_budgets",GOALS:"aurumwolf_goals",INVESTMENTS:"aurumwolf_investments",BUSINESS_ENTITIES:"aurumwolf_business_entities",BASE_CURRENCY:"aurumwolf_base_currency",PRIVACY:"aurumwolf_privacy",LANGUAGE:"aurumwolf_language",NOTIFICATIONS_ENABLED:"aurumwolf_notifications_enabled",VERSION:"aurumwolf_storage_version"},fc="1.3";function zr(e,n){if(typeof window>"u")return n;try{const a=window.localStorage.getItem(e);return!a||a==="undefined"||a==="null"?n:JSON.parse(a)}catch(a){return console.warn(`Error reading ${e} from storage, using fallback.`,a),n}}function lr(e,n){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.error(`Error writing ${e} to storage:`,a)}}function iR(){if(typeof window>"u")return;const e=window.localStorage.getItem(pt.VERSION);if(!e){window.localStorage.setItem(pt.VERSION,fc);return}e!==fc&&(console.log(`Migrating storage from ${e} to ${fc}`),window.localStorage.setItem(pt.VERSION,fc))}function lR(){typeof window>"u"||Object.values(pt).forEach(e=>{window.localStorage.removeItem(e)})}const oR=Ut({id:ve(),name:ve(),type:ln(["checking","savings","credit","investment","crypto","business"]),balance:Rt(),currency:ve(),institution:ve().optional(),color:ve().optional()}).passthrough(),cR=Ut({id:h0([ve(),Rt()]),category:ve(),amount:Rt()}).passthrough(),uR=Ut({id:ve(),accountId:ve(),name:ve(),amount:ve(),numericAmount:Rt(),currency:ve(),date:ve(),category:ve(),type:ln(["credit","debit"]),status:ln(["pending","completed"]),splits:Dr(cR).optional()}).passthrough(),dR=Ut({id:ve(),category:ve(),limit:Rt()}).passthrough(),hR=Ut({id:ve(),name:ve(),targetAmount:Rt()}).passthrough(),fR=Ut({id:ve(),name:ve(),type:ve(),quantity:Rt(),currentPrice:Rt(),currentValue:Rt()}).passthrough(),mR=({onReset:e,onReconcile:n,transactions:a=[],accounts:i=[],investments:o=[],baseCurrency:u,onCurrencyChange:d,onSignOut:f,currentLanguage:p,onLanguageChange:g,userName:x="Guest",userEmail:b,t:y,notificationsEnabled:_=!0,onToggleNotifications:w})=>{const{hasPin:N,biometricsEnabled:j,toggleBiometrics:A,setupPin:S,removePin:O}=$l(),[I,D]=Vh.useState(!0),z=T.useRef(null);T.useEffect(()=>{typeof document<"u"&&D(document.documentElement.classList.contains("dark"))},[]);const C=()=>{I?(document.documentElement.classList.remove("dark"),D(!1),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),D(!0),localStorage.setItem("theme","dark"))},$=()=>{const ue=["ID","Date","Name","Amount","Type","Category","Account ID","Currency","Business ID","Status","Description"],me=a.map(oe=>[oe.id,oe.date,`"${oe.name.replace(/"/g,'""')}"`,oe.numericAmount,oe.type,oe.category,oe.accountId,oe.currency,oe.business_id||"",oe.status,`"${(oe.description||"").replace(/"/g,'""')}"`]),U=[ue.join(","),...me.map(oe=>oe.join(","))].join(`
`),B=new Blob([U],{type:"text/csv;charset=utf-8;"}),ne=URL.createObjectURL(B),de=document.createElement("a");de.href=ne,de.setAttribute("download",`Prelude_Report_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(de),de.click(),document.body.removeChild(de)},H=()=>{const ue={version:"1.2",timestamp:new Date().toISOString(),baseCurrency:u,accounts:zr(pt.ACCOUNTS,[]),transactions:zr(pt.TRANSACTIONS,[]),budgets:zr(pt.BUDGETS,[]),goals:zr(pt.GOALS,[]),investments:zr(pt.INVESTMENTS,[])},me=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),U=URL.createObjectURL(me),B=document.createElement("a");B.href=U,B.setAttribute("download",`Prelude_FullBackup_${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},Z=Ut({accounts:Dr(oR),transactions:Dr(uR),budgets:Dr(dR).optional(),goals:Dr(hR).optional(),investments:Dr(fR).optional(),baseCurrency:ve().optional()}).passthrough(),ae=ue=>{var B;const me=(B=ue.target.files)==null?void 0:B[0];if(!me)return;const U=new FileReader;U.onload=ne=>{var de;try{const oe=JSON.parse((de=ne.target)==null?void 0:de.result),E=Z.safeParse(oe);if(!E.success){console.error("Backup validation failed:",E.error),alert(y("settings.alertInvalidBackup"));return}const P=E.data;window.confirm(y("settings.alertRestoreWarning"))&&(lr(pt.ACCOUNTS,P.accounts),lr(pt.TRANSACTIONS,P.transactions),P.budgets&&lr(pt.BUDGETS,P.budgets),P.goals&&lr(pt.GOALS,P.goals),P.investments&&lr(pt.INVESTMENTS,P.investments),P.baseCurrency&&lr(pt.BASE_CURRENCY,P.baseCurrency),alert(y("settings.alertRestoreSuccess")),window.location.reload())}catch(oe){alert(y("settings.alertParseError")),console.error(oe)}},U.readAsText(me),z.current&&(z.current.value="")},pe=()=>{n&&window.confirm(y("settings.alertReconcileWarning"))&&(n(),alert(y("settings.alertReconcileSuccess")))},ce=xn.find(ue=>ue.code===u);return s.jsxs("div",{className:"max-w-3xl mx-auto pb-20 md:pb-0 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 p-8 mb-8 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-3xl relative overflow-hidden transition-colors duration-300",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-gold-400 via-gold-500 to-gold-600"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-gold-500 to-neutral-900 p-[2px]",children:s.jsx("div",{className:"w-full h-full rounded-full bg-neutral-100 dark:bg-neutral-950 flex items-center justify-center transition-colors",children:s.jsx("span",{className:"font-display font-bold text-3xl text-gold-500",children:x.charAt(0).toUpperCase()})})}),s.jsx("div",{className:"absolute bottom-0 right-0 bg-neutral-900 rounded-full p-1 border border-neutral-800",children:s.jsx("div",{className:"bg-green-500 w-3 h-3 rounded-full border border-neutral-900"})})]}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-neutral-900 dark:text-white transition-colors",children:x}),s.jsx("p",{className:"text-neutral-500 mb-3",children:b||"member@aurumwolf.app"}),s.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[s.jsx("span",{className:"px-3 py-1 rounded-full bg-gold-500/10 border border-gold-500/20 text-gold-600 dark:text-gold-500 text-xs font-bold uppercase tracking-wider transition-colors",children:y("settings.premiumMember")}),s.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-500 dark:text-neutral-400 text-xs font-bold uppercase tracking-wider transition-colors",children:y("settings.earlyAccess")})]})]}),s.jsx("button",{className:"px-4 py-2 rounded-xl bg-neutral-100 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:border-neutral-300 dark:hover:border-neutral-600 transition-all text-sm font-bold",children:y("settings.editProfile")})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl overflow-hidden transition-colors duration-300",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-950/50 border-b border-neutral-200 dark:border-neutral-800 flex items-center gap-2 transition-colors",children:[s.jsx(Wb,{size:16,className:"text-gold-500"}),s.jsx("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-wider transition-colors",children:y("settings.appPreferences")})]}),s.jsxs("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800 transition-colors",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:I?s.jsx(yj,{size:18}):s.jsx(m2,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:y("settings.darkMode")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.adjustAppearance")})]})]}),s.jsx("button",{onClick:C,className:"text-neutral-500 hover:text-gold-500 transition-colors",children:I?s.jsx(ah,{size:32,className:"text-gold-500"}):s.jsx(rh,{size:32,className:"text-neutral-400"})})]}),s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:s.jsx(FN,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:y("settings.language")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.interfaceLanguage")})]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-neutral-100 dark:bg-neutral-950 rounded-lg p-1 border border-neutral-200 dark:border-neutral-800 transition-colors",children:[s.jsx("button",{onClick:()=>g("en"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${p==="en"?"bg-gold-500 text-neutral-950 shadow-md":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:"English"}),s.jsx("button",{onClick:()=>g("es"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${p==="es"?"bg-gold-500 text-neutral-950 shadow-md":"text-neutral-500 hover:text-neutral-900 dark:hover:text-white"}`,children:"Espaol"})]})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-4 hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:s.jsx(eN,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:y("settings.baseCurrency")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.baseCurrencyDesc")})]})]}),s.jsx("div",{className:"flex items-center gap-2 text-gold-500 font-bold text-sm",children:s.jsxs("span",{children:[ce==null?void 0:ce.code," (",ce==null?void 0:ce.symbol,")"]})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 pl-12",children:xn.map(ue=>s.jsxs("button",{onClick:()=>d(ue.code),className:`px-3 py-2 rounded-lg text-xs font-bold border transition-all flex items-center gap-2 ${u===ue.code?"bg-neutral-900 dark:bg-white border-neutral-900 dark:border-white text-white dark:text-black shadow-lg":"bg-neutral-100 dark:bg-neutral-950 border-neutral-200 dark:border-neutral-800 text-neutral-500 hover:border-gold-500/50"}`,children:[s.jsx("span",{className:"opacity-50",children:ue.symbol}),s.jsx("span",{children:ue.code})]},ue.code))})]}),s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:s.jsx(El,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:y("settings.notifications")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.notificationsDesc")})]})]}),s.jsx("button",{onClick:w,children:_?s.jsx(ah,{size:32,className:"text-gold-500"}):s.jsx(rh,{size:32,className:"text-neutral-400"})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl overflow-hidden transition-colors duration-300",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-950/50 border-b border-neutral-200 dark:border-neutral-800 flex items-center gap-2 transition-colors",children:[s.jsx(mi,{size:16,className:"text-gold-500"}),s.jsx("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-wider transition-colors",children:y("settings.security")})]}),s.jsxs("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800 transition-colors",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:s.jsx(Zb,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:y("settings.biometric")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.biometricDesc")})]})]}),s.jsx("button",{onClick:()=>A(!j),children:j?s.jsx(ah,{size:32,className:"text-gold-500"}):s.jsx(rh,{size:32,className:"text-neutral-400"})})]}),s.jsxs("button",{onClick:()=>{if(N)window.confirm("Disable Security PIN?")&&O();else{const ue=window.prompt("Set 4-digit PIN");(ue==null?void 0:ue.length)===4&&!isNaN(Number(ue))?(S(ue),alert("PIN Set Successfully")):ue&&alert("PIN must be 4 digits")}},className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 transition-colors",children:s.jsx(Ga,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors",children:N?"Remove PIN":"Set Setup PIN"}),s.jsx("p",{className:"text-xs text-neutral-500",children:N?"Tap to disable App Lock":"Tap to enable App Lock"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gold-500",children:[N&&s.jsx("span",{className:"text-xs font-mono bg-gold-500/10 px-2 py-1 rounded",children:"ACTIVE"}),s.jsx(Js,{size:16,className:"text-neutral-500"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl overflow-hidden transition-colors duration-300",children:[s.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-950/50 border-b border-neutral-200 dark:border-neutral-800 flex items-center gap-2 transition-colors",children:[s.jsx(CN,{size:16,className:"text-gold-500"}),s.jsx("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white uppercase tracking-wider transition-colors",children:y("settings.dataSovereignty")})]}),s.jsxs("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800 transition-colors",children:[s.jsxs("button",{onClick:pe,className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 group-hover:text-gold-500 group-hover:bg-gold-500/10 transition-colors",children:s.jsx(Za,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors group-hover:text-gold-500",children:y("settings.termReconcile")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.termReconcileDesc")})]})]}),s.jsx(Js,{size:16,className:"text-neutral-400"})]}),s.jsxs("button",{onClick:H,className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 group-hover:text-gold-500 group-hover:bg-gold-500/10 transition-colors",children:s.jsx(Vb,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors group-hover:text-gold-500",children:y("settings.backup")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.backupDesc")})]})]}),s.jsx(Js,{size:16,className:"text-neutral-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",ref:z,accept:".json",className:"hidden",onChange:ae}),s.jsxs("button",{onClick:()=>{var ue;return(ue=z.current)==null?void 0:ue.click()},className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 group-hover:text-blue-500 group-hover:bg-blue-500/10 transition-colors",children:s.jsx(ly,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors group-hover:text-blue-500",children:y("settings.restore")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.restoreDesc")})]})]}),s.jsx(Js,{size:16,className:"text-neutral-400"})]})]}),s.jsxs("button",{onClick:$,className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-neutral-400 group-hover:text-green-500 group-hover:bg-green-500/10 transition-colors",children:s.jsx(mN,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-neutral-900 dark:text-white transition-colors group-hover:text-green-500",children:y("settings.exportCsv")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.exportCsvDesc")})]})]}),s.jsx(Js,{size:16,className:"text-neutral-400"})]}),s.jsx("button",{onClick:e,className:"w-full p-4 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors text-left group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-950 rounded-lg text-red-500 dark:text-red-400/20 dark:text-red-400 group-hover:bg-red-50 dark:group-hover:bg-red-400/20 transition-colors",children:s.jsx(or,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-red-600 dark:text-red-400 transition-colors",children:y("settings.factoryReset")}),s.jsx("p",{className:"text-xs text-neutral-500",children:y("settings.factoryResetDesc")})]})]})})]})]}),s.jsxs("button",{onClick:f,className:"w-full py-4 rounded-xl border border-neutral-200 dark:border-neutral-800 text-neutral-500 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-100 dark:hover:bg-neutral-900 transition-all text-sm font-bold flex items-center justify-center gap-2",children:[s.jsx(Xb,{size:16})," ",y("settings.signOut")]}),s.jsx("p",{className:"text-center text-[10px] text-neutral-500 font-mono pt-4",children:"AurumWolf v1.4.0  Encrypted"})]})]})},zv=({apiKey:e,onScanComplete:n})=>{const[a,i]=T.useState(!1),[o,u]=T.useState(null),d=async p=>{i(!0),u(null);try{const g=await f(p,1024),{aiClient:x}=await Ka(async()=>{const{aiClient:_}=await Promise.resolve().then(()=>Ja);return{aiClient:_}},void 0,import.meta.url),y=(await x.generateContent("gemini-2.0-flash",[{role:"user",parts:[{inlineData:{mimeType:"image/jpeg",data:g}},{text:`Analyze this receipt image. Extract as many details as possible:
                                - Total Amount (number only)
                                - Currency Code (ISO format like USD, MXN)
                                - Merchant Name
                                - Date (YYYY-MM-DD)
                                - Category (Choose best from: ${r0.map(_=>_.category).join(", ")})
                                - Description (Brief summary of items)
                                
                                Return null for any field that cannot be clearly identified.`}]}],{responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{amount:{type:"NUMBER",description:"Total transaction amount",nullable:!0},currency:{type:"STRING",description:"ISO 4217 currency code",nullable:!0},merchant:{type:"STRING",description:"Name of the merchant or business",nullable:!0},date:{type:"STRING",description:"Transaction date in YYYY-MM-DD format",nullable:!0},category:{type:"STRING",description:"Best matching category",nullable:!0},description:{type:"STRING",description:"Short description of purchased items",nullable:!0}}}})).text();if(y){const _=y.replace(/```json\n?|\n?```/g,"").trim(),w=JSON.parse(_);if(w.currency){const N=xn.find(j=>j.code===w.currency);N&&(w.currency=N.code)}n==null||n(w)}else throw new Error("No text returned from AI")}catch(g){console.error("Scanning failed",g);const x=g.message||"Scanning failed";u(x),x.includes("429")||x.includes("Quota")||x.includes("limit")?alert(` AI Traffic High (Rate Limit)

Google's free AI service is busy. Please wait 30-60 seconds and try again.`):alert("Error processing receipt: "+x)}finally{i(!1)}},f=(p,g)=>new Promise((x,b)=>{const y=new FileReader;y.readAsDataURL(p),y.onload=_=>{var N;const w=new Image;w.onload=()=>{const j=document.createElement("canvas");let A=w.width,S=w.height;A>S?A>g&&(S*=g/A,A=g):S>g&&(A*=g/S,S=g),j.width=A,j.height=S;const O=j.getContext("2d");O==null||O.drawImage(w,0,0,A,S);const I=j.toDataURL("image/jpeg",.8);x(I.split(",")[1])},w.onerror=b,w.src=(N=_.target)==null?void 0:N.result},y.onerror=b});return{isScanning:a,error:o,scanReceipt:d}},Iv=({isOpen:e,onClose:n,onConfirm:a,initialData:i,imagePreview:o,isProcessing:u=!1})=>{const[d,f]=T.useState(""),[p,g]=T.useState(""),[x,b]=T.useState(""),[y,_]=T.useState(""),[w,N]=T.useState("USD"),[j,A]=T.useState("");if(T.useEffect(()=>{var O;e&&i&&(f(((O=i.amount)==null?void 0:O.toString())||""),g(i.merchant||""),b(i.date||new Date().toISOString().split("T")[0]),_(i.category||""),N(i.currency||"USD"),A(i.description||""))},[e,i]),!e)return null;const S=O=>{O.preventDefault(),a({amount:parseFloat(d)||0,merchant:p,date:x,category:y,currency:w,description:j}),n()};return s.jsxs("div",{className:"fixed inset-0 z-[80] bg-neutral-950/90 backdrop-blur-md flex items-end md:items-center justify-center p-0 md:p-8 animate-fade-in",children:[s.jsxs("div",{className:"bg-white dark:bg-neutral-900 w-full max-w-5xl h-full md:h-[85vh] rounded-none md:rounded-3xl shadow-2xl flex overflow-hidden border border-neutral-200 dark:border-neutral-800 flex-col md:flex-row safe-pb",children:[s.jsxs("div",{className:"md:w-1/2 bg-neutral-950 relative flex items-center justify-center p-4 border-b md:border-b-0 md:border-r border-neutral-800",children:[o?s.jsx("img",{src:o,alt:"Receipt Preview",className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}):s.jsxs("div",{className:"text-neutral-500 flex flex-col items-center",children:[s.jsx(Ir,{size:48,className:"mb-2"}),s.jsx("p",{children:"No image preview available"})]}),s.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:"Original Image"})]}),s.jsxs("div",{className:"md:w-1/2 flex flex-col h-full bg-platinum-50 dark:bg-neutral-900/50",children:[s.jsxs("div",{className:"p-6 border-b border-platinum-200 dark:border-neutral-800 flex justify-between items-center bg-white dark:bg-neutral-900",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Verify Receipt"}),s.jsx("p",{className:"text-xs text-neutral-500",children:"Please check extracted data against the image."})]}),s.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-platinum-100 dark:hover:bg-neutral-800 text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar pb-32 md:pb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"label-text mb-1.5",children:"Currency"}),s.jsx("select",{value:w,onChange:O=>N(O.target.value),className:"input-field",children:xn.map(O=>s.jsx("option",{value:O.code,children:O.code},O.code))})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"label-text mb-1.5",children:"Total Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx(C_,{size:16,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"number",value:d,onChange:O=>f(O.target.value),className:"input-field pl-10 font-mono font-bold text-lg",placeholder:"0.00"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text mb-1.5",children:"Merchant Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(sy,{size:16,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"text",value:p,onChange:O=>g(O.target.value),className:"input-field pl-10",placeholder:"e.g. Starbucks"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text mb-1.5",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(qa,{size:16,className:"absolute left-3 top-3.5 text-neutral-500"}),s.jsx("input",{type:"date",value:x,onChange:O=>b(O.target.value),className:"input-field pl-10 [&::-webkit-calendar-picker-indicator]:opacity-0 absolute inset-0 opacity-0 z-10 w-full"}),s.jsx("input",{type:"text",value:x,readOnly:!0,className:"input-field pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text mb-1.5",children:"Category"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:r0.slice(0,8).map(O=>s.jsxs("button",{type:"button",onClick:()=>_(O.name),className:`p-2 rounded-xl text-xs font-bold border transition-all text-left flex items-center gap-2 ${y===O.name?"bg-gold-500 text-neutral-950 border-gold-500":"bg-white dark:bg-neutral-950 border-platinum-200 dark:border-neutral-800 text-neutral-500 hover:border-gold-500/50"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${O.color.replace("bg-","bg-")}`}),O.name]},O.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text mb-1.5",children:"Summary / Items"}),s.jsx("textarea",{value:j,onChange:O=>A(O.target.value),className:"input-field h-24 resize-none",placeholder:"Extracted line items..."})]})]}),s.jsxs("div",{className:"p-6 border-t border-platinum-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 flex gap-4",children:[s.jsx("button",{onClick:n,className:"flex-1 py-3 rounded-xl bg-platinum-100 dark:bg-neutral-800 text-neutral-900 dark:text-white font-bold hover:bg-platinum-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:S,disabled:!d||!p,className:"flex-1 py-3 rounded-xl bg-gold-500 text-neutral-950 font-bold hover:bg-gold-400 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[s.jsx(Vn,{size:18})," Confirm & Use"]})]})]})]}),s.jsx("style",{children:`
                .label-text {
                    @apply block text-xs font-bold text-neutral-500 uppercase tracking-wider;
                }
                .input-field {
                    @apply w-full bg-white dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 transition-all;
                }
            `})]})},pR=({onScanComplete:e,onCancel:n,t:a})=>{const[i,o]=T.useState(!1),[u,d]=T.useState(0),f=T.useRef(null),[p,g]=T.useState(null),[x,b]=T.useState(!1),[y,_]=T.useState(null),{isScanning:w,scanReceipt:N}=zv({onScanComplete:C=>{g(C),b(!0)}}),j=async C=>{const $=URL.createObjectURL(C);_($),await N(C),f.current&&(f.current.value="")},A=C=>{const $={amount:new Intl.NumberFormat("en-US",{style:"currency",currency:C.currency||"USD"}).format(C.amount||0),numericAmount:C.amount||0,currency:C.currency,name:C.merchant,date:C.date,category:C.category,description:C.description};e($),b(!1),_(null)},S=C=>{C.preventDefault(),C.stopPropagation(),d($=>$+1),C.dataTransfer.items&&C.dataTransfer.items.length>0&&o(!0)},O=C=>{C.preventDefault(),C.stopPropagation(),d($=>$-1),u===0&&o(!1)},I=C=>{C.preventDefault(),C.stopPropagation()},D=C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),d(0),C.dataTransfer.files&&C.dataTransfer.files.length>0){const $=C.dataTransfer.files[0];j($)}},z=C=>{C.target.files&&C.target.files.length>0&&j(C.target.files[0])};return s.jsxs("div",{className:"animate-fade-in max-w-2xl mx-auto pb-20 md:pb-0 h-[85vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-display font-bold text-white flex items-center gap-2",children:[s.jsx(hi,{size:24,className:"text-gold-500"})," ",a("scan.title")]}),s.jsx("p",{className:"text-neutral-500 text-sm",children:a("scan.subtitle")})]}),s.jsx("button",{onClick:n,className:"p-2 rounded-full bg-neutral-900 border border-neutral-800 text-neutral-400 hover:text-white transition-colors",children:s.jsx(Dt,{size:20})})]}),s.jsxs("div",{className:`
            relative flex-1 rounded-[1.5rem] md:rounded-3xl border-2 border-dashed transition-all duration-300 flex flex-col items-center justify-center p-4 md:p-8 overflow-hidden group
            ${i?"border-gold-500 bg-gold-500/10 scale-[1.02]":"border-neutral-800 bg-neutral-900/50 hover:bg-neutral-900 hover:border-neutral-700"}
        `,onDragEnter:S,onDragLeave:O,onDragOver:I,onDrop:D,onClick:()=>{var C;return!w&&((C=f.current)==null?void 0:C.click())},children:[s.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*,application/pdf",onChange:z}),w?s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute inset-0 bg-gold-500 blur-xl opacity-20 animate-pulse"}),s.jsx(hi,{size:64,className:"text-gold-500 animate-pulse relative z-10"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gold-400 shadow-[0_0_15px_#D4AF37] animate-[scan_2s_ease-in-out_infinite]"})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:a("scan.analyzing")}),s.jsxs("p",{className:"text-neutral-500 text-sm flex items-center gap-2",children:[s.jsx(Fn,{size:14,className:"animate-spin"})," ",a("scan.extracting")]})]}):s.jsxs("div",{className:"flex flex-col items-center z-10 pointer-events-none",children:[s.jsx("div",{className:`
                    w-20 h-20 rounded-3xl bg-neutral-950 border border-neutral-800 flex items-center justify-center mb-6 shadow-2xl transition-transform duration-500
                    ${i?"scale-110 border-gold-500 text-gold-500":"text-neutral-500 group-hover:text-white group-hover:border-neutral-600"}
                 `,children:s.jsx(ly,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:a(i?"scan.dragDrop":"scan.tapDrop")}),s.jsx("p",{className:"text-neutral-500 text-sm max-w-xs text-center mb-8",children:a("scan.supports")}),s.jsxs("div",{className:"flex gap-4 pointer-events-auto",children:[s.jsxs("button",{type:"button",onClick:C=>{C.stopPropagation(),f.current&&(f.current.removeAttribute("capture"),f.current.setAttribute("capture","environment"),f.current.click())},className:"px-5 py-2.5 rounded-xl bg-gold-500 hover:bg-gold-400 text-neutral-950 font-bold text-sm flex items-center gap-2 transition-all shadow-lg hover:shadow-[0_0_20px_rgba(212,175,55,0.3)]",children:[s.jsx(Tc,{size:16})," ",a("scan.openCamera")]}),s.jsxs("button",{type:"button",onClick:C=>{C.stopPropagation(),f.current&&(f.current.removeAttribute("capture"),f.current.click())},className:"px-5 py-2.5 rounded-xl bg-neutral-800 hover:bg-neutral-700 text-white font-bold text-sm flex items-center gap-2 border border-neutral-700 transition-all",children:[s.jsx(PN,{size:16})," ",a("scan.uploadFile")]})]})]}),s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0)",backgroundSize:"24px 24px"}})]}),s.jsx("style",{children:`
        @keyframes scan {
            0% { top: 0; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }
      `}),s.jsx(Iv,{isOpen:x,onClose:()=>b(!1),onConfirm:A,initialData:p,imagePreview:y})]})};class _l extends Error{constructor(n,a,i=!1){super(n),this.message=n,this.code=a,this.retryable=i,this.name="AIError"}}const Mv={generateContent:async(e,n,a)=>{var b;const{systemInstruction:i,tools:o,...u}=a||{},d={contents:n,generationConfig:u};i&&(d.systemInstruction=typeof i=="string"?{parts:[{text:i}]}:i),o&&(d.tools=o);const{data:{session:f}}=await Oe.auth.getSession();if(!f)throw new _l("Unauthorized: User must be logged in to use AI.","UNAUTHORIZED",!1);const p={model:e,...d,config:u},{data:g,error:x}=await Oe.functions.invoke("gemini-proxy",{body:p});if(x){console.error("Proxy Error:",x);const y=x.message||"",_=(b=x.context)==null?void 0:b.status;throw y.includes("429")||_===429?new _l("Quota Exceeded: The free AI model is currently busy. Please try again in a minute.","QUOTA_EXCEEDED",!0):y.includes("500")||_===500?new _l("AI Service Unavailable. Please try again later.","SERVER_ERROR",!0):new _l(`AI Proxy Error: ${y}. Check Supabase Logs.`,"UNKNOWN",!0)}return{text:()=>{var y,_,w,N,j;return((j=(N=(w=(_=(y=g.candidates)==null?void 0:y[0])==null?void 0:_.content)==null?void 0:w.parts)==null?void 0:N[0])==null?void 0:j.text)||""},functionCalls:()=>{var _,w,N;return(((N=(w=(_=g.candidates)==null?void 0:_[0])==null?void 0:w.content)==null?void 0:N.parts)||[]).filter(j=>j.functionCall).map(j=>j.functionCall)},audioData:()=>{var y,_,w,N,j,A;return(A=(j=(N=(w=(_=(y=g.candidates)==null?void 0:y[0])==null?void 0:_.content)==null?void 0:w.parts)==null?void 0:N[0])==null?void 0:j.inlineData)==null?void 0:A.data},raw:g}}},Ja=Object.freeze(Object.defineProperty({__proto__:null,AIError:_l,aiClient:Mv},Symbol.toStringTag,{value:"Module"})),gR=({initialData:e,accounts:n,transactions:a,onSave:i,onDelete:o,onCancel:u,t:d})=>{var kt,Pe;const{categories:f}=Pl(),{entities:p}=Bl(),[g,x]=T.useState((e==null?void 0:e.numericAmount)!==void 0?e.numericAmount.toString():e!=null&&e.amount?e.amount.replace(/[^0-9.]/g,""):""),[b,y]=T.useState((e==null?void 0:e.description)||""),[_,w]=T.useState((e==null?void 0:e.name)||""),[N,j]=T.useState((e==null?void 0:e.date)||new Date().toISOString().split("T")[0]),[A,S]=T.useState((e==null?void 0:e.type)||"debit"),[O,I]=T.useState((e==null?void 0:e.category)||""),[D,z]=T.useState((e==null?void 0:e.accountId)||((kt=n[0])==null?void 0:kt.id)||""),C=n.find(W=>W.id===D),[$,H]=T.useState((e==null?void 0:e.currency)||(C==null?void 0:C.currency)||"USD"),[Z,ae]=T.useState((e==null?void 0:e.exchangeRate)||1),[pe,ce]=T.useState(!!(e!=null&&e.exchangeRate)),[ue,me]=T.useState((e==null?void 0:e.isRecurring)||!1),[U,B]=T.useState((e==null?void 0:e.recurringFrequency)||"monthly"),[ne,de]=T.useState((e==null?void 0:e.recurringEndDate)||""),[oe,E]=T.useState(!!(e!=null&&e.business_id)),[P,Y]=T.useState((e==null?void 0:e.business_id)||""),[G,te]=T.useState(!!(e!=null&&e.splits)),[X,L]=T.useState(((Pe=e==null?void 0:e.splits)==null?void 0:Pe.map(W=>({...W,amount:W.amount.toString()})))||[]),[Q,fe]=T.useState(!1),[he,ye]=T.useState(null),[ge,_e]=T.useState(null),Re=T.useRef(null),{isScanning:He,scanReceipt:et}=zv({onScanComplete:W=>{ye(W),fe(!0)}}),[Wt,ct]=T.useState(!1),[en,rt]=T.useState(null),[tt,nn]=T.useState(null),[Qa,Lt]=T.useState(!1),yt=parseFloat(g)||0,Lr=$===(C==null?void 0:C.currency)?yt:yt*Z,Wa=X.reduce((W,Se)=>W+(parseFloat(Se.amount)||0),0),Cn=yt-Wa,es=!G||Math.abs(Cn)<.01;T.useEffect(()=>{!D&&n.length>0&&z(n[0].id)},[n,D]);const ts=async()=>{var W,Se,Ue,ht,Dn,as;if(_){ct(!0),rt(null),nn(null);try{const cn=await Mv.generateContent("gemini-2.0-flash",[{role:"user",parts:[{text:`Locate this merchant: "${_}". Return the official address, full business name, and a suggested transaction category from this list: ${f.map(hr=>hr.category).join(", ")}.`}]}],{tools:[{google_search_retrieval:{dynamic_retrieval_config:{mode:"MODE_DYNAMIC",dynamic_threshold:.3}}}]}),ba=cn.text(),yn=(Ue=(Se=(W=cn.raw)==null?void 0:W.candidates)==null?void 0:Se[0])==null?void 0:Ue.groundingMetadata,m0=yn==null?void 0:yn.searchEntryPoint,ss=f.find(hr=>ba.includes(hr.category));ss&&!O&&(I(ss.category),nn(ss.category));let ji="";if((as=(Dn=(ht=yn==null?void 0:yn.groundingChunks)==null?void 0:ht[0])==null?void 0:Dn.web)!=null&&as.uri&&(ji=yn.groundingChunks[0].web.uri),ba){const hr=ba.split(`
`)[0];rt({address:hr.substring(0,50)+(hr.length>50?"...":""),uri:ji||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(_)}`})}}catch(cn){console.error("Enrichment failed",cn)}finally{ct(!1)}}},ns=(W,Se)=>{const Ue=new Date(W);return Se==="daily"&&Ue.setDate(Ue.getDate()+1),Se==="weekly"&&Ue.setDate(Ue.getDate()+7),Se==="monthly"&&Ue.setMonth(Ue.getMonth()+1),Se==="yearly"&&Ue.setFullYear(Ue.getFullYear()+1),Ue.toISOString().split("T")[0]},nr=W=>{if(W.target.files&&W.target.files[0]){const Se=W.target.files[0];_e(URL.createObjectURL(Se)),et(Se)}},dr=W=>{W.amount!=null&&x(W.amount.toString()),W.merchant&&w(W.merchant),W.date&&j(W.date),W.category&&f.some(Se=>Se.category===W.category)&&I(W.category),W.description&&y(W.description),W.currency&&H(W.currency),fe(!1),ye(null)},Ht=W=>{if(W.preventDefault(),!g||!_)return;if(G&&!es){alert(d("transactionForm.splitError")||"Split amounts must equal the total transaction amount.");return}const Se=new Intl.NumberFormat("en-US",{style:"currency",currency:(C==null?void 0:C.currency)||"USD"}).format(Lr),Ue=G?"Split Transaction":O,ht=G?X.map(cn=>({id:cn.id,category:cn.category,amount:parseFloat(cn.amount)||0})):void 0,Dn=b||(G?X.map(cn=>`${cn.category}: ${cn.amount}`).join(", "):""),as={id:e?e.id:crypto.randomUUID(),accountId:D,name:_,amount:Se,numericAmount:parseFloat(Lr.toFixed(2)),currency:$,foreignAmount:yt,exchangeRate:Z,accountCurrency:C==null?void 0:C.currency,date:N,category:Ue,splits:ht,description:Dn,type:A,status:"completed",business_id:oe?P:void 0,isRecurring:ue,recurringFrequency:ue?U:void 0,nextRecurringDate:ue?ns(N,U):void 0,recurringEndDate:ue&&ne?ne:void 0};i(as)},Rn=W=>{W.preventDefault(),e&&e.id&&o&&window.confirm(d("common.confirmDelete"))&&o(e.id)},ut=xn.find(W=>W.code===$),rs=p.filter(W=>W.type==="store"||W.type==="real_estate"||W.type==="service"),dt=p.filter(W=>W.type==="channel"||W.type==="subsidiary");return T.useMemo(()=>{const W=Array.from(new Set(a.map(Se=>Se.description).filter(Boolean)));return b?W.filter(Se=>Se.toLowerCase().includes(b.toLowerCase())&&Se!==b).slice(0,5):W.slice(0,5)},[a,b]),s.jsxs("div",{className:"max-w-2xl mx-auto pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-neutral-900 dark:text-white",children:d(e?"transactionForm.titleEdit":"transactionForm.titleNew")}),s.jsxs("div",{className:"flex gap-2",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",onClick:()=>{var W;return(W=Re.current)==null?void 0:W.click()},disabled:He,className:"p-2 px-4 rounded-full bg-gold-500 hover:bg-gold-400 text-neutral-950 font-bold transition-all flex items-center gap-2 shadow-lg",children:[He?s.jsx(Fn,{size:16,className:"animate-spin"}):s.jsx(Tc,{size:16}),s.jsx("span",{className:"hidden md:inline",children:d(He?"transactionForm.scanning":"transactionForm.scanReceipt")})]}),s.jsx("input",{type:"file",ref:Re,className:"hidden",accept:"image/*",capture:"environment",onChange:nr})]}),s.jsx("button",{type:"button",onClick:u,className:"p-2 rounded-full bg-platinum-100 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:s.jsx(Dt,{size:20})})]})]}),s.jsxs("form",{onSubmit:Ht,className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-platinum-100 dark:bg-neutral-900 p-1.5 rounded-2xl border border-platinum-200 dark:border-neutral-800",children:[s.jsxs("button",{type:"button",onClick:()=>S("debit"),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold transition-all ${A==="debit"?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-lg":"text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300"}`,children:[s.jsx(V_,{size:18,className:A==="debit"?"text-red-500":""}),d("transactionForm.expense")]}),s.jsxs("button",{type:"button",onClick:()=>S("credit"),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold transition-all ${A==="credit"?"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white shadow-lg":"text-neutral-500 hover:text-neutral-900 dark:hover:text-neutral-300"}`,children:[s.jsx(q_,{size:18,className:A==="credit"?"text-green-500":""}),d("transactionForm.income")]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-2 uppercase tracking-wider",children:d("transactionForm.amount")}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:$,onChange:W=>{H(W.target.value),ce(!1)},className:"appearance-none bg-transparent text-2xl md:text-3xl font-mono font-bold text-gold-500 border-none outline-none text-right pr-6 cursor-pointer",children:xn.map(W=>s.jsx("option",{value:W.code,children:W.symbol},W.code))}),s.jsx("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[10px] text-neutral-600 pointer-events-none",children:""})]}),s.jsx("input",{type:"number",inputMode:"decimal",placeholder:"0.00",value:g,onChange:W=>x(W.target.value),className:"w-48 md:w-64 bg-transparent border-none text-center text-4xl sm:text-5xl md:text-6xl font-mono font-bold text-neutral-900 dark:text-white placeholder-platinum-300 dark:placeholder-neutral-800 focus:ring-0 outline-none p-0",autoFocus:!e})]}),$!==(C==null?void 0:C.currency)&&g&&s.jsx("div",{className:"mt-4 flex flex-col items-center justify-center animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-platinum-100 dark:bg-neutral-900 rounded-xl border border-platinum-200 dark:border-neutral-800",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-bold",children:d("transactionForm.rate")}),s.jsx("input",{type:"number",value:Z,onChange:W=>{ae(parseFloat(W.target.value)),ce(!0)},className:"w-16 bg-transparent text-right text-xs text-gold-500 font-mono outline-none border-b border-platinum-300 dark:border-neutral-700 focus:border-gold-500"})]}),s.jsx(Za,{size:14,className:"text-neutral-400 dark:text-neutral-600"}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"text-[10px] text-neutral-500 uppercase font-bold",children:[d("transactionForm.settlement")," (",C==null?void 0:C.currency,")"]}),s.jsx("p",{className:"text-sm text-neutral-900 dark:text-white font-bold font-mono",children:new Intl.NumberFormat("en-US",{style:"currency",currency:(C==null?void 0:C.currency)||"USD"}).format(Lr)})]})]})})]}),s.jsxs("div",{className:"bg-platinum-50 dark:bg-neutral-900/50 p-4 rounded-xl border border-platinum-200 dark:border-neutral-800 flex flex-col gap-3",children:[s.jsx("label",{className:"text-xs font-bold text-neutral-500 uppercase tracking-wider",children:d("transactionForm.chargeAccount")}),s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 custom-scrollbar",children:n.map(W=>{var Ue;let Se=ur;return W.type==="credit"?Se=Ml:W.type==="business"?Se=Xt:W.type==="savings"?Se=ey:W.type==="investment"?Se=Pt:W.type==="crypto"&&(Se=Fh),s.jsxs("button",{type:"button",onClick:()=>{z(W.id),ce(!1)},className:`relative flex flex-col justify-between p-4 rounded-2xl border transition-all shrink-0 w-44 h-28 overflow-hidden group ${D===W.id?"shadow-xl scale-105 ring-2 ring-offset-2 ring-gold-500 dark:ring-offset-neutral-950":"opacity-70 hover:opacity-100 hover:scale-[1.02]"} ${W.color&&W.color.includes("gradient")?W.color:"bg-neutral-900"}`,style:!((Ue=W.color)!=null&&Ue.includes("gradient"))&&W.color?{backgroundColor:W.color}:{},children:[D!==W.id&&s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors z-10"}),s.jsxs("div",{className:"flex justify-between items-start z-0 text-white/90",children:[s.jsx(Se,{size:18,className:"drop-shadow-md"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-80",children:W.institution||"Bank"})]}),s.jsxs("div",{className:"text-left z-0 text-white",children:[s.jsx("p",{className:"text-xs font-medium opacity-90 truncate",children:W.name}),s.jsxs("p",{className:"text-[10px] font-mono opacity-70",children:[" ",W.last4||"****"]}),D===W.id&&s.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-white text-gold-600 rounded-full flex items-center justify-center shadow-lg animate-fade-in",children:s.jsx(Vn,{size:12,strokeWidth:4})})]}),s.jsx("div",{className:"absolute -bottom-4 -right-4 w-20 h-20 bg-white/10 rounded-full blur-xl pointer-events-none"})]},W.id)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.merchantSource")}),s.jsxs("div",{className:"relative flex gap-2",children:[s.jsxs("div",{className:"relative group flex-1",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:s.jsx(sy,{size:16,className:"text-neutral-500 group-focus-within:text-gold-500 transition-colors"})}),s.jsx("input",{type:"text",value:_,onChange:W=>w(W.target.value),placeholder:d("transactionForm.merchantPlaceholder"),className:"w-full bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl focus:ring-1 focus:ring-gold-500 focus:border-gold-500 block pl-11 p-3 transition-all outline-none"})]}),s.jsx("button",{type:"button",onClick:ts,disabled:!_||Wt,className:"p-3 rounded-xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-gold-500 hover:bg-gold-500/10 hover:border-gold-500 transition-all disabled:opacity-50",title:d("transactionForm.findLocation"),children:Wt?s.jsx(Fn,{size:18,className:"animate-spin"}):s.jsx(lj,{size:18})})]}),en&&s.jsxs("a",{href:en.uri,target:"_blank",rel:"noreferrer",className:"mt-2 text-[10px] text-green-500 flex items-center gap-1 hover:underline",children:[s.jsx(Vn,{size:10})," ",d("transactionForm.locationFound")," ",s.jsx(Fb,{size:8})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.date")}),s.jsx("div",{className:"relative group",children:s.jsx("input",{type:"date",required:!0,value:N,onChange:W=>j(W.target.value),max:"2099-12-31",className:"w-full bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl focus:ring-1 focus:ring-gold-500 focus:border-gold-500 block px-4 p-3 transition-all outline-none [&::-webkit-calendar-picker-indicator]:invert-0 dark:[&::-webkit-calendar-picker-indicator]:invert"})})]})]}),s.jsxs("div",{className:"relative z-20",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.description")}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:s.jsx(ii,{size:16,className:"text-neutral-500 group-focus-within:text-gold-500 transition-colors"})}),s.jsx("textarea",{value:b,onChange:W=>y(W.target.value),onFocus:()=>Lt(!0),onBlur:()=>setTimeout(()=>Lt(!1),200),placeholder:d("transactionForm.descriptionPlaceholder"),rows:2,className:"w-full bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl focus:ring-1 focus:ring-gold-500 focus:border-gold-500 block pl-11 p-3 transition-all outline-none resize-none"})]})]}),G?s.jsxs("div",{className:"bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl p-4 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-neutral-900 dark:text-white flex items-center gap-2",children:[s.jsx(jg,{size:16,className:"text-gold-500"})," ",d("transactionForm.splitTitle")]}),s.jsx("button",{type:"button",onClick:()=>te(!1),className:"text-xs text-red-500 hover:text-red-400 font-medium",children:d("transactionForm.reset")})]}),s.jsx("div",{className:"space-y-3 mb-4",children:X.map(W=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("div",{className:"flex-1",children:s.jsx(qh,{compact:!0,value:W.category,onChange:Se=>{const Ue=X.map(ht=>ht.id===W.id?{...ht,category:Se}:ht);L(Ue)},placeholder:d("transactionForm.selectCategory")})}),s.jsxs("div",{className:"w-24 relative",children:[s.jsx("span",{className:"absolute left-2 top-2 text-neutral-500 text-xs",children:ut==null?void 0:ut.symbol}),s.jsx("input",{type:"number",value:W.amount,onChange:Se=>{const Ue=X.map(ht=>ht.id===W.id?{...ht,amount:Se.target.value}:ht);L(Ue)},className:"w-full bg-platinum-100 dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 rounded-xl py-2 pl-5 pr-2 text-xs text-neutral-900 dark:text-white focus:border-gold-500 outline-none text-right"})]}),s.jsx("button",{type:"button",onClick:()=>L(X.filter(Se=>Se.id!==W.id)),className:"p-2 text-neutral-500 hover:text-red-500",children:s.jsx(or,{size:14})})]},W.id))}),s.jsxs("div",{className:"flex items-center justify-between border-t border-platinum-200 dark:border-neutral-800 pt-3",children:[s.jsxs("button",{type:"button",onClick:()=>L([...X,{id:Date.now(),category:"",amount:""}]),className:"text-xs font-bold text-neutral-500 hover:text-neutral-900 dark:hover:text-white flex items-center gap-1",children:[s.jsx(Jt,{size:14})," ",d("transactionForm.addSplit")]}),s.jsxs("p",{className:`text-xs font-mono font-bold ${Math.abs(Cn)>.05?"text-red-500":"text-green-500"}`,children:[Cn>0?d("transactionForm.remaining")+": ":Cn<0?d("transactionForm.over")+": ":d("transactionForm.matched")+": "," ",ut==null?void 0:ut.symbol,Math.abs(Cn).toFixed(2)]})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx(qh,{value:O,onChange:I}),tt&&tt!==O&&s.jsxs("button",{type:"button",onClick:()=>I(tt),className:"absolute right-0 -top-8 bg-gold-500/10 border border-gold-500/20 text-gold-500 text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1 hover:bg-gold-500/20 transition-all animate-fade-in",children:[s.jsx(ej,{size:10})," ",d("transactionForm.suggested"),": ",tt]}),s.jsxs("button",{type:"button",onClick:()=>te(!0),className:"absolute top-0 right-0 text-[10px] text-gold-500 hover:text-gold-400 font-bold flex items-center gap-1 mt-1 uppercase tracking-wide transition-colors",children:[s.jsx(jg,{size:12})," ",d("transactionForm.splitTransaction")]})]}),s.jsxs("div",{className:"bg-platinum-50 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl overflow-hidden transition-all",children:[s.jsxs("button",{type:"button",onClick:()=>me(!ue),className:"w-full p-4 flex items-center justify-between hover:bg-white dark:hover:bg-neutral-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg transition-colors ${ue?"bg-gold-500 text-neutral-950":"bg-platinum-200 dark:bg-neutral-950 text-neutral-500"}`,children:s.jsx(vh,{size:18})}),s.jsx("div",{className:"text-left",children:s.jsx("p",{className:`text-sm font-bold ${ue?"text-gold-500":"text-neutral-500 dark:text-neutral-400"}`,children:d("transactionForm.recurringPayment")})})]}),s.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${ue?"bg-gold-500":"bg-platinum-300 dark:bg-neutral-800"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all duration-300 ${ue?"left-6":"left-1"}`})})]}),ue&&s.jsx("div",{className:"p-4 pt-0 animate-fade-in border-t border-platinum-200 dark:border-neutral-800 mt-2 bg-platinum-100 dark:bg-neutral-900/50",children:s.jsxs("div",{className:"pt-4 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.frequency")}),s.jsxs("select",{value:U,onChange:W=>B(W.target.value),className:"w-full bg-white dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500",children:[s.jsx("option",{value:"daily",children:d("common.frequencies.daily")}),s.jsx("option",{value:"weekly",children:d("common.frequencies.weekly")}),s.jsx("option",{value:"monthly",children:d("common.frequencies.monthly")}),s.jsx("option",{value:"yearly",children:d("common.frequencies.yearly")})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.endDate")}),s.jsx("input",{type:"date",value:ne,min:N,onChange:W=>de(W.target.value),className:"w-full bg-white dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500 [&::-webkit-calendar-picker-indicator]:invert-0 dark:[&::-webkit-calendar-picker-indicator]:invert"})]})]})})]}),s.jsxs("div",{className:"bg-platinum-50 dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 rounded-2xl overflow-hidden transition-all",children:[s.jsxs("button",{type:"button",onClick:()=>E(!oe),className:"w-full p-4 flex items-center justify-between hover:bg-white dark:hover:bg-neutral-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg transition-colors ${oe?"bg-gold-500 text-neutral-950":"bg-platinum-200 dark:bg-neutral-950 text-neutral-500"}`,children:s.jsx(Xt,{size:18})}),s.jsx("div",{className:"text-left",children:s.jsx("p",{className:`text-sm font-bold ${oe?"text-gold-500":"text-neutral-500 dark:text-neutral-400"}`,children:d("transactionForm.businessExpense")})})]}),s.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${oe?"bg-gold-500":"bg-platinum-300 dark:bg-neutral-800"}`,children:s.jsx("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all duration-300 ${oe?"left-6":"left-1"}`})})]}),oe&&s.jsx("div",{className:"p-4 pt-0 animate-fade-in border-t border-platinum-200 dark:border-neutral-800 mt-2 bg-platinum-100 dark:bg-neutral-900/50",children:s.jsxs("div",{className:"pt-4",children:[s.jsx("label",{className:"block text-xs font-bold text-neutral-500 mb-1.5 uppercase tracking-wider",children:d("transactionForm.assignEntity")}),s.jsxs("select",{value:P,onChange:W=>Y(W.target.value),className:"w-full bg-white dark:bg-neutral-950 border border-platinum-200 dark:border-neutral-800 text-neutral-900 dark:text-white text-sm rounded-xl p-3 outline-none focus:border-gold-500",children:[s.jsx("option",{value:"",children:d("transactionForm.selectBusiness")}),s.jsx("optgroup",{label:"Physical Stores",children:rs.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))}),s.jsx("optgroup",{label:"Digital Channels",children:dt.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))})]})]})})]}),s.jsxs("div",{className:"pt-6 flex gap-3 border-t border-platinum-200 dark:border-neutral-800 mt-6",children:[e&&o&&s.jsxs("button",{type:"button",onClick:Rn,className:"px-4 py-3.5 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 hover:bg-red-500/20 transition-all flex items-center justify-center gap-2 min-w-[100px] font-bold text-sm",children:[s.jsx(or,{size:18}),s.jsx("span",{children:d("transactionForm.delete")})]}),s.jsx("button",{type:"button",onClick:u,className:"flex-1 py-3.5 rounded-xl bg-white dark:bg-neutral-900 border border-platinum-200 dark:border-neutral-800 text-neutral-500 dark:text-neutral-400 font-bold text-sm hover:text-neutral-900 dark:hover:text-white hover:bg-platinum-50 dark:hover:bg-neutral-800 transition-all",children:d("transactionForm.cancel")}),s.jsxs("button",{type:"submit",disabled:!g||!_||!N||!es,className:"flex-[2] py-3.5 rounded-xl bg-gold-500 text-neutral-950 font-bold text-sm hover:bg-gold-400 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e?s.jsx(Vn,{size:18}):s.jsx(Jt,{size:18}),d(e?"transactionForm.update":"transactionForm.add")]})]})]}),s.jsx(Iv,{isOpen:Q,onClose:()=>fe(!1),onConfirm:dr,initialData:he,imagePreview:ge})]})},xR=(e,n,a)=>{const i=e.reduce((u,d)=>u+Qe(d.balance,d.currency,a),0),o=n.reduce((u,d)=>u+Qe(d.currentValue,d.currency||"USD",a),0);return i+o},bR=(e,n,a)=>{const i=new Date,o=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;return e.map(u=>{const d=Fy(u.category),f=n.filter(p=>{if(p.category==="Transfer")return!1;const g=d.includes(p.category),x=p.date.startsWith(o);return g&&x}).reduce((p,g)=>{const x=g.accountCurrency||g.currency,b=Qe(g.numericAmount||0,x,a);if(u.type==="income"){if(g.type==="credit")return p+b;if(g.type==="debit")return p-b}else{if(g.type==="debit")return p+b;if(g.type==="credit")return p-b}return p},0);return{...u,spent:Math.max(0,f)}})},yR=(e,n,a)=>e.map(i=>{const o=n.filter(x=>x.business_id===i.id),u=o.filter(x=>x.type==="credit").reduce((x,b)=>x+Qe(b.numericAmount||0,b.accountCurrency||b.currency||"USD",a),0),d=o.filter(x=>x.type==="debit").reduce((x,b)=>x+Qe(b.numericAmount||0,b.accountCurrency||b.currency||"USD",a),0),f=u-d,p=u>0?f/u*100:0;return{...i,metrics:{revenue:u,expenses:d,profit:f,margin:p,trend:0}}}),vR=({transactions:e,accounts:n,budgets:a,investments:i,businessEntities:o,baseCurrency:u,language:d="en"})=>{const f=d==="es"?"es-MX":"en-US",p=T.useMemo(()=>xR(n,i,u),[n,i,u]),g=T.useMemo(()=>bR(a,e,u),[a,e,u]),x=T.useMemo(()=>yR(o,e,u),[o,e,u]),b=T.useMemo(()=>{const D=n.reduce((z,C)=>{const $=C.type==="checking"||C.type==="savings"?"Cash":C.type==="business"?"Business":C.type==="crypto"?"Crypto":C.type==="investment"?"Equities":C.type==="credit"?"Debt":"Other";return z[$]||(z[$]=0),z[$]+=Qe(C.balance,C.currency,u),z},{});return i.forEach(z=>{let C="Other";z.type==="stock"||z.type==="etf"||z.type==="bond"?C="Equities":z.type==="real_estate"?C="Real Estate":z.type==="crypto"?C="Crypto":z.type==="startup"&&(C="Venture"),D[C]||(D[C]=0),D[C]+=Qe(z.currentValue,z.currency||"USD",u)}),D},[n,i,u]),y=Object.entries(b).filter(([D,z])=>z>0&&D!=="Debt").reduce((D,[z,C])=>D+C,0),_=T.useMemo(()=>{const D=new Date;D.setDate(D.getDate()-30);const z=D.toISOString().split("T")[0],C=e.filter(Z=>Z.date>=z&&Z.category!=="Transfer"&&Z.category!=="Credit Card Payment"&&Z.category!=="Adjustment"&&Z.category!=="Starting Balance"),$=C.filter(Z=>Z.type==="credit").reduce((Z,ae)=>Z+Qe(ae.numericAmount,ae.currency||"USD",u),0),H=C.filter(Z=>Z.type==="debit").reduce((Z,ae)=>Z+Qe(ae.numericAmount,ae.currency||"USD",u),0);return $-H},[e,u]),w=T.useMemo(()=>{const D=new Date,z=new Date(D.getFullYear(),D.getMonth(),1).toISOString(),$=e.filter(me=>me.date>=z&&me.type==="debit"&&me.category!=="Adjustment").reduce((me,U)=>me+Qe(U.numericAmount,U.currency||"USD",u),0),H=a.reduce((me,U)=>me+Qe(U.limit,"USD",u),0),Z=e.filter(me=>me.date>=z&&me.type==="credit"&&me.category!=="Adjustment"&&me.category!=="Starting Balance").reduce((me,U)=>me+Qe(U.numericAmount,U.currency||"USD",u),0),ae=H>0?H:Z;b.Cash;const pe=Math.min(ae,b.Cash||0),ce=Math.max(0,pe-$),ue=pe>0?$/pe*100:0;return{spentThisMonth:$,totalBudgetLimit:H,leftToSpend:ce,progress:ue,safeLimit:ae}},[e,a,u]),N=T.useMemo(()=>{const D=b.Cash||0,z=y,C=Math.abs(b.Debt||0),$=Math.abs(_<0?_:e.filter(oe=>oe.type==="debit"&&oe.date>=new Date(Date.now()-30*864e5).toISOString()&&oe.category!=="Adjustment").reduce((oe,E)=>oe+Qe(E.numericAmount,E.currency||"USD",u),0))||1,H=e.filter(oe=>oe.type==="credit"&&oe.date>=new Date(Date.now()-30*864e5).toISOString()&&oe.category!=="Adjustment"&&oe.category!=="Starting Balance"&&oe.name!=="Starting Balance"&&oe.name!=="Balance Adjustment").reduce((oe,E)=>oe+Qe(E.numericAmount,E.currency||"USD",u),0),Z=D/$,ae=Math.min(30,Z/6*30),pe=H>0?(H-$)/H:0,ce=Math.min(40,Math.max(0,pe/.4*40)),ue=z>0?C/z:0,me=Math.min(20,Math.max(0,20-ue*20)),U=Object.keys(b).filter(oe=>b[oe]>0&&oe!=="Debt").length,B=Math.min(10,U/4*10),ne=Math.round(ae+ce+me+B),de=e.length<5&&z===0;return{score:de?0:ne,details:{liquidity:Math.round(ae),savings:Math.round(ce),debt:Math.round(me),diversity:Math.round(B),monthsRunway:parseFloat(Z.toFixed(1)),savingsRatePct:Math.round(pe*100),debtRatioPct:Math.round(ue*100),classCount:U},isNew:de}},[b,y,_,e,u]),j=N.score,A=N,S=T.useMemo(()=>{const D=new Date,z=new Date(D.getFullYear(),D.getMonth(),1),C=new Date(D.getFullYear(),D.getMonth()-1,1),$=new Date(D.getFullYear(),D.getMonth(),0),H=e.filter(ce=>ce.date>=z.toISOString()&&ce.type==="debit"&&ce.category!=="Adjustment").reduce((ce,ue)=>ce+Qe(ue.numericAmount,ue.currency||"USD",u),0),Z=e.filter(ce=>ce.date>=C.toISOString()&&ce.date<=$.toISOString()&&ce.type==="debit"&&ce.category!=="Adjustment").reduce((ce,ue)=>ce+Qe(ue.numericAmount,ue.currency||"USD",u),0),ae=H-Z,pe=Z>0?ae/Z*100:0;return{currentMonthSpent:H,lastMonthSpent:Z,diff:ae,percent:pe}},[e,u]),O=T.useMemo(()=>{const D=[];for(let $=6;$>=0;$--){const H=new Date;H.setDate(H.getDate()-$),D.push({fullDate:H.toISOString().split("T")[0],label:H.toLocaleDateString(f,{weekday:"narrow"}),fullLabel:H.toLocaleDateString(f,{weekday:"long"})})}const z=D.map($=>{const H=e.filter(Z=>Z.date===$.fullDate&&Z.type==="debit").reduce((Z,ae)=>{const pe=ae.numericAmount||0,ce=Qe(pe,ae.accountCurrency||"USD",u);return Z+ce},0);return{...$,value:H}}),C=Math.max(...z.map($=>$.value),100);return z.map($=>({...$,height:Math.max($.value/C*100,4),formattedValue:be($.value,u,{locale:f}),displayIncome:be(e.filter(H=>H.date===$.fullDate&&H.type==="credit").reduce((H,Z)=>H+Qe(Z.numericAmount,Z.currency||"USD",u),0),u,{locale:f,compact:!0}),displayExpense:be(e.filter(H=>H.date===$.fullDate&&H.type==="debit").reduce((H,Z)=>H+Qe(Z.numericAmount,Z.currency||"USD",u),0),u,{locale:f,compact:!0})}))},[e,u,f]),I=T.useMemo(()=>{const D=new Date,z=new Date;z.setDate(D.getDate()+7);const C=D.toISOString().split("T")[0],$=z.toISOString().split("T")[0];return e.filter(H=>H.isRecurring&&H.nextRecurringDate&&H.nextRecurringDate>=C&&H.nextRecurringDate<=$).sort((H,Z)=>(H.nextRecurringDate||"").localeCompare(Z.nextRecurringDate||"")).slice(0,3)},[e]);return{netWorth:p,enrichedBudgets:g,enrichedEntities:x,assetsByType:b,monthlySurplus:_,budgetMetrics:w,healthScore:j,spendingTrend:S,chartData:O,upcomingBills:I,healthBreakdown:A}},wR=(e,n,a,i,o=!0)=>{const[u,d]=T.useState([]);return T.useEffect(()=>{if(!o){d([]);return}const f=new Date().toISOString().split("T")[0],p=[];n.forEach(g=>{if(g.type!=="income"&&g.limit>0&&g.spent>g.limit){const x=g.spent-g.limit;p.push({id:`budget-${g.id}`,title:`${i("budget.alert")}: ${g.category}`,message:`${i("budget.alertMessage")} ${be(x,a)}.`,type:"critical",timestamp:new Date,read:!1,actionLabel:"Adjust Plan",actionTab:"budget"})}}),e.forEach(g=>{if(g.isRecurring&&g.nextRecurringDate&&g.nextRecurringDate<=f){if(g.recurringEndDate&&g.nextRecurringDate>g.recurringEndDate)return;p.push({id:`rec-due-${g.id}-${g.nextRecurringDate}`,title:`Subscription Due: ${g.name}`,message:`${g.amount} is due today.`,type:"warning",timestamp:new Date,read:!1,actionLabel:"Pay Now",actionTab:"transactions",payload:{action:"payRecurring",transactionId:g.id}})}}),d(g=>{const x=new Set(g.map(y=>y.id)),b=p.filter(y=>!x.has(y.id));return b.length===0?g:[...b,...g].slice(0,10)})},[n,e,a]),{notifications:u,setNotifications:d}},_R=({transactions:e,accounts:n,addTransaction:a,updateTransaction:i,updateAccount:o,pendingRecurringId:u,setPendingRecurringId:d})=>{const f=(g,x)=>x==="daily"?Ux(g,1):x==="weekly"?Ux(g,7):x==="monthly"?wk(g,1):x==="yearly"?_k(g,1):g;return{handleSaveTransaction:(g,x)=>{let b,y=!!x;if(y?(b=e.find(N=>N.id===g.id),i(g)):a(g),u){const N=e.find(j=>j.id===u);if(N&&N.isRecurring&&N.recurringFrequency){const j=f(N.nextRecurringDate||N.date,N.recurringFrequency);i({...N,nextRecurringDate:j})}d(null)}let _=y?e.map(N=>N.id===g.id?g:N):[g,...e];const w=new Set;w.add(g.accountId),b&&w.add(b.accountId),w.forEach(N=>{const j=n.find(A=>A.id===N);if(j){const A=Yy(j,_);A!==j.balance&&o({...j,balance:A})}})}}};class NR{constructor(){this.isInitialized=!1}init(){this.isInitialized||(this.isInitialized=!0,console.log("[ErrorService] Initialized"))}log(n,a="error",i={}){const o=new Date().toISOString(),u=n instanceof Error?n.message:n,d=n instanceof Error?n.stack:void 0,f={timestamp:o,severity:a,message:u,stack:d,context:i};a==="error"||a==="fatal"?console.error("[ErrorService]",JSON.stringify(f)):a==="warn"?console.warn("[ErrorService]",JSON.stringify(f)):console.log("[ErrorService]",JSON.stringify(f))}}const bh=new NR,jR=({transactions:e,accounts:n,addTransaction:a,deleteTransaction:i,updateAccount:o})=>{const u=T.useCallback(async(f,p,g,x)=>{const b=n.find(w=>w.id===f),y=n.find(w=>w.id===p);if(!b||!y){bh.log("Transfer failed: Account not found","error",{fromAccountId:f,toAccountId:p});return}const _=Qe(g,b.currency,y.currency);try{const{error:w,data:N}=await Oe.rpc("perform_transfer",{p_from_account_id:f,p_to_account_id:p,p_amount:g,p_date:x,p_description:"Transfer",p_currency:b.currency,p_converted_amount:_,p_to_currency:y.currency});if(w){bh.log(new Error("Atomic Transfer RPC Error"),"error",{supabaseError:w,fromAccountId:f,toAccountId:p}),alert("Transfer failed: "+w.message);return}}catch(w){bh.log(w,"error",{context:"handleTransfer exception"})}},[n,e,o]),d=T.useCallback(async f=>{const p=e.find(b=>b.id===f);if(!p)return;const g=p.transfer_link_id;let x=[f];if(g){const b=e.find(y=>y.transfer_link_id===g&&y.id!==f);b&&confirm("This is part of a transfer. Delete the other side as well?")&&x.push(b.id)}for(const b of x)await i(b);window.location.reload()},[e,n,i,o]);return{handleTransfer:u,handleDeleteTransaction:d}},kR=()=>{const{isLocked:e,verifyPin:n,biometricsEnabled:a,unlock:i,verifyBiometrics:o,lastBiometricError:u}=$l(),[d,f]=T.useState(""),[p,g]=T.useState(!1),[x,b]=T.useState(!1);T.useEffect(()=>{window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(S=>b(S))},[]),T.useEffect(()=>{d.length===4&&y(d)},[d]);const y=async S=>{await n(S)?(f(""),g(!1)):(g(!0),f(""),setTimeout(()=>g(!1),500))},_=S=>{d.length<4&&f(O=>O+S)},w=()=>{f(S=>S.slice(0,-1))},[N,j]=T.useState(""),A=async()=>{j("Verifying..."),await o()?(j("Success"),i()):(j(u||"Not Recognized"),setTimeout(()=>j(""),2500))};return e?s.jsxs("div",{className:"fixed inset-0 z-[100] bg-neutral-950 flex flex-col items-center justify-center text-white animate-fade-in px-6",children:[s.jsxs("div",{className:"mb-8 flex flex-col items-center gap-4",children:[s.jsx("div",{className:"p-4 bg-gold-500/10 rounded-full text-gold-500 border border-gold-500/20",children:s.jsx(Ga,{size:48})}),s.jsx("h2",{className:"text-2xl font-display font-bold",children:"AurumWolf Locked"}),s.jsx("p",{className:"text-neutral-400 text-sm",children:"Enter PIN or use Biometrics"})]}),s.jsx("div",{className:"flex gap-4 mb-10",children:[...Array(4)].map((S,O)=>s.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-300 ${O<d.length?"bg-gold-500 scale-110 shadow-[0_0_10px_rgba(234,179,8,0.5)]":"bg-neutral-800 border border-neutral-700"} ${p?"animate-shake bg-red-500":""}`},O))}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[[1,2,3,4,5,6,7,8,9].map(S=>s.jsx("button",{onClick:()=>_(S),className:"w-16 h-16 rounded-full bg-neutral-800/50 border border-neutral-700 text-xl font-bold hover:bg-gold-500 hover:text-neutral-900 hover:border-gold-500 transition-all active:scale-95 flex items-center justify-center backdrop-blur-sm",children:S},S)),s.jsx("button",{onClick:()=>_(0),className:"col-start-2 w-16 h-16 rounded-full bg-neutral-800/50 border border-neutral-700 text-xl font-bold hover:bg-gold-500 hover:text-neutral-900 hover:border-gold-500 transition-all active:scale-95 flex items-center justify-center backdrop-blur-sm",children:"0"}),s.jsx("div",{className:"flex items-center justify-center col-start-3",children:s.jsx("button",{onClick:w,className:"w-16 h-16 rounded-full text-neutral-400 flex items-center justify-center hover:text-white transition-all active:scale-95",children:s.jsx(sN,{size:24})})})]}),a&&x&&s.jsxs("button",{onClick:A,className:"w-full max-w-[260px] py-4 rounded-2xl bg-gold-500 text-neutral-950 font-bold text-lg flex items-center justify-center gap-3 shadow-[0_0_30px_rgba(212,175,55,0.2)] hover:shadow-[0_0_40px_rgba(212,175,55,0.4)] transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:[s.jsx(Zb,{size:24}),"Unlock with FaceID"]}),N&&s.jsx("div",{className:"text-sm font-bold text-gold-500 mt-4 animate-pulse",children:N})]}):null},SR=()=>{const{isLocked:e}=$l(),[n,a]=T.useState(document.visibilityState==="hidden");return T.useEffect(()=>{const o=()=>{a(document.visibilityState==="hidden")};return document.addEventListener("visibilitychange",o),()=>document.removeEventListener("visibilitychange",o)},[]),n?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-neutral-950/80 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-fade-in",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gold-500/20 blur-[50px] rounded-full"}),s.jsxs("div",{className:"relative bg-neutral-900 border border-neutral-800 p-8 rounded-3xl shadow-2xl flex flex-col items-center text-center max-w-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-2xl flex items-center justify-center mb-6 text-gold-500",children:e?s.jsx(Ga,{size:32}):s.jsx(Kh,{size:32})}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:e?"AurumWolf Locked":"Privacy Shield Active"}),s.jsx("p",{className:"text-neutral-400 text-sm",children:e?"Session secured. Please authenticate to resume.":"Content hidden for your privacy."})]})]})}):null};function $b({t:e}){const[n,a]=T.useState(""),[i,o]=T.useState(""),[u,d]=T.useState(""),[f,p]=T.useState(!1),[g,x]=T.useState(null),[b,y]=T.useState("signin"),[_,w]=T.useState(null),{biometricsEnabled:N,verifyBiometrics:j}=$l(),A=async S=>{S.preventDefault(),p(!0),x(null),w(null);try{if(b==="signup"){const{error:O}=await Oe.auth.signUp({email:n,password:u,options:{data:{full_name:i}}});if(O)throw O;w("Check your email for the confirmation link!")}else if(b==="reset"){const{error:O}=await Oe.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/`});if(O)throw O;w("Password reset link sent to your email!")}else{const{error:O}=await Oe.auth.signInWithPassword({email:n,password:u});if(O)throw O}}catch(O){x(O.message)}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"w-full max-w-md bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-3xl p-6 sm:p-10 shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-[-50%] left-[-20%] w-[300px] h-[300px] bg-gold-500/10 rounded-full blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"text-center mb-8 flex flex-col items-center relative z-10",children:[s.jsx("div",{className:"mb-6 transform hover:scale-105 transition-transform duration-500",children:s.jsx(vi,{iconSize:"w-16 h-16 sm:w-20 sm:h-20",textSize:"text-xl sm:text-3xl",stacked:!0})}),s.jsx("p",{className:"text-slate-400 font-medium tracking-wide text-sm uppercase",children:b==="signin"?e("auth.signInTitle"):b==="reset"?"Reset Password":e("auth.signUpTitle")})]}),g&&s.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-3 text-red-400 text-sm",children:[s.jsx(yh,{size:18}),g]}),_&&s.jsxs("div",{className:"mb-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-lg flex items-center gap-3 text-emerald-400 text-sm",children:[s.jsx(yh,{size:18}),_]}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b==="signup"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:e("common.fullName")}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",required:!0,value:i,onChange:S=>o(S.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-2.5 text-slate-200 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all outline-none",placeholder:"John Doe",minLength:2})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:e("common.email")}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:s.jsx(sj,{size:18})}),s.jsx("input",{type:"email",required:!0,value:n,onChange:S=>a(S.target.value),className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-xl pl-11 pr-4 py-3.5 text-slate-200 focus:ring-2 focus:ring-amber-500/30 focus:border-amber-500 transition-all outline-none placeholder:text-slate-600",placeholder:"you@example.com"})]})]}),b!=="reset"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:e("common.password")}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:s.jsx(Ga,{size:18})}),s.jsx("input",{type:"password",required:!0,value:u,onChange:S=>d(S.target.value),className:"w-full bg-slate-950/50 border border-slate-700/50 rounded-xl pl-11 pr-4 py-3.5 text-slate-200 focus:ring-2 focus:ring-amber-500/30 focus:border-amber-500 transition-all outline-none placeholder:text-slate-600",placeholder:e("auth.passPlaceholder"),minLength:6})]})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-slate-950 font-bold py-2.5 rounded-lg transition-all transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?s.jsx(Fn,{className:"animate-spin",size:18}):b==="signin"?e("auth.signIn"):b==="reset"?"Send Reset Link":e("auth.signUp")})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[b==="signin"&&s.jsx("button",{type:"button",onClick:()=>y("reset"),className:"text-slate-500 hover:text-slate-400 text-sm font-medium transition-colors",children:"Forgot your password?"}),s.jsx("button",{type:"button",onClick:()=>y(b==="signin"?"signup":"signin"),className:"text-amber-500 hover:text-amber-400 text-sm font-medium transition-colors",children:b==="signin"?e("auth.noAccount")+" "+e("auth.signUp"):b==="reset"?"Back to Sign In":e("auth.haveAccount")+" "+e("auth.signIn")})]})})]})})}const ER=({t:e})=>{const[n,a]=T.useState(""),[i,o]=T.useState(""),[u,d]=T.useState(!1),[f,p]=T.useState(null),[g,x]=T.useState(!1),b=async y=>{if(y.preventDefault(),d(!0),p(null),n!==i){p("Passwords do not match"),d(!1);return}if(n.length<6){p("Password must be at least 6 characters"),d(!1);return}try{const{error:_}=await Oe.auth.updateUser({password:n});if(_)throw _;x(!0),setTimeout(()=>{window.location.href="/"},3e3)}catch(_){p(_.message)}finally{d(!1)}};return g?s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl p-8 text-center animate-fade-in shadow-2xl",children:[s.jsx("div",{className:"mb-6 flex justify-center text-emerald-500",children:s.jsx(Zh,{size:64})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Updated!"}),s.jsx("p",{className:"text-slate-400 mb-6",children:"Your password has been reset successfully. Redirecting you to the dashboard..."}),s.jsx("div",{className:"w-full bg-slate-800 h-1 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 animate-[width_3s_linear_forwards] w-0"})})]})}):s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:s.jsx(Ga,{size:120,className:"text-white"})}),s.jsxs("div",{className:"text-center mb-8 flex flex-col items-center relative z-10",children:[s.jsx("div",{className:"mb-4",children:s.jsx(vi,{iconSize:"w-12 h-12",textSize:"text-2xl"})}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Reset Password"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Please enter a new password for your account."})]}),f&&s.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-3 text-red-400 text-sm",children:[s.jsx(Ir,{size:18}),f]}),s.jsxs("form",{onSubmit:b,className:"space-y-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:s.jsx(Ga,{size:18})}),s.jsx("input",{type:"password",required:!0,value:n,onChange:y=>a(y.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all outline-none",placeholder:"Min. 6 characters",minLength:6})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:s.jsx(Ga,{size:18})}),s.jsx("input",{type:"password",required:!0,value:i,onChange:y=>o(y.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500/50 transition-all outline-none",placeholder:"Re-enter password",minLength:6})]})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-slate-950 font-bold py-2.5 rounded-lg transition-all transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-amber-900/20",children:u?s.jsx(Fn,{className:"animate-spin",size:18}):"Update Password"})]})]})})};function TR(){var ut,rs;const{user:e,profile:n,loading:a,signOut:i,passwordRecoveryMode:o}=pa(),{accounts:u,addAccount:d,updateAccount:f,deleteAccount:p,refreshAccounts:g}=_i(),{transactions:x,addTransaction:b,updateTransaction:y,deleteTransaction:_,refreshTransactions:w}=Ni(),{categories:N,addCategory:j,updateCategory:A,deleteCategory:S}=Pl(),{goals:O,addGoal:I,updateGoal:D,deleteGoal:z,refreshBudgets:C}=Tv(),{investments:$}=f0(),{entities:H,healthScores:Z}=Bl(),[ae,pe]=T.useState("home"),[ce,ue]=T.useState(()=>zr(pt.BASE_CURRENCY,"USD")),[me,U]=T.useState(()=>zr(pt.LANGUAGE,"en")),[B,ne]=T.useState(()=>zr(pt.NOTIFICATIONS_ENABLED,!0)),[de,oe]=T.useState(()=>zr(pt.PRIVACY,!1)),[E,P]=T.useState(""),[Y,G]=T.useState(!1),[te,X]=T.useState(null),[L,Q]=T.useState(null),[fe,he]=T.useState(null),[ye,ge]=T.useState(null),_e=T.useRef(!1);T.useEffect(()=>{_e.current||(iR(),_e.current=!0)},[]),T.useEffect(()=>{lr(pt.BASE_CURRENCY,ce),lr(pt.LANGUAGE,me),lr(pt.NOTIFICATIONS_ENABLED,B),lr(pt.PRIVACY,de)},[ce,me,B,de]);const{netWorth:Re,enrichedBudgets:He,enrichedEntities:et,assetsByType:Wt,monthlySurplus:ct,budgetMetrics:en,healthScore:rt,healthBreakdown:tt,spendingTrend:nn,chartData:Qa,upcomingBills:Lt}=vR({transactions:x,accounts:u,budgets:N,investments:$,businessEntities:H,baseCurrency:ce,language:me}),yt=T.useCallback(dt=>{const kt=dt.split(".");let Pe=r5[me];for(const W of kt)Pe=Pe==null?void 0:Pe[W];return Pe||dt},[me]),{notifications:Lr,setNotifications:Wa}=wR(x,He,ce,yt,B),{handleSaveTransaction:Cn}=_R({transactions:x,accounts:u,addTransaction:b,updateTransaction:y,updateAccount:f,pendingRecurringId:fe,setPendingRecurringId:he}),es=dt=>{Cn(dt,te),G(!1),X(null),ge(null)},{handleTransfer:ts,handleDeleteTransaction:ns}=jR({transactions:x,accounts:u,addTransaction:b,deleteTransaction:_,updateAccount:f}),nr=(dt,kt)=>{if(pe(dt),G(!1),X(null),ge(null),dt!=="transactions"&&Q(null),(kt==null?void 0:kt.action)==="newTransaction"&&G(!0),(kt==null?void 0:kt.action)==="payRecurring"&&kt.transactionId){const Pe=x.find(W=>W.id===kt.transactionId);if(Pe){const{recurringFrequency:W,nextRecurringDate:Se,recurringEndDate:Ue,...ht}=Pe,Dn={...ht,id:crypto.randomUUID(),date:cr(),isRecurring:!1,status:"completed"};X(Dn),he(kt.transactionId),G(!0)}}},dr=()=>{var dt,kt;if(a)return s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})});if(!e)return s.jsx($b,{t:yt});if(Y)return s.jsx(gR,{initialData:te||ye,accounts:u,transactions:x,onSave:es,onDelete:ns,onCancel:()=>{G(!1),X(null),ge(null),he(null)},t:yt});switch(ae){case"home":return s.jsx(TC,{netWorth:Re,onNavigate:nr,privacyMode:de,baseCurrency:ce,t:yt,language:me,assetsByType:Wt,monthlySurplus:ct,budgetMetrics:en,healthScore:rt,spendingTrend:nn,chartData:Qa,upcomingBills:Lt,healthBreakdown:tt});case"accounts":return s.jsx(zC,{onEditTransaction:Pe=>{X(Pe),G(!0)},onTransfer:ts,onAddAccount:d,onUpdateAccount:f,onDeleteAccount:p,onViewHistory:Pe=>{Q(Pe),nr("transactions")},privacyMode:de,baseCurrency:ce,t:yt});case"transactions":return s.jsx(MC,{onEditTransaction:Pe=>{X(Pe),G(!0)},onNewTransaction:()=>{X(null),G(!0)},onDeleteTransaction:ns,onScan:()=>nr("scan"),onStopRecurring:Pe=>{const W=x.find(Se=>Se.id===Pe);W&&y({...W,isRecurring:!1,recurringFrequency:void 0,nextRecurringDate:void 0})},initialAccountId:L,t:yt});case"budget":return s.jsx(VC,{budgets:He,onUpdateBudget:A,onAddBudget:Pe=>{const{id:W,spent:Se,user_id:Ue,...ht}=Pe;j(ht)},onDeleteBudget:S,goals:O,onUpdateGoal:D,onAddGoal:I,onDeleteGoal:z,onContributeToGoal:(Pe,W)=>{const Se=O.find(Ue=>Ue.id===Pe);Se&&D({...Se,savedAmount:Se.savedAmount+W})},transactions:x,privacyMode:de,baseCurrency:ce,t:yt});case"business":return s.jsx(YC,{baseCurrency:ce,t:yt});case"investments":return s.jsx(XC,{baseCurrency:ce,t:yt});case"reports":return s.jsx(sR,{transactions:x,accounts:u,businessEntities:et,healthScores:Z,investments:$,baseCurrency:ce,convertAmount:(Pe,W,Se)=>Qe(Pe,W,Se),t:yt});case"scan":return s.jsx(pR,{onScanComplete:Pe=>{ge(Pe),nr("transactions"),G(!0)},onCancel:()=>nr("home"),t:yt});case"settings":return s.jsx(mR,{transactions:x,accounts:u,investments:$,onReset:()=>{lR(),window.location.reload()},baseCurrency:ce,onCurrencyChange:ue,onLanguageChange:U,currentLanguage:me,notificationsEnabled:B,onToggleNotifications:()=>ne(!B),onSignOut:()=>i(),onReconcile:()=>{u.map(W=>{const Se=Yy(W,x);return Se!==W.balance?{...W,balance:Se}:null}).filter(Boolean).forEach(W=>f(W))},userName:(n==null?void 0:n.full_name)||((dt=e==null?void 0:e.user_metadata)==null?void 0:dt.full_name)||((kt=e==null?void 0:e.email)==null?void 0:kt.split("@")[0])||"Auth User",userEmail:e==null?void 0:e.email,t:yt});default:return null}},Ht=a,Rn=!e&&!a;return s.jsxs(NC,{children:[s.jsx(kR,{}),s.jsx(SR,{}),Ht?s.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}):o?s.jsx(ER,{t:yt}):Rn?s.jsx($b,{t:yt}):s.jsx(p5,{activeTab:ae,onTabChange:nr,onNewTransaction:()=>{X(null),G(!0)},privacyMode:de,onTogglePrivacy:()=>oe(!de),transactions:x,accounts:u,budgets:He,investments:$,notifications:Lr,onClearNotifications:()=>Wa([]),onAddBudget:dt=>{const{id:kt,spent:Pe,user_id:W,...Se}=dt,Ue=N.find(ht=>ht.category===dt.category);Ue?A({...Ue,limit:dt.limit,type:dt.type,color:dt.color,icon_key:dt.icon_key}):j(Se)},onAddTransactionData:dt=>{ge(dt),pe("transactions"),G(!0)},userName:(n==null?void 0:n.full_name)||((ut=e==null?void 0:e.user_metadata)==null?void 0:ut.full_name)||((rs=e==null?void 0:e.email)==null?void 0:rs.split("@")[0])||"Auth User",userEmail:e==null?void 0:e.email,t:yt,onSignOut:()=>i(),language:me,isLoading:a,children:dr()})]})}const AR=a_.createRoot(document.getElementById("root"));AR.render(s.jsx(Vh.StrictMode,{children:s.jsx(w5,{children:s.jsx(yC,{children:s.jsx(vC,{children:s.jsx(CC,{children:s.jsx(_C,{children:s.jsx(LC,{children:s.jsx(wC,{children:s.jsx(TR,{})})})})})})})})}));
